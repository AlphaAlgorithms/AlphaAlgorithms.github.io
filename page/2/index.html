<!DOCTYPE html>












  


<html class="theme-next mist use-motion" lang>
<head><meta name="generator" content="Hexo 3.8.0">
  <meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
























<link rel="stylesheet" href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2">

<link rel="stylesheet" href="/css/main.css?v=7.1.1">


  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png?v=7.1.1">


  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png?v=7.1.1">


  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png?v=7.1.1">


  <link rel="mask-icon" href="/images/logo.svg?v=7.1.1" color="#222">







<script id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Mist',
    version: '7.1.1',
    sidebar: {"position":"left","display":"post","offset":12,"onmobile":false,"dimmer":false},
    back2top: true,
    back2top_sidebar: false,
    fancybox: false,
    fastclick: false,
    lazyload: false,
    tabs: true,
    motion: {"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>


  




  <meta property="og:type" content="website">
<meta property="og:title" content="AlphaAlgorithms">
<meta property="og:url" content="https://alphaalgorithms.github.io/page/2/index.html">
<meta property="og:site_name" content="AlphaAlgorithms">
<meta property="og:locale" content="default">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="AlphaAlgorithms">





  
  
  <link rel="canonical" href="https://alphaalgorithms.github.io/page/2/">



<script id="page.configurations">
  CONFIG.page = {
    sidebar: "",
  };
</script>

  <title>AlphaAlgorithms</title>
  












  <noscript>
  <style>
  .use-motion .motion-element,
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-title { opacity: initial; }

  .use-motion .logo,
  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>

</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="default">

  
  
    
  

  <div class="container sidebar-position-left 
  page-home">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta">
    

    <div class="custom-logo-site-title">
      <a href="/" class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">AlphaAlgorithms</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
    
    
  </div>

  <div class="site-nav-toggle">
    <button aria-label="Toggle navigation bar">
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>



<nav class="site-nav">
  
    <ul id="menu" class="menu">
      
        
        
        
          
          <li class="menu-item menu-item-home">

    
    
    
      
    

    
      
    

    <a href="/" rel="section"><i class="menu-item-icon fa fa-fw fa-home"></i> <br>Home</a>

  </li>
        
        
        
          
          <li class="menu-item menu-item-tags">

    
    
    
      
    

    
      
    

    <a href="/tags/" rel="section"><i class="menu-item-icon fa fa-fw fa-tags"></i> <br>Tags<span class="badge">18</span></a>

  </li>
        
        
        
          
          <li class="menu-item menu-item-categories">

    
    
    
      
    

    
      
    

    <a href="/categories/" rel="section"><i class="menu-item-icon fa fa-fw fa-th"></i> <br>Categories<span class="badge">8</span></a>

  </li>
        
        
        
          
          <li class="menu-item menu-item-archives">

    
    
    
      
    

    
      
    

    <a href="/archives/" rel="section"><i class="menu-item-icon fa fa-fw fa-archive"></i> <br>Archives<span class="badge">14</span></a>

  </li>

      
      
    </ul>
  

  
    

  

  
</nav>



  



</div>
    </header>

    


    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          
          <div id="content" class="content">
            
  <section id="posts" class="posts-expand">
    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://alphaalgorithms.github.io/2019/05/13/time-presentation/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Gabriel">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="AlphaAlgorithms">
    </span>

    
      <header class="post-header">

        
        
          <h2 class="post-title" itemprop="name headline">
                
                
                <a href="/2019/05/13/time-presentation/" class="post-title-link" itemprop="url">时间变量的顺序与时间表示的格式</a>
              
            
          </h2>
        

        <div class="post-meta">
          <span class="post-time">

            
            
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              

              
                
              

              <time title="Created: 2019-05-13 09:06:10" itemprop="dateCreated datePublished" datetime="2019-05-13T09:06:10+08:00">2019-05-13</time>
            

            
              

              
                
                <span class="post-meta-divider">|</span>
                

                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                
                  <span class="post-meta-item-text">Edited on</span>
                
                <time title="Modified: 2019-05-15 22:00:39" itemprop="dateModified" datetime="2019-05-15T22:00:39+08:00">2019-05-15</time>
              
            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/linux-system/" itemprop="url" rel="index"><span itemprop="name">linux - system</span></a></span>

                
                
              
            </span>
          

          
            
            
              
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <span class="post-meta-item-icon">
                  <i class="fa fa-comment-o"></i>
                </span>
            
                <span class="post-meta-item-text">Comments: </span>
                <a href="/2019/05/13/time-presentation/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count disqus-comment-count" data-disqus-identifier="2019/05/13/time-presentation/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="时间的感知"><a href="#时间的感知" class="headerlink" title="时间的感知"></a>时间的感知</h2><p>直觉对时间的感知, 是按照怎么的顺序解析的呢?<br>从早晨起床这个场景中,分析大脑解析时间的顺序.</p>
<p>似乎理所当然的一点,Hour(时)排在最前面,Hour:Minute的组合是醒来后第一时间想要获得的信息,以判断上班是否迟到,是否有时间吃早餐?但是再想一层,上班是否迟到? 在处理Hour:Minute之前,潜意识已经先获取并处理完了一个信息:今天是周几?(Weekday).如果是周末的话,几点几分起床并不特别重要.<br>因此,最先处理的三个变量是Weekday Hour:Minutes</p>
<p>再看日期,Month-Day,哪个变量在前呢?<br>如果day在前,则是冗余信息,因为已经weekday在先.<br>解析日期,首先获取Month,以判断一年的进度,获得当前时间在一年中所处的位置,比如May的含义是一年已经将半.<br>日期的顺序是Month-Day </p>
<p>还有变量week number,是对一年进度的另外一种表示.</p>
<p>最后是Year</p>
<p>综上, 直觉解析时间的顺序为:<br><code>Weekday Hour:Minute Month-Day WeekNumber Year</code>, 要事第一,最重要的信息是Weekday.<br>合计8个变量, 命名为intuitive time(or intelligent time)简写为itime</p>
<p>这也是CTIME时间格式的理念.</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">In [<span class="number">2</span>]: time.ctime()    </span><br><span class="line">Out[<span class="number">2</span>]: <span class="string">'Wed May 15 08:29:38 2019'</span></span><br><span class="line">In [<span class="number">3</span>]: !date                                                                                       </span><br><span class="line">Wed May <span class="number">15</span> <span class="number">08</span>:<span class="number">31</span>:<span class="number">45</span> CST <span class="number">2019</span></span><br></pre></td></tr></table></figure>
<p>ctime将weekday安排在最前面,然后遵循这个先处理日期的逻辑,May:15跟在后面提高日期的精确颗粒度.但是对大脑的瞬间思考而言,则是冗余信息.因此以itime作为基石,推导拓展到其他时间顺序.</p>
<h2 id="Cron中时间变量的顺序"><a href="#Cron中时间变量的顺序" class="headerlink" title="Cron中时间变量的顺序"></a>Cron中时间变量的顺序</h2><p>The sequence matters.<br>时间变量顺序的第一个应用场景是cron.</p>
<p>Cron的顺序是Minute:Hour Day:Month Weekday</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"># ┌───────────── minute (0 - 59)</span><br><span class="line"># │ ┌───────────── hour (0 - 23)</span><br><span class="line"># │ │ ┌───────────── day of the month (1 - 31)</span><br><span class="line"># │ │ │ ┌───────────── month (1 - 12)</span><br><span class="line"># │ │ │ │ ┌───────────── day of the week (0 - 6) (Sunday to Saturday;</span><br><span class="line"># │ │ │ │ │                                   7 is also Sunday on some systems)</span><br><span class="line"># │ │ │ │ │</span><br><span class="line"># │ │ │ │ │</span><br><span class="line"># * * * * * command to execute</span><br></pre></td></tr></table></figure>
<p>大脑长于处理模糊宏观的信息,而机器专于精确的信息,将最小的时间单位排在前面,是倒排的ctime.应用的时候也只需要将思考倒叙.</p>
<p>cron将minute作为最小单位和第一顺序是因为crond按分钟扫描,可见从性能经济性的角度考虑,对大脑和对机器, 秒都是可以忽略的,不然会浪费大量的资源．</p>
<p>接下来讨论一个问题:<br>在感知上, minutes:hours 与hours:minutes有何差异呢？</p>
<p>minutes:hours的顺序，是将精力关注到一个小时之内，比如六点十五<code>15:06</code>表达出来是，在从6点到７点这一个小时的时间段内，已经过去了15分钟，知道现在已经消费了一个小时的四分之一(1/4)，接下来就会自然的发问，按照这个进度，等一个小时结束能完成多少工作．<br>而hours:minutes的顺序，是关注在一天之内，比如<code>06:15</code>表达的是，现在是早上时间(6/24)，一天之计在于晨，后面的分钟15只是作为辅助．<br>总结：hour:minutes(6:15)关注的是一天之内，而minute:hour关注的是一个小时之内，以一个小时为单位做计划和考核产出．</p>
<p>在直觉上采用哪一个作为基础,等更多的应用总结后,再行确定.暂时采用Hour:Minute的格式,因为minute:hour消耗更多大脑内存和计算资源.</p>
<p>总结, cron是写给机器读的,对象是机器,因此将ctime倒叙.</p>
<p>需要记住时间顺序的另外一个应用场景是<code>journalctl</code><br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">journalctl --since  “YYYY-MM-DD HH:MM:SS” --until “YYYY-MM-DD HH:MM:SS”</span><br></pre></td></tr></table></figure></p>
<p>从宏观到微观,从模糊到精确,这是写给人用的时间格式,也是ISO的标准时间格式.</p>
<p>引用一段话:</p>
<blockquote>
<p> Your computer is not a lifeless piece of machinery. It is a dynamic tool that interacts with your very thought processes. Whenever you use a computer it becomes, for better or for worse, an extension of your mind.</p>
<p>This means that, whenever you use a Unix or Linux system, you are forging a mental relationship with some of the smartest, most accomplished (and satisfied) programmers and computer scientists who ever lived.<br>Such a partnership can’t help but have a positive effect on you.</p>
<p>As you do, your mind will change for the better, your thought processes will improve, and your way of looking at the world and at yourself will change.</p>
</blockquote>
<h2 id="时间的格式"><a href="#时间的格式" class="headerlink" title="时间的格式"></a>时间的格式</h2><p>以Cron的5个时间变量顺序为基础分析时间表示的格式,<br>前面加上second+(minute, hour  day, month weekday)后面补充year and weeknumber.</p>
<p>时间的格式以C, python采用的unix strftime格式为准.</p>
<table>
<thead>
<tr>
<th>时间变量</th>
<th>1.second</th>
<th>2.minute</th>
<th>3.hour</th>
<th>4.day</th>
<th>5.month</th>
<th>6.weekday</th>
<th>7.week number</th>
<th>8.year</th>
</tr>
</thead>
<tbody>
<tr>
<td>常规符号</td>
<td>%S 01</td>
<td>%M 01</td>
<td>%H 23</td>
<td>%d 01</td>
<td>%m 01</td>
<td>%w (0-6)</td>
<td>%W</td>
<td>%y 19</td>
</tr>
<tr>
<td>简单扩展</td>
<td></td>
<td></td>
<td>%I (12-hour), %p AM</td>
<td></td>
<td></td>
<td></td>
<td></td>
<td>%Y 2019</td>
</tr>
<tr>
<td>文字描述</td>
<td></td>
<td></td>
<td></td>
<td></td>
<td>%b Oct, %BOctober</td>
<td>%a Thu, %A Thursday</td>
<td></td>
<td></td>
</tr>
<tr>
<td>Obscure扩展</td>
<td>%f 微秒</td>
<td></td>
<td></td>
<td>% e 1~31 %j 366</td>
<td></td>
<td>%u(1~7)</td>
<td>%V %U</td>
<td>%G 2019</td>
</tr>
</tbody>
</table>
<p>分析:</p>
<p>第一行, 钟表时间全部为大写,   日期时间全部为小写, WeekNumber大写%W与weekday %w相区分;<br>第二行, 简单扩展, %H是24小时制, H后面的字母是I,因此用%I表示12小时制,同时%p(postnoon)标注上下午; 大写的%Y表示四位数字的年2019;<br>第三行, 文字描述,只有两个变量能以文字描述, weekday和month, 分别用A, B表示.weekday %A还是第一重要的.</p>
<p>前三行是常规的表示.</p>
<p>第四行, obscure扩展, 微秒的表示应该是从剩余可选字母中随机确定的, %f(fly飞逝),和数日子day 366 %j , %e空格padding. weekday与weekNumber在u, v, w这三个字母上打转, 小写是weekday大写是weekNumber.</p>
<p>总结: 按照表格前三行可以在一秒钟内永久性记忆, 日常的书写也采用该格式. 日如ctime <code>%a %b %d %H:%M:%S %Y</code></p>
<p>Timezone的表示</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">In [7]: !date +<span class="string">"%z"</span>   <span class="comment">#UTC offset                                                                                                 </span></span><br><span class="line">+0800</span><br><span class="line">In [8]: !date +<span class="string">"%Z"</span>                                                                                                   </span><br><span class="line">CST <span class="comment">#China Standard Time</span></span><br></pre></td></tr></table></figure>
<p>快捷方式的format</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">In [10]: datetime.now().strftime(<span class="string">"%c"</span>)      <span class="comment">#Locale’s appropriate date and time representation.                                                                              </span></span><br><span class="line">Out[10]: <span class="string">'Thu May  9 11:48:33 2019 #这个格式将weekday放在了前面, 也就是 %a %b的形式.</span></span><br><span class="line"><span class="string">In [11]: datetime.now().strftime("%x")      #Locale’s appropriate date representation                                                                                  </span></span><br><span class="line"><span class="string">Out[11]: '</span>05/09/19<span class="string">'</span></span><br><span class="line"><span class="string">In [12]: datetime.now().strftime("%X")                                                                                        </span></span><br><span class="line"><span class="string">Out[12]: '</span>11:49:06<span class="string">'</span></span><br></pre></td></tr></table></figure>
<p>总结10个时间变量,将时区放置在最后.</p>
<blockquote>
<p>%f:%S:%M:%H %d-%m  %w  %W %Y  %Z<br>日常的书写,使用符号替代minute, hour等</p>
</blockquote>
<p>时间格式的的标准：</p>
<ol>
<li><a href="https://en.wikipedia.org/wiki/ISO_8601" target="_blank" rel="noopener">ISO 8601 - Wikipedia</a></li>
<li><a href="https://www.w3.org/TR/NOTE-datetime" target="_blank" rel="noopener">W3C DTF </a></li>
<li>RFC 822(as updated by RFC 1123)</li>
<li><a href="https://tools.ietf.org/html/rfc2822.html" target="_blank" rel="noopener">RFC 2822 - Internet Message Format</a><br><img src="https://imgs.xkcd.com/comics/iso_8601.png" alt="ISO 8601"></li>
</ol>
<blockquote>
<p>Django的built-in template 用的是php的format<br><a href="https://docs.djangoproject.com/en/dev/ref/templates/builtins/#date" target="_blank" rel="noopener">Built-in template tags and filters | Django documentation | Django</a><br><a href="https://www.php.net/manual/en/function.date.php" target="_blank" rel="noopener">PHP: date - Manual</a></p>
</blockquote>

          
        
      
    </div>

    

    
    
    

    

    
      
    
    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://alphaalgorithms.github.io/2019/05/08/parameters-sequence-in-strptime/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Gabriel">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="AlphaAlgorithms">
    </span>

    
      <header class="post-header">

        
        
          <h2 class="post-title" itemprop="name headline">
                
                
                <a href="/2019/05/08/parameters-sequence-in-strptime/" class="post-title-link" itemprop="url">datetime.strptime()参数顺序的问题</a>
              
            
          </h2>
        

        <div class="post-meta">
          <span class="post-time">

            
            
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              

              
                
              

              <time title="Created: 2019-05-08 19:47:35" itemprop="dateCreated datePublished" datetime="2019-05-08T19:47:35+08:00">2019-05-08</time>
            

            
              

              
                
                <span class="post-meta-divider">|</span>
                

                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                
                  <span class="post-meta-item-text">Edited on</span>
                
                <time title="Modified: 2019-05-15 09:40:15" itemprop="dateModified" datetime="2019-05-15T09:40:15+08:00">2019-05-15</time>
              
            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/linux-system/" itemprop="url" rel="index"><span itemprop="name">linux - system</span></a></span>

                
                
              
            </span>
          

          
            
            
              
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <span class="post-meta-item-icon">
                  <i class="fa fa-comment-o"></i>
                </span>
            
                <span class="post-meta-item-text">Comments: </span>
                <a href="/2019/05/08/parameters-sequence-in-strptime/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count disqus-comment-count" data-disqus-identifier="2019/05/08/parameters-sequence-in-strptime/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="提出问题"><a href="#提出问题" class="headerlink" title="提出问题"></a>提出问题</h2><p>经常会错写<code>datetime.strptime(string, format)</code>,颠倒两个参数的顺序而写成<code>datetime.strptime(format, string)</code> 与<code>re.find(pattern, string)</code>相混淆.</p>
<h2 id="分析问题"><a href="#分析问题" class="headerlink" title="分析问题"></a>分析问题</h2><h3 id="datetime-strptime"><a href="#datetime-strptime" class="headerlink" title="datetime.strptime()"></a>datetime.strptime()</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">strptime(string, format) method of builtins.type instance</span><br><span class="line">    string, format -&gt; new datetime parsed from a string (like time.strptime()).</span><br><span class="line">    </span><br><span class="line">  <span class="comment">#Case</span></span><br><span class="line"> In [<span class="number">6</span>]: datetime.strptime(<span class="string">"8 May, 2019"</span>, <span class="string">"%d %B, %Y"</span>)                                                                         </span><br><span class="line">Out[<span class="number">6</span>]: datetime.datetime(<span class="number">2019</span>, <span class="number">5</span>, <span class="number">8</span>, <span class="number">0</span>, <span class="number">0</span>)</span><br></pre></td></tr></table></figure>
<p><code>strptime</code>的函数命名不太好, 词义模糊, 不如直接叫<code>str2time</code>.  string是source, time是result.</p>
<p>本函数的工作是parse a string to produce a time  object.  <code>strptime</code> 的字面含义读起来却像是毫无意义的string to parse time或者是读成相反的含义parse time to produce a string.妥协的处理方法理解为”string parsed” to time.将<code>strp</code>当做一个组合名词<code>strp2time</code></p>
<p>官方的<code>strptime</code>命名比较<code>str2time</code>的优点是存在动词parse,点出函数的内部逻辑需要做的核心工作是解析,将普通的字符串解析成为有实际价值和意义的时间对象.(更像是开发者提醒自己非写给API的用户)</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">datetime.strptime(string, format)</span><br><span class="line"><span class="comment">#扩展为</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">strptime</span><span class="params">(src_string, parsed_format)</span> -&gt; "dst_time_object":</span></span><br></pre></td></tr></table></figure>
<p>这样看来<code>strptime</code>还是符合 <code>source</code> to <code>destination</code> 的模式.</p>
<p>容易混淆string与format顺序的一个直接原因是存在<code>re.match(pattern, str)</code>, 按照module re的这个思路, 要事第一,对<code>strptime(string, format)</code>的处理应该将<code>format</code>拿到前面.</p>
<p>对此的理解:</p>
<p>一, source to destination是惯例, strptime(string, format)没有打破惯例<br>二, regex突破了惯例, 可能因为consturct regex需要花费较多脑力,而其他如time-format并不需要.<br>(regex的所有的methods都是将构建regex-pattern作为第一个参数)</p>
<p>三, 处理strptime从字面含义去引导直觉. strptime(string, parsed-format) to a time-object</p>
<h3 id="datetime-strftime"><a href="#datetime-strftime" class="headerlink" title="datetime.strftime()"></a>datetime.strftime()</h3><p>容易混淆的另外一个原因是strptime的逆函数<code>strftime</code></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">strftime(format)</span><br><span class="line">    format -&gt; strftime() style string.</span><br><span class="line">In [<span class="number">8</span>]: dt                                                                                                                    </span><br><span class="line">Out[<span class="number">8</span>]: datetime.datetime(<span class="number">2019</span>, <span class="number">5</span>, <span class="number">8</span>, <span class="number">0</span>, <span class="number">0</span>)</span><br><span class="line">In [<span class="number">9</span>]: dt.strftime(<span class="string">"%d %B, %Y"</span>)                                                                                              </span><br><span class="line">Out[<span class="number">9</span>]: <span class="string">'08 May, 2019'</span></span><br></pre></td></tr></table></figure>
<p>strftime是<code>time2str</code></p>
<p>受<code>strftime</code> (string format time)这个命名的影响, 很容易写作</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">datetime.strftime(<span class="string">"%d %B, %Y"</span>, time_obj)</span><br></pre></td></tr></table></figure>
<p>可能想一下会意识到没有充分利用<code>time_obj</code>已经是<code>datetime object</code>这个既成事实, 应该打开其内建的工具箱.<br><code>strftime</code> 中的<code>str</code>是多余的, 既然是format, return的结果一定是string.去掉str只留下 <code>ftime</code>更为简洁.<br><code>strftime</code>对比<code>str2time</code>的优点,也是有一个显性的动词format.<br>与<code>strptime(string,parsed_format)</code>对应</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#strftime可以写为</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">strftime</span><span class="params">(self, format)</span> -&gt; string:</span></span><br></pre></td></tr></table></figure>
<p>观察<code>time_object.strftime(format) - &gt; string</code> 的结构,遵循 <code>src to dst</code> 的原则．作为src的time_object写在前面．输出的结果为string.</p>
<h2 id="总结，"><a href="#总结，" class="headerlink" title="总结，　"></a>总结，　</h2><p><code>strptime  def strptime(src_string,  parsed-format) -&gt;dst_time</code> 与｀src_time_object.strftime(string_format)<code>都遵循｀src to dst</code> 的原则，引起歧义的根源是两个函数的命名．<br>解决方案 <code>strptime</code> 直觉扩展为<code>strp</code> string parsed + to + <code>timet</code><br><code>strftime</code>,将多余的str去掉，<code>ftime</code> format time , str当做冗余的形容词修饰format. stringly format.<br>P.S. format time to string不是一个好的解决方案，因为颠倒了src和dst.<br>两个动词是核心,parse or format.如果是parse的工作,输出结果time_object.做format的工作,就return string.</p>
<p>应用时刻的思维链条:<br>parse -&gt; parse src_string to dst_time -&gt; string parsed to time-&gt; datetime.strptime(src_string, format)</p>
<p>format -&gt; format src_time to dst_string-&gt; stringly format time to string -&gt;time_object.strftime(format)</p>
<p>1)辨析parse or format 2)都遵循 src to dst 3) str[pf]time顺序不变.</p>
<p>除了re.search(pattern, src)之外,还有一个不守规矩的特例.</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">In [<span class="number">12</span>]: <span class="string">"source to destination"</span>.split()                                                                                      </span><br><span class="line">Out[<span class="number">12</span>]: [<span class="string">'source'</span>, <span class="string">'to'</span>, <span class="string">'destination'</span>] <span class="comment">#遵循source to destination,  convert src_str to dst_list </span></span><br><span class="line"><span class="comment">#逆操作却将要输出的结果放在了前面.</span></span><br><span class="line">In [<span class="number">13</span>]: <span class="string">" "</span>.join([<span class="string">'source'</span>, <span class="string">'to'</span>, <span class="string">'destination'</span>])                                                                            </span><br><span class="line">Out[<span class="number">13</span>]: <span class="string">'source to destination'</span></span><br><span class="line"> <span class="comment">#显然['source', 'to', 'destination'].join(" ")更为合理 convert src_list to dst_string</span></span><br></pre></td></tr></table></figure>
<p>可能的解释, Python将所有涉及string的操作集中在了一处.</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">In [<span class="number">16</span>]: len([m <span class="keyword">for</span> m <span class="keyword">in</span> dir(str) <span class="keyword">if</span> <span class="keyword">not</span> m.startswith(<span class="string">"__"</span>)])                                                                 </span><br><span class="line">Out[<span class="number">16</span>]: <span class="number">45</span></span><br><span class="line">In [<span class="number">17</span>]: len([m <span class="keyword">for</span> m <span class="keyword">in</span> dir(list) <span class="keyword">if</span> <span class="keyword">not</span> m.startswith(<span class="string">"__"</span>)])                                                                </span><br><span class="line">Out[<span class="number">17</span>]: <span class="number">11</span></span><br></pre></td></tr></table></figure>
<p>methods of string 是list的四倍.</p>
<blockquote>
<p>辨析特例与常规.</p>
<p>regex和”,”.join是特例, strptime, strftime, str.split是常规.</p>
</blockquote>
<h2 id="date-and-clock"><a href="#date-and-clock" class="headerlink" title="date and clock"></a>date and clock</h2><p>Maintain system time是操作系统提供的最基础的service API.</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">$ date -u</span><br><span class="line">$ sudo hwclock -u</span><br><span class="line"><span class="number">2019</span><span class="number">-05</span><span class="number">-08</span> <span class="number">20</span>:<span class="number">19</span>:<span class="number">14.764965</span>+<span class="number">08</span>:<span class="number">00</span></span><br><span class="line"><span class="comment">#str2time,</span></span><br><span class="line">$ date -d <span class="string">"08 May 2019"</span> +<span class="string">"%c"</span> </span><br><span class="line">Wed <span class="number">08</span> May <span class="number">2019</span> <span class="number">14</span>:<span class="number">00</span>:<span class="number">00</span> AM CST</span><br><span class="line"><span class="comment">#time2str, strftime </span></span><br><span class="line">$ date +<span class="string">"%d %B, %Y"</span></span><br><span class="line"><span class="number">08</span> May, <span class="number">2019</span></span><br><span class="line"><span class="comment">#思路与strptime, strftime一致.</span></span><br></pre></td></tr></table></figure>
<h2 id="参考资料"><a href="#参考资料" class="headerlink" title="参考资料"></a>参考资料</h2><p><a href="https://docs.python.org/3/library/datetime.html#strftime-and-strptime-behavior" target="_blank" rel="noopener"><code>strftime()</code> and <code>strptime()</code> Behavior</a><br><a href="https://www.programiz.com/python-programming/datetime/strptime" target="_blank" rel="noopener">Python strptime() - string to datetime object</a></p>
<p><a href="https://docs.python.org/3/library/datetime.html#strftime-strptime-behavior" target="_blank" rel="noopener">datetime — Basic date and time types — Python 3.7.3 documentation</a></p>
<p><a href="https://www.cyberciti.biz/faq/linux-unix-formatting-dates-for-display/" target="_blank" rel="noopener">How To Format Date For Display or Use In a Shell Script - nixCraft</a></p>
<p><a href="https://stackoverflow.com/questions/11144408/convert-string-to-date-in-bash" target="_blank" rel="noopener">Convert string to date in bash - Stack Overflow</a></p>
<p><a href="https://www.gnu.org/software/coreutils/manual/html_node/Examples-of-date.html" target="_blank" rel="noopener">GNU Coreutils: Examples of date</a></p>
<p><a href="https://www.geeksforgeeks.org/date-command-linux-examples/" target="_blank" rel="noopener">date command in Linux with examples - GeeksforGeeks</a></p>

          
        
      
    </div>

    

    
    
    

    

    
      
    
    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://alphaalgorithms.github.io/2019/05/08/paramaters-sequence-in-re-sub/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Gabriel">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="AlphaAlgorithms">
    </span>

    
      <header class="post-header">

        
        
          <h2 class="post-title" itemprop="name headline">
                
                
                <a href="/2019/05/08/paramaters-sequence-in-re-sub/" class="post-title-link" itemprop="url">re.sub参数顺序的问题</a>
              
            
          </h2>
        

        <div class="post-meta">
          <span class="post-time">

            
            
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              

              
                
              

              <time title="Created: 2019-05-08 11:54:07" itemprop="dateCreated datePublished" datetime="2019-05-08T11:54:07+08:00">2019-05-08</time>
            

            
              

              
                
                <span class="post-meta-divider">|</span>
                

                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                
                  <span class="post-meta-item-text">Edited on</span>
                
                <time title="Modified: 2019-05-20 21:35:25" itemprop="dateModified" datetime="2019-05-20T21:35:25+08:00">2019-05-20</time>
              
            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/linux-fileManager/" itemprop="url" rel="index"><span itemprop="name">linux - fileManager</span></a></span>

                
                
              
            </span>
          

          
            
            
              
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <span class="post-meta-item-icon">
                  <i class="fa fa-comment-o"></i>
                </span>
            
                <span class="post-meta-item-text">Comments: </span>
                <a href="/2019/05/08/paramaters-sequence-in-re-sub/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count disqus-comment-count" data-disqus-identifier="2019/05/08/paramaters-sequence-in-re-sub/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="提出问题"><a href="#提出问题" class="headerlink" title="提出问题"></a>提出问题</h2><p>在写<code>re.sub</code>或者<code>re.subn</code>的时候, 常常会不太确定引用参数的顺序, 需要中断的时间查看提示或者help文档.<br>比如<code>input_string=&#39;trade war</code>修改为<code>trade negotiation</code></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">In [<span class="number">17</span>]: re.sub(<span class="string">"war"</span>, <span class="string">"negotiation"</span>, <span class="string">"trade war"</span>)                                                                            </span><br><span class="line">Out[<span class="number">17</span>]: <span class="string">'trade negotiation'</span></span><br></pre></td></tr></table></figure>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">sub(pattern, repl, string, count=<span class="number">0</span>, flags=<span class="number">0</span>) </span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">sub</span><span class="params">(pattern, repl, string, count=<span class="number">0</span>, flags=<span class="number">0</span>)</span>:</span></span><br><span class="line">    <span class="keyword">return</span> _compile(pattern, flags).sub(repl, string, count)<span class="comment">#首先处理regex-pattern</span></span><br></pre></td></tr></table></figure>
<h2 id="分析问题"><a href="#分析问题" class="headerlink" title="分析问题"></a>分析问题</h2><p><code>pattern</code>是与source(input_string)的匹配的内容, repl是修改后的内容(destination), 这里顺序与<code>str.replace</code>是一致.</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">replace(self, old, new, count=-1, /)</span><br></pre></td></tr></table></figure>
<p>old 来自source, new是输出到destination结果中.<br><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">In [<span class="number">16</span>]: <span class="string">"trade war"</span>.replace(<span class="string">"war"</span>, <span class="string">"negotiation"</span>)                                                                            </span><br><span class="line">Out[<span class="number">16</span>]: <span class="string">'trade negotiation'</span></span><br></pre></td></tr></table></figure></p>
<p><code>sed</code>也遵循同样的模式.</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">s/regexp/replacement/</span><br><span class="line">       Attempt  to  match  regexp  against  the  pattern  space.   If successful, replace that portion matched <span class="keyword">with</span></span><br><span class="line">       replacement.  The replacement may contain the special character &amp; to refer to that portion  of  the  pattern</span><br><span class="line">       space  which  matched,  <span class="keyword">and</span>  the  special  escapes \<span class="number">1</span> through \<span class="number">9</span> to refer to the corresponding matching sub-</span><br><span class="line">       expressions <span class="keyword">in</span> the regexp.</span><br></pre></td></tr></table></figure>
<p>regex-pattern匹配 source 数据中的内容, replacement则是替换后输出到destination结果中.</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ <span class="built_in">echo</span> <span class="string">'trade war'</span> | sed <span class="string">"s/war/negotiation/g"</span></span><br><span class="line">trade negotiation</span><br></pre></td></tr></table></figure>
<p>其他的Text Processing </p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">$ <span class="built_in">echo</span> <span class="string">"trade-war"</span> | tr <span class="string">"-"</span> <span class="string">"\n"</span></span><br><span class="line">trade</span><br><span class="line">war</span><br><span class="line">   tr [OPTION]... SET1 [SET2]</span><br></pre></td></tr></table></figure>
<p>SET1 is from the source, SET2 is the result of the destination after been processed.</p>
<p>总结这种模式和思维惯例:</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">function source destination</span><br></pre></td></tr></table></figure>
<p>Text Processing如此, </p>
<p>File Handling的utilities遵循同样的模式.</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">mv [OPTION]... SOURCE... DIRECTORY</span><br><span class="line">cp [OPTION]... [-T] SOURCE DEST</span><br><span class="line">ln [OPTION]... Source... DIRECTORY   </span><br><span class="line">rsync [OPTION...] SRC... [DEST] </span><br><span class="line">scp  SRC... DEST</span><br><span class="line">dd <span class="keyword">if</span>=/dev/&#123;&#123;source_drive&#125;&#125; of=/dev/&#123;&#123;dest_drive&#125;&#125;</span><br></pre></td></tr></table></figure>
<p>例外的情况是tar.</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">tar -c [-f ARCHIVE] [OPTIONS] [FILE...]</span><br><span class="line">tar -cvf dest_archive.tar.gz    source_dir</span><br><span class="line">tart -cvf backup.tar  /home/me/</span><br></pre></td></tr></table></figure>
<p><code>tar</code>是将目标放在前面.</p>
<p>再回头看 <code>re.sub</code></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">re.sub(pattern, repl, string) </span><br><span class="line"><span class="comment">#扩展后</span></span><br><span class="line">re.sub(pattern_from_source, replacement_to_result, source_data)</span><br></pre></td></tr></table></figure>
<p>三个参数中<code>pattern_from_source</code>, <code>replacement_to_result</code> , <code>source_data</code> 的最后一个是<code>source_data</code>, 将source放置在最后.<br><code>grep</code>  与 <code>sed</code>都遵循同样的模式</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">sed <span class="string">'s/&#123;&#123;regex&#125;&#125;/&#123;&#123;replace&#125;&#125;/'</span> &#123;&#123;filename&#125;&#125;</span><br><span class="line">grep [OPTIONS] -e PATTERN ... [FILE...] <span class="comment">#grep regex source</span></span><br></pre></td></tr></table></figure>
<p>例外的情况是<code>find</code></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">find [-H] [-L] [-P] [-D debugopts] [-Olevel] [starting-point...] [expression]</span><br><span class="line">find [Option] <span class="built_in">source</span> pattern</span><br></pre></td></tr></table></figure>
<h2 id="总结"><a href="#总结" class="headerlink" title="总结:"></a>总结:</h2><p>Data Stream Processing和File Handling遵循<code>subroutine src dst</code> 模式.两个例外的情况是<code>tar and find</code></p>
<p>这个问题之所以值得探讨,是因为涉及底层的方法论和工作模式.</p>

          
        
      
    </div>

    

    
    
    

    

    
      
    
    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://alphaalgorithms.github.io/2019/05/07/Blog-With-Hexo/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Gabriel">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="AlphaAlgorithms">
    </span>

    
      <header class="post-header">

        
        
          <h2 class="post-title" itemprop="name headline">
                
                
                <a href="/2019/05/07/Blog-With-Hexo/" class="post-title-link" itemprop="url">Hexo&Github快速搭建个人Blog</a>
              
            
          </h2>
        

        <div class="post-meta">
          <span class="post-time">

            
            
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              

              
                
              

              <time title="Created: 2019-05-07 23:53:07" itemprop="dateCreated datePublished" datetime="2019-05-07T23:53:07+08:00">2019-05-07</time>
            

            
              

              
                
                <span class="post-meta-divider">|</span>
                

                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                
                  <span class="post-meta-item-text">Edited on</span>
                
                <time title="Modified: 2019-05-22 02:18:12" itemprop="dateModified" datetime="2019-05-22T02:18:12+08:00">2019-05-22</time>
              
            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/3w-hexo/" itemprop="url" rel="index"><span itemprop="name">3w - hexo</span></a></span>

                
                
              
            </span>
          

          
            
            
              
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <span class="post-meta-item-icon">
                  <i class="fa fa-comment-o"></i>
                </span>
            
                <span class="post-meta-item-text">Comments: </span>
                <a href="/2019/05/07/Blog-With-Hexo/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count disqus-comment-count" data-disqus-identifier="2019/05/07/Blog-With-Hexo/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="准备工作"><a href="#准备工作" class="headerlink" title="准备工作"></a>准备工作</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#git </span></span><br><span class="line">sudo apt-get install git-core</span><br><span class="line"><span class="comment">#nodejs</span></span><br><span class="line">sudo apt install nodejs</span><br><span class="line"><span class="comment">#npm </span></span><br><span class="line">sudo apt intall npm</span><br></pre></td></tr></table></figure>
<h2 id="安装Hexo"><a href="#安装Hexo" class="headerlink" title="安装Hexo"></a>安装Hexo</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ npm install -g hexo-cli</span><br></pre></td></tr></table></figure>
<h2 id="本地测试"><a href="#本地测试" class="headerlink" title="本地测试"></a>本地测试</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#在Public下创建Blog目录</span></span><br><span class="line">npm install hexo-deployer-git --save</span><br><span class="line">hexo init</span><br><span class="line">hexo server</span><br><span class="line"><span class="comment">#####</span></span><br><span class="line">INFO  Checking dependencies</span><br><span class="line">INFO  Validating the configuration file</span><br><span class="line">INFO  Start processing</span><br><span class="line">INFO  Hexo is running at http://localhost:4000 . Press Ctrl+C to stop.</span><br><span class="line"></span><br><span class="line">$ <span class="built_in">pwd</span>; tree -L 1</span><br><span class="line">/home/me/Public/Blog</span><br><span class="line">.</span><br><span class="line">├── _config.yml <span class="comment">#配置文件</span></span><br><span class="line">├── db.json　</span><br><span class="line">├── debug.log　<span class="comment">#日志</span></span><br><span class="line">├── node_modules　 <span class="comment">#依赖包</span></span><br><span class="line">├── package.json　 <span class="comment">#清单</span></span><br><span class="line">├── package-lock.json　<span class="comment">#详细清单</span></span><br><span class="line">├── public <span class="comment">#3w文件</span></span><br><span class="line">├── scaffolds <span class="comment">#文章生成模板</span></span><br><span class="line">├── <span class="built_in">source</span></span><br><span class="line">└── themes</span><br></pre></td></tr></table></figure>
<h2 id="修改主题"><a href="#修改主题" class="headerlink" title="修改主题"></a>修改主题</h2><p><a href="https://github.com/theme-next/hexo-theme-next" target="_blank" rel="noopener">theme-next/hexo-theme-next: Elegant and powerful theme for Hexo.</a><br><a href="https://github.com/ppoffice/hexo-theme-icarus" target="_blank" rel="noopener">hexo-theme-icarus</a></p>
<blockquote>
<p>Simplest way to install is by cloning the entire repository:</p>
</blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ cd Blog</span><br><span class="line">$ git clone https://github.com/theme-next/hexo-theme-next themes/next</span><br></pre></td></tr></table></figure>
<h2 id="搭桥连接github"><a href="#搭桥连接github" class="headerlink" title="搭桥连接github"></a>搭桥连接github</h2><p>修改根目录下的<code>_config.yml</code>文件.</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"># <span class="selector-tag">Deployment</span></span><br><span class="line">## Docs: https://hexo.io/docs/deployment.html</span><br><span class="line"><span class="selector-tag">deploy</span>:</span><br><span class="line">  <span class="selector-tag">type</span>: <span class="selector-tag">git</span> </span><br><span class="line">  repo: https://github.com/AlphaAlgorithms/AlphaAlgorithms.github.io.git</span><br><span class="line">  <span class="selector-tag">branch</span>: <span class="selector-tag">master</span></span><br><span class="line">  <span class="selector-tag">email</span>: <span class="selector-tag">igabriel_improve</span>@<span class="keyword">live</span>.<span class="keyword">com</span></span><br><span class="line">  name: AlphaAlgorithms </span><br><span class="line">      </span><br><span class="line"># URL 可以不修改</span><br><span class="line">## If your site is put in a subdirectory, set url as <span class="string">'http://yoursite.com/child'</span> and root as <span class="string">'/child/'</span></span><br><span class="line">url: https://alphaalgorithms.github.io/</span><br><span class="line">root: /</span><br><span class="line">permalink: :year/:month/:day/:title/</span><br><span class="line">permalink_defaults:</span><br></pre></td></tr></table></figure>
<h2 id="日常运维的步骤"><a href="#日常运维的步骤" class="headerlink" title="日常运维的步骤:"></a>日常运维的步骤:</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">hexo new</span><br><span class="line">hexo clean</span><br><span class="line">hexo generate</span><br><span class="line">hexo deploy</span><br></pre></td></tr></table></figure>
<h2 id="访客统计"><a href="#访客统计" class="headerlink" title="访客统计:"></a>访客统计:</h2><p><a href="http://gostats.com/" target="_blank" rel="noopener">GoStats — Web Analytics - learn even more about your customers</a></p>
<h2 id="绑定域名"><a href="#绑定域名" class="headerlink" title="绑定域名"></a>绑定域名</h2><p>解析alpha.algorithms…</p>
<h2 id="Log"><a href="#Log" class="headerlink" title="Log"></a>Log</h2><ul>
<li>Changed to next-theme 2019-05-08 </li>
</ul>
<h2 id="参考资料"><a href="#参考资料" class="headerlink" title="参考资料"></a>参考资料</h2><h3 id="官方文档"><a href="#官方文档" class="headerlink" title="官方文档"></a>官方文档</h3><p><a href="https://hexo.io/" target="_blank" rel="noopener">Hexo</a><br><a href="https://hexo.io/zh-cn/docs/setup" target="_blank" rel="noopener">建站 | Hexo</a></p>
<h3 id="搭建步骤"><a href="#搭建步骤" class="headerlink" title="搭建步骤"></a>搭建步骤</h3><p><a href="https://zhuanlan.zhihu.com/p/35668237" target="_blank" rel="noopener">超详细Hexo+Github博客搭建小白教程 - 知乎</a></p>
<p><a href="https://github.com/limedroid/HexoLearning" target="_blank" rel="noopener">limedroid/HexoLearning: Hexo博客搭建全攻略</a></p>
<p><a href="https://juejin.im/post/5abcd2286fb9a028d66440ba" target="_blank" rel="noopener">手把手教你用Hexo搭建个人技术博客 - 掘金</a></p>
<p><a href="https://xiaoyuliu.github.io/2018/03/28/how-to-sync-hexo-blog/" target="_blank" rel="noopener">How to create and sync your blog using hexo | Xiaoyu Liu</a></p>
<p><a href="https://pages.github.com/" target="_blank" rel="noopener">GitHub Pages | Websites for you and your projects, hosted directly from your GitHub repository. Just edit, push, and your changes are live.</a></p>
<h3 id="配置参考"><a href="#配置参考" class="headerlink" title="配置参考"></a>配置参考</h3><p><a href="https://blog.enjoytoshare.club/" target="_blank" rel="noopener">EnjoyToShare</a></p>

          
        
      
    </div>

    

    
    
    

    

    
      
    
    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
  </section>

  
  <nav class="pagination">
    <a class="extend prev" rel="prev" href="/"><i class="fa fa-angle-left" aria-label="Previous page"></i></a><a class="page-number" href="/">1</a><span class="page-number current">2</span>
  </nav>



          </div>
          

        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    <div class="sidebar-inner">

      

      

      <div class="site-overview-wrap sidebar-panel sidebar-panel-active">
        <div class="site-overview">
          <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
            
              <p class="site-author-name" itemprop="name">Gabriel</p>
              <div class="site-description motion-element" itemprop="description"></div>
          </div>

          
            <nav class="site-state motion-element">
              
                <div class="site-state-item site-state-posts">
                
                  <a href="/archives/">
                
                    <span class="site-state-item-count">14</span>
                    <span class="site-state-item-name">posts</span>
                  </a>
                </div>
              

              
                
                
                <div class="site-state-item site-state-categories">
                  
                    
                      <a href="/categories/">
                    
                  
                    
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                    <span class="site-state-item-count">8</span>
                    <span class="site-state-item-name">categories</span>
                  </a>
                </div>
              

              
                
                
                <div class="site-state-item site-state-tags">
                  
                    
                      <a href="/tags/">
                    
                  
                    
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                    <span class="site-state-item-count">18</span>
                    <span class="site-state-item-name">tags</span>
                  </a>
                </div>
              
            </nav>
          

          

          

          
            <div class="links-of-author motion-element">
              
                <span class="links-of-author-item">
                  
                  
                    
                  
                  
                    
                  
                  <a href="https://github.com/AlphaAlgorithms" title="GitHub &rarr; https://github.com/AlphaAlgorithms" rel="noopener" target="_blank"><i class="fa fa-fw fa-github"></i>GitHub</a>
                </span>
              
            </div>
          

          

          
          

          
            
          
          

        </div>
      </div>

      

      

    </div>
  </aside>
  


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright">&copy; <span itemprop="copyrightYear">2019</span>
  <span class="with-love" id="animate">
    <i class="fa fa-user"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Gabriel</span>

  

  
</div>


  <div class="powered-by">Powered by <a href="https://hexo.io" class="theme-link" rel="noopener" target="_blank">Hexo</a> v3.8.0</div>



  <span class="post-meta-divider">|</span>



  <div class="theme-info">Theme – <a href="https://theme-next.org" class="theme-link" rel="noopener" target="_blank">NexT.Mist</a> v7.1.1</div>




        








        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
      </div>
    

    

    

    
  </div>

  

<script>
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>


























  
  <script src="/lib/jquery/index.js?v=2.1.3"></script>

  
  <script src="/lib/velocity/velocity.min.js?v=1.2.1"></script>

  
  <script src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>


  


  <script src="/js/utils.js?v=7.1.1"></script>

  <script src="/js/motion.js?v=7.1.1"></script>



  
  


  <script src="/js/schemes/muse.js?v=7.1.1"></script>




  

  


  <script src="/js/next-boot.js?v=7.1.1"></script>


  

  

  

  
  
  <script id="dsq-count-scr" src="https://alphaalgorithms.disqus.com/count.js" async></script>







  




  

  

  

  

  

  

  

  

  

  

  

  

  

  

</body>
</html>
