<!DOCTYPE html>












  


<html class="theme-next mist use-motion" lang>
<head><meta name="generator" content="Hexo 3.8.0">
  <meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
























<link rel="stylesheet" href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2">

<link rel="stylesheet" href="/css/main.css?v=7.1.1">


  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png?v=7.1.1">


  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png?v=7.1.1">


  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png?v=7.1.1">


  <link rel="mask-icon" href="/images/logo.svg?v=7.1.1" color="#222">







<script id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Mist',
    version: '7.1.1',
    sidebar: {"position":"left","display":"post","offset":12,"onmobile":false,"dimmer":false},
    back2top: true,
    back2top_sidebar: false,
    fancybox: false,
    fastclick: false,
    lazyload: false,
    tabs: true,
    motion: {"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>


  




  <meta name="description" content="In this chapter we study in detail several of the functions used in GNU Emacs. This is called a “walk-through”. These functions are used as examples of Lisp code, but are not imaginary examples; with">
<meta name="keywords" content="elisp">
<meta property="og:type" content="article">
<meta property="og:title" content="Intro elisp 4. A Few Buffer-Related Functions">
<meta property="og:url" content="https://alphaalgorithms.github.io/2019/06/11/elisp-buffer-functions/index.html">
<meta property="og:site_name" content="DummyHead">
<meta property="og:description" content="In this chapter we study in detail several of the functions used in GNU Emacs. This is called a “walk-through”. These functions are used as examples of Lisp code, but are not imaginary examples; with">
<meta property="og:locale" content="default">
<meta property="og:updated_time" content="2019-06-11T01:30:34.096Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Intro elisp 4. A Few Buffer-Related Functions">
<meta name="twitter:description" content="In this chapter we study in detail several of the functions used in GNU Emacs. This is called a “walk-through”. These functions are used as examples of Lisp code, but are not imaginary examples; with">





  
  
  <link rel="canonical" href="https://alphaalgorithms.github.io/2019/06/11/elisp-buffer-functions/">



<script id="page.configurations">
  CONFIG.page = {
    sidebar: "",
  };
</script>

  <title>Intro elisp 4. A Few Buffer-Related Functions | DummyHead</title>
  












  <noscript>
  <style>
  .use-motion .motion-element,
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-title { opacity: initial; }

  .use-motion .logo,
  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>

</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="default">

  
  
    
  

  <div class="container sidebar-position-left page-post-detail">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta">
    

    <div class="custom-logo-site-title">
      <a href="/" class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">DummyHead</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
    
    
  </div>

  <div class="site-nav-toggle">
    <button aria-label="Toggle navigation bar">
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>



<nav class="site-nav">
  
    <ul id="menu" class="menu">
      
        
        
        
          
          <li class="menu-item menu-item-home">

    
    
    
      
    

    
      
    

    <a href="/" rel="section"><i class="menu-item-icon fa fa-fw fa-home"></i> <br>Home</a>

  </li>
        
        
        
          
          <li class="menu-item menu-item-tags">

    
    
    
      
    

    
      
    

    <a href="/tags/" rel="section"><i class="menu-item-icon fa fa-fw fa-tags"></i> <br>Tags<span class="badge">30</span></a>

  </li>
        
        
        
          
          <li class="menu-item menu-item-categories">

    
    
    
      
    

    
      
    

    <a href="/categories/" rel="section"><i class="menu-item-icon fa fa-fw fa-th"></i> <br>Categories<span class="badge">16</span></a>

  </li>
        
        
        
          
          <li class="menu-item menu-item-archives">

    
    
    
      
    

    
      
    

    <a href="/archives/" rel="section"><i class="menu-item-icon fa fa-fw fa-archive"></i> <br>Archives<span class="badge">32</span></a>

  </li>

      
      
    </ul>
  

  
    

  

  
</nav>



  



</div>
    </header>

    


    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          
          <div id="content" class="content">
            

  <div id="posts" class="posts-expand">
    

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://alphaalgorithms.github.io/2019/06/11/elisp-buffer-functions/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Gabriel">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="DummyHead">
    </span>

    
      <header class="post-header">

        
        
          <h2 class="post-title" itemprop="name headline">Intro elisp 4. A Few Buffer-Related Functions

              
            
          </h2>
        

        <div class="post-meta">
          <span class="post-time">

            
            
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              

              
                
              

              <time title="Created: 2019-06-11 09:17:58 / Modified: 09:30:34" itemprop="dateCreated datePublished" datetime="2019-06-11T09:17:58+08:00">2019-06-11</time>
            

            
              

              
            
          </span>

          

          
            
            
              
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <span class="post-meta-item-icon">
                  <i class="fa fa-comment-o"></i>
                </span>
            
                <span class="post-meta-item-text">Comments: </span>
                <a href="/2019/06/11/elisp-buffer-functions/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count disqus-comment-count" data-disqus-identifier="2019/06/11/elisp-buffer-functions/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        <p>In this chapter we study in detail several of the functions used in GNU Emacs. This is called a “walk-through”. These functions are used as examples of Lisp code, but are not imaginary examples; with the exception of the first, simplified function definition, these functions show the actual code used in GNU Emacs. You can learn a great deal from these definitions. The functions described here are all related to buffers. Later, we will study other functions.</p>
<ul>
<li><a href="https://www.gnu.org/software/emacs/manual/html_mono/eintr.html#Finding-More" target="_blank" rel="noopener">Finding More</a>: How to find more information.</li>
<li><a href="https://www.gnu.org/software/emacs/manual/html_mono/eintr.html#simplified_002dbeginning_002dof_002dbuffer" target="_blank" rel="noopener">simplified-beginning-of-buffer</a>: Shows <code>goto-char</code>, <code>point-min</code>, and <code>push-mark</code>.</li>
<li><a href="https://www.gnu.org/software/emacs/manual/html_mono/eintr.html#mark_002dwhole_002dbuffer" target="_blank" rel="noopener">mark-whole-buffer</a>: Almost the same as <code>beginning-of-buffer</code>.</li>
<li><a href="https://www.gnu.org/software/emacs/manual/html_mono/eintr.html#append_002dto_002dbuffer" target="_blank" rel="noopener">append-to-buffer</a>: Uses <code>save-excursion</code> and <code>insert-buffer-substring</code>.</li>
<li><a href="https://www.gnu.org/software/emacs/manual/html_mono/eintr.html#Buffer-Related-Review" target="_blank" rel="noopener">Buffer Related Review</a>: Review.</li>
<li><a href="https://www.gnu.org/software/emacs/manual/html_mono/eintr.html#Buffer-Exercises" target="_blank" rel="noopener">Buffer Exercises</a></li>
</ul>
<h3 id="4-1-Finding-More-Information"><a href="#4-1-Finding-More-Information" class="headerlink" title="4.1 Finding More Information"></a>4.1 Finding More Information</h3><p>In this walk-through, I will describe each new function as we come to it, sometimes in detail and sometimes briefly. If you are interested, you can get the full documentation of any Emacs Lisp function at any time by typing C-h f and then the name of the function (and then <ret>). Similarly, you can get the full documentation for a variable by typing C-h vand then the name of the variable (and then <ret>).</ret></ret></p>
<p>Also, <code>describe-function</code> will tell you the location of the function definition.</p>
<p>Put point into the name of the file that contains the function and press the <ret> key. In this case, <ret> means <code>push-button</code> rather than “return” or “enter”. Emacs will take you directly to the function definition.</ret></ret></p>
<p>More generally, if you want to see a function in its original source file, you can use the <code>xref-find-definitions</code> function to jump to it. <code>xref-find-definitions</code> works with a wide variety of languages, not just Lisp, and C, and it works with non-programming text as well. For example, <code>xref-find-definitions</code> will jump to the various nodes in the Texinfo source file of this document (provided that you’ve run the etags utility to record all the nodes in the manuals that come with Emacs; see <a href="https://www.gnu.org/software/emacs/manual/html_mono/emacs.html#Create-Tags-Table" target="_blank" rel="noopener">Create Tags Table</a>).</p>
<p>To use the <code>xref-find-definitions</code> command, type M-. (i.e., press the period key while holding down the <meta> key, or else type the <esc> key and then type the period key), and then, at the prompt, type in the name of the function whose source code you want to see, such as <code>mark-whole-buffer</code>, and then type <ret>. (If the command doesn’t prompt, invoke it with an argument: C-u M-.; see <a href="https://www.gnu.org/software/emacs/manual/html_mono/eintr.html#Interactive-Options" target="_blank" rel="noopener">Interactive Options</a>.) Emacs will switch buffers and display the source code for the function on your screen<a href="https://www.gnu.org/software/emacs/manual/html_mono/eintr.html#fn-10" target="_blank" rel="noopener">10</a>. To switch back to your current buffer, type M-, or C-x b <ret>. (On some keyboards, the <meta> key is labeled <alt>.)</alt></ret></ret></esc></p>
<p>Incidentally, the files that contain Lisp code are conventionally called libraries. The metaphor is derived from that of a specialized library, such as a law library or an engineering library, rather than a general library. Each library, or file, contains functions that relate to a particular topic or activity, such as abbrev.el for handling abbreviations and other typing shortcuts, and help.el for help. (Sometimes several libraries provide code for a single activity, as the various rmail… files provide code for reading electronic mail.) In The GNU Emacs Manual, you will see sentences such as “The C-h p command lets you search the standard Emacs Lisp libraries by topic keywords.”</p>
<h3 id="4-2-A-Simplified-beginning-of-buffer-Definition"><a href="#4-2-A-Simplified-beginning-of-buffer-Definition" class="headerlink" title="4.2 A Simplified beginning-of-buffer Definition"></a>4.2 A Simplified <code>beginning-of-buffer</code> Definition</h3><p>The <code>beginning-of-buffer</code> command is a good function to start with since you are likely to be familiar with it and it is easy to understand. Used as an interactive command, <code>beginning-of-buffer</code> moves the cursor to the beginning of the buffer, leaving the mark at the previous position. It is generally bound to M-&lt;.</p>
<p>In this section, we will discuss a shortened version of the function that shows how it is most frequently used. This shortened function works as written, but it does not contain the code for a complex option. In another section, we will describe the entire function. (See <a href="https://www.gnu.org/software/emacs/manual/html_mono/eintr.html#beginning_002dof_002dbuffer" target="_blank" rel="noopener">Complete Definition of <code>beginning-of-buffer</code></a>.)</p>
<p>Before looking at the code, let’s consider what the function definition has to contain: it must include an expression that makes the function interactive so it can be called by typing M-x beginning-of-buffer or by typing a keychord such as M-&lt;; it must include code to leave a mark at the original position in the buffer; and it must include code to move the cursor to the beginning of the buffer.</p>
<p>Here is the complete text of the shortened version of the function:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">(defun simplified-beginning-of-buffer ()</span><br><span class="line">  &quot;Move point to the beginning of the buffer;</span><br><span class="line">leave mark at previous position.&quot;</span><br><span class="line">  (interactive)</span><br><span class="line">  (push-mark)</span><br><span class="line">  (goto-char (point-min)))</span><br></pre></td></tr></table></figure>
<p>Like all function definitions, this definition has five parts following the macro <code>defun</code>:</p>
<ol>
<li>The name: in this example, <code>simplified-beginning-of-buffer</code>.</li>
<li>A list of the arguments: in this example, an empty list, <code>()</code>,</li>
<li>The documentation string.</li>
<li>The interactive expression.</li>
<li>The body.</li>
</ol>
<p>In this function definition, the argument list is empty; this means that this function does not require any arguments. (When we look at the definition for the complete function, we will see that it may be passed an optional argument.)</p>
<p>The interactive expression tells Emacs that the function is intended to be used interactively. In this example, <code>interactive</code> does not have an argument because <code>simplified-beginning-of-buffer</code> does not require one.</p>
<p>The body of the function consists of the two lines:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">(push-mark)</span><br><span class="line">(goto-char (point-min))</span><br></pre></td></tr></table></figure>
<p>The first of these lines is the expression, <code>(push-mark)</code>. When this expression is evaluated by the Lisp interpreter, it sets a mark at the current position of the cursor, wherever that may be. The position of this mark is saved in the mark ring.</p>
<p>The next line is <code>(goto-char (point-min))</code>. This expression jumps the cursor to the minimum point in the buffer, that is, to the beginning of the buffer (or to the beginning of the accessible portion of the buffer if it is narrowed. See <a href="https://www.gnu.org/software/emacs/manual/html_mono/eintr.html#Narrowing-_0026-Widening" target="_blank" rel="noopener">Narrowing and Widening</a>.)</p>
<p>The <code>push-mark</code> command sets a mark at the place where the cursor was located before it was moved to the beginning of the buffer by the <code>(goto-char (point-min))</code> expression. Consequently, you can, if you wish, go back to where you were originally by typing C-x C-x.</p>
<p>That is all there is to the function definition!</p>
<p>When you are reading code such as this and come upon an unfamiliar function, such as <code>goto-char</code>, you can find out what it does by using the <code>describe-function</code> command. To use this command, type C-h f and then type in the name of the function and press <ret>. The <code>describe-function</code> command will print the function’s documentation string in a <em>Help</em> window. For example, the documentation for <code>goto-char</code> is:</ret></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Set point to POSITION, a number or marker.</span><br><span class="line">Beginning of buffer is position (point-min), end is (point-max).</span><br></pre></td></tr></table></figure>
<p>The function’s one argument is the desired position.</p>
<p>(The prompt for <code>describe-function</code> will offer you the symbol under or preceding the cursor, so you can save typing by positioning the cursor right over or after the function and then typing C-h f <ret>.)</ret></p>
<p>The <code>end-of-buffer</code> function definition is written in the same way as the <code>beginning-of-buffer</code> definition except that the body of the function contains the expression <code>(goto-char (point-max))</code> in place of <code>(goto-char (point-min))</code>.</p>
<h3 id="4-3-The-Definition-of-mark-whole-buffer"><a href="#4-3-The-Definition-of-mark-whole-buffer" class="headerlink" title="4.3 The Definition of mark-whole-buffer"></a>4.3 The Definition of <code>mark-whole-buffer</code></h3><p>The <code>mark-whole-buffer</code> function is no harder to understand than the <code>simplified-beginning-of-buffer</code> function. In this case, however, we will look at the complete function, not a shortened version.</p>
<p>The <code>mark-whole-buffer</code> function is not as commonly used as the <code>beginning-of-buffer</code> function, but is useful nonetheless: it marks a whole buffer as a region by putting point at the beginning and a mark at the end of the buffer. It is generally bound to C-x h.</p>
<ul>
<li><a href="https://www.gnu.org/software/emacs/manual/html_mono/eintr.html#mark_002dwhole_002dbuffer-overview" target="_blank" rel="noopener">mark-whole-buffer overview</a></li>
<li><a href="https://www.gnu.org/software/emacs/manual/html_mono/eintr.html#Body-of-mark_002dwhole_002dbuffer" target="_blank" rel="noopener">Body of mark-whole-buffer</a>: Only three lines of code.</li>
</ul>
<h4 id="An-overview-of-mark-whole-buffer"><a href="#An-overview-of-mark-whole-buffer" class="headerlink" title="An overview of mark-whole-buffer"></a>An overview of <code>mark-whole-buffer</code></h4><p>In GNU Emacs 22, the code for the complete function looks like this:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">(defun mark-whole-buffer ()</span><br><span class="line">  &quot;Put point at beginning and mark at end of buffer.</span><br><span class="line">You probably should not use this function in Lisp programs;</span><br><span class="line">it is usually a mistake for a Lisp function to use any subroutine</span><br><span class="line">that uses or sets the mark.&quot;</span><br><span class="line">  (interactive)</span><br><span class="line">  (push-mark (point))</span><br><span class="line">  (push-mark (point-max) nil t)</span><br><span class="line">  (goto-char (point-min)))</span><br></pre></td></tr></table></figure>
<p>Like all other functions, the <code>mark-whole-buffer</code> function fits into the template for a function definition. The template looks like this:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">(defun name-of-function (argument-list)</span><br><span class="line">  &quot;documentation...&quot;</span><br><span class="line">  (interactive-expression...)</span><br><span class="line">  body...)</span><br></pre></td></tr></table></figure>
<p>Here is how the function works: the name of the function is <code>mark-whole-buffer</code>; it is followed by an empty argument list, ‘()’, which means that the function does not require arguments. The documentation comes next.</p>
<p>The next line is an <code>(interactive)</code> expression that tells Emacs that the function will be used interactively. These details are similar to the <code>simplified-beginning-of-buffer</code>function described in the previous section.</p>
<h4 id="4-3-1-Body-of-mark-whole-buffer"><a href="#4-3-1-Body-of-mark-whole-buffer" class="headerlink" title="4.3.1 Body of mark-whole-buffer"></a>4.3.1 Body of <code>mark-whole-buffer</code></h4><p>The body of the <code>mark-whole-buffer</code> function consists of three lines of code:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">(push-mark (point))</span><br><span class="line">(push-mark (point-max) nil t)</span><br><span class="line">(goto-char (point-min))</span><br></pre></td></tr></table></figure>
<p>The first of these lines is the expression, <code>(push-mark (point))</code>.</p>
<p>This line does exactly the same job as the first line of the body of the <code>simplified-beginning-of-buffer</code> function, which is written <code>(push-mark)</code>. In both cases, the Lisp interpreter sets a mark at the current position of the cursor.</p>
<p>I don’t know why the expression in <code>mark-whole-buffer</code> is written <code>(push-mark (point))</code> and the expression in <code>beginning-of-buffer</code> is written <code>(push-mark)</code>. Perhaps whoever wrote the code did not know that the arguments for <code>push-mark</code> are optional and that if <code>push-mark</code> is not passed an argument, the function automatically sets mark at the location of point by default. Or perhaps the expression was written so as to parallel the structure of the next line. In any case, the line causes Emacs to determine the position of point and set a mark there.</p>
<p>In earlier versions of GNU Emacs, the next line of <code>mark-whole-buffer</code> was <code>(push-mark (point-max))</code>. This expression sets a mark at the point in the buffer that has the highest number. This will be the end of the buffer (or, if the buffer is narrowed, the end of the accessible portion of the buffer. See <a href="https://www.gnu.org/software/emacs/manual/html_mono/eintr.html#Narrowing-_0026-Widening" target="_blank" rel="noopener">Narrowing and Widening</a>, for more about narrowing.) After this mark has been set, the previous mark, the one set at point, is no longer set, but Emacs remembers its position, just as all other recent marks are always remembered. This means that you can, if you wish, go back to that position by typing C-u C-<spc> twice.</spc></p>
<p>In GNU Emacs 22, the <code>(point-max)</code> is slightly more complicated. The line reads</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">(push-mark (point-max) nil t)</span><br></pre></td></tr></table></figure>
<p>The expression works nearly the same as before. It sets a mark at the highest numbered place in the buffer that it can. However, in this version, <code>push-mark</code> has two additional arguments. The second argument to <code>push-mark</code> is <code>nil</code>. This tells the function it <em>should</em> display a message that says “Mark set” when it pushes the mark. The third argument is <code>t</code>. This tells <code>push-mark</code> to activate the mark when Transient Mark mode is turned on. Transient Mark mode highlights the currently active region. It is often turned off.</p>
<p>Finally, the last line of the function is <code>(goto-char (point-min)))</code>. This is written exactly the same way as it is written in <code>beginning-of-buffer</code>. The expression moves the cursor to the minimum point in the buffer, that is, to the beginning of the buffer (or to the beginning of the accessible portion of the buffer). As a result of this, point is placed at the beginning of the buffer and mark is set at the end of the buffer. The whole buffer is, therefore, the region.</p>
<h3 id="4-4-The-Definition-of-append-to-buffer"><a href="#4-4-The-Definition-of-append-to-buffer" class="headerlink" title="4.4 The Definition of append-to-buffer"></a>4.4 The Definition of <code>append-to-buffer</code></h3><p>The <code>append-to-buffer</code> command is more complex than the <code>mark-whole-buffer</code> command. What it does is copy the region (that is, the part of the buffer between point and mark) from the current buffer to a specified buffer.</p>
<ul>
<li><a href="https://www.gnu.org/software/emacs/manual/html_mono/eintr.html#append_002dto_002dbuffer-overview" target="_blank" rel="noopener">append-to-buffer overview</a></li>
<li><a href="https://www.gnu.org/software/emacs/manual/html_mono/eintr.html#append-interactive" target="_blank" rel="noopener">append interactive</a>: A two part interactive expression.</li>
<li><a href="https://www.gnu.org/software/emacs/manual/html_mono/eintr.html#append_002dto_002dbuffer-body" target="_blank" rel="noopener">append-to-buffer body</a>: Incorporates a <code>let</code> expression.</li>
<li><a href="https://www.gnu.org/software/emacs/manual/html_mono/eintr.html#append-save_002dexcursion" target="_blank" rel="noopener">append save-excursion</a>: How the <code>save-excursion</code> works.</li>
</ul>
<h4 id="An-Overview-of-append-to-buffer"><a href="#An-Overview-of-append-to-buffer" class="headerlink" title="An Overview of append-to-buffer"></a>An Overview of <code>append-to-buffer</code></h4><p>The <code>append-to-buffer</code> command uses the <code>insert-buffer-substring</code> function to copy the region. <code>insert-buffer-substring</code> is described by its name: it takes a substring from a buffer, and inserts it into another buffer.</p>
<p>Most of <code>append-to-buffer</code> is concerned with setting up the conditions for <code>insert-buffer-substring</code> to work: the code must specify both the buffer to which the text will go, the window it comes from and goes to, and the region that will be copied.</p>
<p>Here is the complete text of the function:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">(defun append-to-buffer (buffer start end)</span><br><span class="line">  &quot;Append to specified buffer the text of the region.</span><br><span class="line">It is inserted into that buffer before its point.</span><br><span class="line"></span><br><span class="line">When calling from a program, give three arguments:</span><br><span class="line">BUFFER (or buffer name), START and END.</span><br><span class="line">START and END specify the portion of the current buffer to be copied.&quot;</span><br><span class="line">  (interactive</span><br><span class="line">   (list (read-buffer &quot;Append to buffer: &quot; (other-buffer</span><br><span class="line">                                            (current-buffer) t))</span><br><span class="line">         (region-beginning) (region-end)))</span><br><span class="line">  (let ((oldbuf (current-buffer)))</span><br><span class="line">    (save-excursion</span><br><span class="line">      (let* ((append-to (get-buffer-create buffer))</span><br><span class="line">             (windows (get-buffer-window-list append-to t t))</span><br><span class="line">             point)</span><br><span class="line">        (set-buffer append-to)</span><br><span class="line">        (setq point (point))</span><br><span class="line">        (barf-if-buffer-read-only)</span><br><span class="line">        (insert-buffer-substring oldbuf start end)</span><br><span class="line">        (dolist (window windows)</span><br><span class="line">          (when (= (window-point window) point)</span><br><span class="line">            (set-window-point window (point))))))))</span><br></pre></td></tr></table></figure>
<p>The function can be understood by looking at it as a series of filled-in templates.</p>
<p>The outermost template is for the function definition. In this function, it looks like this (with several slots filled in):</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">(defun append-to-buffer (buffer start end)</span><br><span class="line">  &quot;documentation...&quot;</span><br><span class="line">  (interactive ...)</span><br><span class="line">  body...)</span><br></pre></td></tr></table></figure>
<p>The first line of the function includes its name and three arguments. The arguments are the <code>buffer</code> to which the text will be copied, and the <code>start</code> and <code>end</code> of the region in the current buffer that will be copied.</p>
<p>The next part of the function is the documentation, which is clear and complete. As is conventional, the three arguments are written in upper case so you will notice them easily. Even better, they are described in the same order as in the argument list.</p>
<p>Note that the documentation distinguishes between a buffer and its name. (The function can handle either.)</p>
<h4 id="4-4-1-The-append-to-buffer-Interactive-Expression"><a href="#4-4-1-The-append-to-buffer-Interactive-Expression" class="headerlink" title="4.4.1 The append-to-buffer Interactive Expression"></a>4.4.1 The <code>append-to-buffer</code> Interactive Expression</h4><p>Since the <code>append-to-buffer</code> function will be used interactively, the function must have an <code>interactive</code> expression. (For a review of <code>interactive</code>, see <a href="https://www.gnu.org/software/emacs/manual/html_mono/eintr.html#Interactive" target="_blank" rel="noopener">Making a Function Interactive</a>.) The expression reads as follows:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">(interactive</span><br><span class="line"> (list (read-buffer</span><br><span class="line">        &quot;Append to buffer: &quot;</span><br><span class="line">        (other-buffer (current-buffer) t))</span><br><span class="line">       (region-beginning)</span><br><span class="line">       (region-end)))</span><br></pre></td></tr></table></figure>
<p>This expression is not one with letters standing for parts, as described earlier. Instead, it starts a list with these parts:</p>
<p>The first part of the list is an expression to read the name of a buffer and return it as a string. That is <code>read-buffer</code>. The function requires a prompt as its first argument, ‘“Append to buffer: “’. Its second argument tells the command what value to provide if you don’t specify anything.</p>
<p>In this case that second argument is an expression containing the function <code>other-buffer</code>, an exception, and a ‘t’, standing for true.</p>
<p>The first argument to <code>other-buffer</code>, the exception, is yet another function, <code>current-buffer</code>. That is not going to be returned. The second argument is the symbol for true, <code>t</code>. that tells <code>other-buffer</code> that it may show visible buffers (except in this case, it will not show the current buffer, which makes sense).</p>
<p>The expression looks like this:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">(other-buffer (current-buffer) t)</span><br></pre></td></tr></table></figure>
<p>The second and third arguments to the <code>list</code> expression are <code>(region-beginning)</code> and <code>(region-end)</code>. These two functions specify the beginning and end of the text to be appended.</p>
<p>Originally, the command used the letters ‘B’ and ‘r’. The whole <code>interactive</code> expression looked like this:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">(interactive &quot;BAppend to buffer: \nr&quot;)</span><br></pre></td></tr></table></figure>
<p>But when that was done, the default value of the buffer switched to was invisible. That was not wanted.</p>
<p>(The prompt was separated from the second argument with a newline, ‘\n’. It was followed by an ‘r’ that told Emacs to bind the two arguments that follow the symbol <code>buffer</code> in the function’s argument list (that is, <code>start</code> and <code>end</code>) to the values of point and mark. That argument worked fine.)</p>
<h4 id="4-4-2-The-Body-of-append-to-buffer"><a href="#4-4-2-The-Body-of-append-to-buffer" class="headerlink" title="4.4.2 The Body of append-to-buffer"></a>4.4.2 The Body of <code>append-to-buffer</code></h4><p>The body of the <code>append-to-buffer</code> function begins with <code>let</code>.</p>
<p>As we have seen before (see <a href="https://www.gnu.org/software/emacs/manual/html_mono/eintr.html#let" target="_blank" rel="noopener"><code>let</code></a>), the purpose of a <code>let</code> expression is to create and give initial values to one or more variables that will only be used within the body of the <code>let</code>. This means that such a variable will not be confused with any variable of the same name outside the <code>let</code> expression.</p>
<p>We can see how the <code>let</code> expression fits into the function as a whole by showing a template for <code>append-to-buffer</code> with the <code>let</code> expression in outline:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">(defun append-to-buffer (buffer start end)</span><br><span class="line">  &quot;documentation...&quot;</span><br><span class="line">  (interactive ...)</span><br><span class="line">  (let ((variable value))</span><br><span class="line">        body...)</span><br></pre></td></tr></table></figure>
<p>The <code>let</code> expression has three elements:</p>
<ol>
<li>The symbol <code>let</code>;</li>
<li>A varlist containing, in this case, a single two-element list, <code>(</code>variable value<code>)</code>;</li>
<li>The body of the <code>let</code> expression.</li>
</ol>
<p>In the <code>append-to-buffer</code> function, the varlist looks like this:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">(oldbuf (current-buffer))</span><br></pre></td></tr></table></figure>
<p>In this part of the <code>let</code> expression, the one variable, <code>oldbuf</code>, is bound to the value returned by the <code>(current-buffer)</code> expression. The variable, <code>oldbuf</code>, is used to keep track of the buffer in which you are working and from which you will copy.</p>
<p>The element or elements of a varlist are surrounded by a set of parentheses so the Lisp interpreter can distinguish the varlist from the body of the <code>let</code>. As a consequence, the two-element list within the varlist is surrounded by a circumscribing set of parentheses. The line looks like this:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">(let ((oldbuf (current-buffer)))</span><br><span class="line">  ... )</span><br></pre></td></tr></table></figure>
<p>The two parentheses before <code>oldbuf</code> might surprise you if you did not realize that the first parenthesis before <code>oldbuf</code> marks the boundary of the varlist and the second parenthesis marks the beginning of the two-element list, <code>(oldbuf (current-buffer))</code>.</p>
<h4 id="4-4-3-save-excursion-in-append-to-buffer"><a href="#4-4-3-save-excursion-in-append-to-buffer" class="headerlink" title="4.4.3 save-excursion in append-to-buffer"></a>4.4.3 <code>save-excursion</code> in <code>append-to-buffer</code></h4><p>The body of the <code>let</code> expression in <code>append-to-buffer</code> consists of a <code>save-excursion</code> expression.</p>
<p>The <code>save-excursion</code> function saves the location of point, and restores it to that position after the expressions in the body of the <code>save-excursion</code> complete execution. In addition,<code>save-excursion</code> keeps track of the original buffer, and restores it. This is how <code>save-excursion</code> is used in <code>append-to-buffer</code>.</p>
<p>Incidentally, it is worth noting here that a Lisp function is normally formatted so that everything that is enclosed in a multi-line spread is indented more to the right than the first symbol. In this function definition, the <code>let</code> is indented more than the <code>defun</code>, and the <code>save-excursion</code> is indented more than the <code>let</code>, like this:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">(defun ...</span><br><span class="line">  ...</span><br><span class="line">  ...</span><br><span class="line">  (let...</span><br><span class="line">    (save-excursion</span><br><span class="line">      ...</span><br></pre></td></tr></table></figure>
<p>This formatting convention makes it easy to see that the lines in the body of the <code>save-excursion</code> are enclosed by the parentheses associated with <code>save-excursion</code>, just as the<code>save-excursion</code> itself is enclosed by the parentheses associated with the <code>let</code>:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">(let ((oldbuf (current-buffer)))</span><br><span class="line">  (save-excursion</span><br><span class="line">    ...</span><br><span class="line">    (set-buffer ...)</span><br><span class="line">    (insert-buffer-substring oldbuf start end)</span><br><span class="line">    ...))</span><br></pre></td></tr></table></figure>
<p>The use of the <code>save-excursion</code> function can be viewed as a process of filling in the slots of a template:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">(save-excursion</span><br><span class="line">  first-expression-in-body</span><br><span class="line">  second-expression-in-body</span><br><span class="line">   ...</span><br><span class="line">  last-expression-in-body)</span><br></pre></td></tr></table></figure>
<p>In this function, the body of the <code>save-excursion</code> contains only one expression, the <code>let*</code> expression. You know about a <code>let</code> function. The <code>let*</code> function is different. It has a ‘*’ in its name. It enables Emacs to set each variable in its varlist in sequence, one after another.</p>
<p>Its critical feature is that variables later in the varlist can make use of the values to which Emacs set variables earlier in the varlist. See <a href="https://www.gnu.org/software/emacs/manual/html_mono/eintr.html#fwd_002dpara-let" target="_blank" rel="noopener">The <code>let*</code> expression</a>.</p>
<p>We will skip functions like <code>let*</code> and focus on two: the <code>set-buffer</code> function and the <code>insert-buffer-substring</code> function.</p>
<p>In the old days, the <code>set-buffer</code> expression was simply</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">(set-buffer (get-buffer-create buffer))</span><br></pre></td></tr></table></figure>
<p>but now it is</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">(set-buffer append-to)</span><br></pre></td></tr></table></figure>
<p><code>append-to</code> is bound to <code>(get-buffer-create buffer)</code> earlier on in the <code>let*</code> expression. That extra binding would not be necessary except for that <code>append-to</code> is used later in the varlist as an argument to <code>get-buffer-window-list</code>.</p>
<p>The <code>append-to-buffer</code> function definition inserts text from the buffer in which you are currently to a named buffer. It happens that <code>insert-buffer-substring</code> does just the reverse—it copies text from another buffer to the current buffer—that is why the <code>append-to-buffer</code> definition starts out with a <code>let</code> that binds the local symbol <code>oldbuf</code> to the value returned by <code>current-buffer</code>.</p>
<p>The <code>insert-buffer-substring</code> expression looks like this:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">(insert-buffer-substring oldbuf start end)</span><br></pre></td></tr></table></figure>
<p>The <code>insert-buffer-substring</code> function copies a string <em>from</em> the buffer specified as its first argument and inserts the string into the present buffer. In this case, the argument to<code>insert-buffer-substring</code> is the value of the variable created and bound by the <code>let</code>, namely the value of <code>oldbuf</code>, which was the current buffer when you gave the <code>append-to-buffer</code> command.</p>
<p>After <code>insert-buffer-substring</code> has done its work, <code>save-excursion</code> will restore the action to the original buffer and <code>append-to-buffer</code> will have done its job.</p>
<p>Written in skeletal form, the workings of the body look like this:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">(let (bind-oldbuf-to-value-of-current-buffer)</span><br><span class="line">  (save-excursion                       ; Keep track of buffer.</span><br><span class="line">    change-buffer</span><br><span class="line">    insert-substring-from-oldbuf-into-buffer)</span><br><span class="line"></span><br><span class="line">  change-back-to-original-buffer-when-finished</span><br><span class="line">let-the-local-meaning-of-oldbuf-disappear-when-finished</span><br></pre></td></tr></table></figure>
<p>In summary, <code>append-to-buffer</code> works as follows: it saves the value of the current buffer in the variable called <code>oldbuf</code>. It gets the new buffer (creating one if need be) and switches Emacs’s attention to it. Using the value of <code>oldbuf</code>, it inserts the region of text from the old buffer into the new buffer; and then using <code>save-excursion</code>, it brings you back to your original buffer.</p>
<p>In looking at <code>append-to-buffer</code>, you have explored a fairly complex function. It shows how to use <code>let</code> and <code>save-excursion</code>, and how to change to and come back from another buffer. Many function definitions use <code>let</code>, <code>save-excursion</code>, and <code>set-buffer</code> this way.</p>
<h3 id="4-5-Review"><a href="#4-5-Review" class="headerlink" title="4.5 Review"></a>4.5 Review</h3><p>Here is a brief summary of the various functions discussed in this chapter.</p>
<ul>
<li><p><code>describe-function</code></p>
</li>
<li><p><code>describe-variable</code></p>
<p>Print the documentation for a function or variable. Conventionally bound to C-h f and C-h v.  </p>
</li>
<li><p><code>xref-find-definitions</code></p>
<p>Find the file containing the source for a function or variable and switch buffers to it, positioning point at the beginning of the item. Conventionally bound to M-. (that’s a period following the <meta> key).  </p>
</li>
<li><p><code>save-excursion</code></p>
<p>Save the location of point and restore its value after the arguments to <code>save-excursion</code> have been evaluated. Also, remember the current buffer and return to it.  </p>
</li>
<li><p><code>push-mark</code></p>
<p>Set mark at a location and record the value of the previous mark on the mark ring. The mark is a location in the buffer that will keep its relative position even if text is added to or removed from the buffer.  </p>
</li>
<li><p><code>goto-char</code></p>
<p>Set point to the location specified by the value of the argument, which can be a number, a marker, or an expression that returns the number of a position, such as <code>(point-min)</code>.  </p>
</li>
<li><p><code>insert-buffer-substring</code></p>
<p>Copy a region of text from a buffer that is passed to the function as an argument and insert the region into the current buffer.  </p>
</li>
<li><p><code>mark-whole-buffer</code></p>
<p>Mark the whole buffer as a region. Normally bound to C-x h.  </p>
</li>
<li><p><code>set-buffer</code></p>
<p>Switch the attention of Emacs to another buffer, but do not change the window being displayed. Used when the program rather than a human is to work on a different buffer.  </p>
</li>
<li><p><code>get-buffer-create</code></p>
</li>
<li><p><code>get-buffer</code></p>
<p>Find a named buffer or create one if a buffer of that name does not exist. The <code>get-buffer</code> function returns <code>nil</code> if the named buffer does not exist.</p>
</li>
</ul>
<h3 id="4-6-Exercises"><a href="#4-6-Exercises" class="headerlink" title="4.6 Exercises"></a>4.6 Exercises</h3><ul>
<li>Write your own <code>simplified-end-of-buffer</code> function definition; then test it to see whether it works.</li>
<li>Use <code>if</code> and <code>get-buffer</code> to write a function that prints a message telling you whether a buffer exists.</li>
<li>Using <code>xref-find-definitions</code>, find the source for the <code>copy-to-buffer</code> function.</li>
</ul>

      
    </div>

    

    
    
    

    

    
      
    
    

    

    <footer class="post-footer">
      
        <div class="post-tags">
          
            <a href="/tags/elisp/" rel="tag"># elisp</a>
          
        </div>
      

      
      
      

      
        <div class="post-nav">
          <div class="post-nav-next post-nav-item">
            
              <a href="/2019/06/11/elisp-function/" rel="next" title="Intro to elisp 3 How To Write Function Definitions">
                <i class="fa fa-chevron-left"></i> Intro to elisp 3 How To Write Function Definitions
              </a>
            
          </div>

          <span class="post-nav-divider"></span>

          <div class="post-nav-prev post-nav-item">
            
              <a href="/2019/06/11/elisp-more-complex-functions/" rel="prev" title="Intro to elisp 5. A Few More Complex Functions">
                Intro to elisp 5. A Few More Complex Functions <i class="fa fa-chevron-right"></i>
              </a>
            
          </div>
        </div>
      

      
      
    </footer>
  </div>
  
  
  
  </article>


  </div>


          </div>
          

  
    <div class="comments" id="comments">
      <div id="disqus_thread">
        <noscript>Please enable JavaScript to view the comments powered by Disqus.</noscript>
      </div>
    </div>

  



        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    <div class="sidebar-inner">

      

      
        <ul class="sidebar-nav motion-element">
          <li class="sidebar-nav-toc sidebar-nav-active" data-target="post-toc-wrap">
            Table of Contents
          </li>
          <li class="sidebar-nav-overview" data-target="site-overview-wrap">
            Overview
          </li>
        </ul>
      

      <div class="site-overview-wrap sidebar-panel">
        <div class="site-overview">
          <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
            
              <p class="site-author-name" itemprop="name">Gabriel</p>
              <div class="site-description motion-element" itemprop="description"></div>
          </div>

          
            <nav class="site-state motion-element">
              
                <div class="site-state-item site-state-posts">
                
                  <a href="/archives/">
                
                    <span class="site-state-item-count">32</span>
                    <span class="site-state-item-name">posts</span>
                  </a>
                </div>
              

              
                
                
                <div class="site-state-item site-state-categories">
                  
                    
                      <a href="/categories/">
                    
                  
                    
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                    <span class="site-state-item-count">16</span>
                    <span class="site-state-item-name">categories</span>
                  </a>
                </div>
              

              
                
                
                <div class="site-state-item site-state-tags">
                  
                    
                      <a href="/tags/">
                    
                  
                    
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                    <span class="site-state-item-count">30</span>
                    <span class="site-state-item-name">tags</span>
                  </a>
                </div>
              
            </nav>
          

          

          

          
            <div class="links-of-author motion-element">
              
                <span class="links-of-author-item">
                  
                  
                    
                  
                  
                    
                  
                  <a href="https://github.com/AlphaAlgorithms" title="GitHub &rarr; https://github.com/AlphaAlgorithms" rel="noopener" target="_blank"><i class="fa fa-fw fa-github"></i>GitHub</a>
                </span>
              
            </div>
          

          

          
          

          
            
          
          

        </div>
      </div>

      
      <!--noindex-->
        <div class="post-toc-wrap motion-element sidebar-panel sidebar-panel-active">
          <div class="post-toc">

            
            
            
            

            
              <div class="post-toc-content"><ol class="nav"><li class="nav-item nav-level-3"><a class="nav-link" href="#4-1-Finding-More-Information"><span class="nav-text">4.1 Finding More Information</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#4-2-A-Simplified-beginning-of-buffer-Definition"><span class="nav-text">4.2 A Simplified beginning-of-buffer Definition</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#4-3-The-Definition-of-mark-whole-buffer"><span class="nav-text">4.3 The Definition of mark-whole-buffer</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#An-overview-of-mark-whole-buffer"><span class="nav-text">An overview of mark-whole-buffer</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#4-3-1-Body-of-mark-whole-buffer"><span class="nav-text">4.3.1 Body of mark-whole-buffer</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#4-4-The-Definition-of-append-to-buffer"><span class="nav-text">4.4 The Definition of append-to-buffer</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#An-Overview-of-append-to-buffer"><span class="nav-text">An Overview of append-to-buffer</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#4-4-1-The-append-to-buffer-Interactive-Expression"><span class="nav-text">4.4.1 The append-to-buffer Interactive Expression</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#4-4-2-The-Body-of-append-to-buffer"><span class="nav-text">4.4.2 The Body of append-to-buffer</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#4-4-3-save-excursion-in-append-to-buffer"><span class="nav-text">4.4.3 save-excursion in append-to-buffer</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#4-5-Review"><span class="nav-text">4.5 Review</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#4-6-Exercises"><span class="nav-text">4.6 Exercises</span></a></li></ol></div>
            

          </div>
        </div>
      <!--/noindex-->
      

      

    </div>
  </aside>
  


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright">&copy; <span itemprop="copyrightYear">2019</span>
  <span class="with-love" id="animate">
    <i class="fa fa-user"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Gabriel</span>

  

  
</div>


  <div class="powered-by">Powered by <a href="https://hexo.io" class="theme-link" rel="noopener" target="_blank">Hexo</a> v3.8.0</div>



  <span class="post-meta-divider">|</span>



  <div class="theme-info">Theme – <a href="https://theme-next.org" class="theme-link" rel="noopener" target="_blank">NexT.Mist</a> v7.1.1</div>




        








        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
      </div>
    

    

    

    
  </div>

  

<script>
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>


























  
  <script src="/lib/jquery/index.js?v=2.1.3"></script>

  
  <script src="/lib/velocity/velocity.min.js?v=1.2.1"></script>

  
  <script src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>


  


  <script src="/js/utils.js?v=7.1.1"></script>

  <script src="/js/motion.js?v=7.1.1"></script>



  
  


  <script src="/js/schemes/muse.js?v=7.1.1"></script>




  
  <script src="/js/scrollspy.js?v=7.1.1"></script>
<script src="/js/post-details.js?v=7.1.1"></script>



  


  <script src="/js/next-boot.js?v=7.1.1"></script>


  

  

  

  
  
  <script id="dsq-count-scr" src="https://alphaalgorithms.disqus.com/count.js" async></script>


<script>
  var disqus_config = function() {
    this.page.url = "https://alphaalgorithms.github.io/2019/06/11/elisp-buffer-functions/";
    this.page.identifier = "2019/06/11/elisp-buffer-functions/";
    this.page.title = 'Intro elisp 4. A Few Buffer-Related Functions';
    };
  function loadComments() {
    var d = document, s = d.createElement('script');
    s.src = 'https://alphaalgorithms.disqus.com/embed.js';
    s.setAttribute('data-timestamp', '' + +new Date());
    (d.head || d.body).appendChild(s);
  }
  
    loadComments();
  
</script>





  


  




  

  

  

  

  

  

  

  

  

  

  

  

  

  

</body>
</html>
