<!DOCTYPE html>












  


<html class="theme-next mist use-motion" lang>
<head><meta name="generator" content="Hexo 3.8.0">
  <meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
























<link rel="stylesheet" href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2">

<link rel="stylesheet" href="/css/main.css?v=7.1.1">


  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png?v=7.1.1">


  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png?v=7.1.1">


  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png?v=7.1.1">


  <link rel="mask-icon" href="/images/logo.svg?v=7.1.1" color="#222">







<script id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Mist',
    version: '7.1.1',
    sidebar: {"position":"left","display":"post","offset":12,"onmobile":false,"dimmer":false},
    back2top: true,
    back2top_sidebar: false,
    fancybox: false,
    fastclick: false,
    lazyload: false,
    tabs: true,
    motion: {"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>


  




  <meta property="og:type" content="website">
<meta property="og:title" content="DummyHead">
<meta property="og:url" content="https://alphaalgorithms.github.io/index.html">
<meta property="og:site_name" content="DummyHead">
<meta property="og:locale" content="default">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="DummyHead">





  
  
  <link rel="canonical" href="https://alphaalgorithms.github.io/">



<script id="page.configurations">
  CONFIG.page = {
    sidebar: "",
  };
</script>

  <title>DummyHead</title>
  












  <noscript>
  <style>
  .use-motion .motion-element,
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-title { opacity: initial; }

  .use-motion .logo,
  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>

</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="default">

  
  
    
  

  <div class="container sidebar-position-left 
  page-home">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta">
    

    <div class="custom-logo-site-title">
      <a href="/" class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">DummyHead</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
    
    
  </div>

  <div class="site-nav-toggle">
    <button aria-label="Toggle navigation bar">
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>



<nav class="site-nav">
  
    <ul id="menu" class="menu">
      
        
        
        
          
          <li class="menu-item menu-item-home menu-item-active">

    
    
    
      
    

    
      
    

    <a href="/" rel="section"><i class="menu-item-icon fa fa-fw fa-home"></i> <br>Home</a>

  </li>
        
        
        
          
          <li class="menu-item menu-item-tags">

    
    
    
      
    

    
      
    

    <a href="/tags/" rel="section"><i class="menu-item-icon fa fa-fw fa-tags"></i> <br>Tags<span class="badge">26</span></a>

  </li>
        
        
        
          
          <li class="menu-item menu-item-categories">

    
    
    
      
    

    
      
    

    <a href="/categories/" rel="section"><i class="menu-item-icon fa fa-fw fa-th"></i> <br>Categories<span class="badge">16</span></a>

  </li>
        
        
        
          
          <li class="menu-item menu-item-archives">

    
    
    
      
    

    
      
    

    <a href="/archives/" rel="section"><i class="menu-item-icon fa fa-fw fa-archive"></i> <br>Archives<span class="badge">22</span></a>

  </li>

      
      
    </ul>
  

  
    

  

  
</nav>



  



</div>
    </header>

    


    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          
          <div id="content" class="content">
            
  <section id="posts" class="posts-expand">
    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://alphaalgorithms.github.io/2019/06/03/grokking-two-s-complements/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Gabriel">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="DummyHead">
    </span>

    
      <header class="post-header">

        
        
          <h2 class="post-title" itemprop="name headline">
                
                
                <a href="/2019/06/03/grokking-two-s-complements/" class="post-title-link" itemprop="url">Grokking原码, 补码, 反码</a>
              
            
          </h2>
        

        <div class="post-meta">
          <span class="post-time">

            
            
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              

              
                
              

              <time title="Created: 2019-06-03 15:38:57 / Modified: 15:42:27" itemprop="dateCreated datePublished" datetime="2019-06-03T15:38:57+08:00">2019-06-03</time>
            

            
              

              
            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/bitOperations/" itemprop="url" rel="index"><span itemprop="name">bitOperations</span></a></span>

                
                
              
            </span>
          

          
            
            
              
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <span class="post-meta-item-icon">
                  <i class="fa fa-comment-o"></i>
                </span>
            
                <span class="post-meta-item-text">Comments: </span>
                <a href="/2019/06/03/grokking-two-s-complements/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count disqus-comment-count" data-disqus-identifier="2019/06/03/grokking-two-s-complements/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="基本概念"><a href="#基本概念" class="headerlink" title="基本概念"></a>基本概念</h2><p>反码是个生造出来的概念．<br>所谓反码，英语里又叫ones’ complement（对1求补）<br>所谓补码，英语里又叫two’s complement（对2求补）</p>
<h2 id="模的概念"><a href="#模的概念" class="headerlink" title="模的概念"></a>模的概念</h2><p>首先灌输一个新的概念叫，模</p>
<p>什么是“模”，想象日常使用的钟表，它可以显示0～12点的时间，假设现在是2点钟，请用手动拨动时针的方式将时间减4小时，你会怎么做？</p>
<p>有两种方式：</p>
<ol>
<li>逆时针将时针拨4小时</li>
<li>顺时针将时针拨8（12-4）小时</li>
</ol>
<p>这里要讲的是第二种方式，为什么顺时针拨12-4也可以达到和正常思维的第一种方式一样的位置。<br>12就是模。<br>同样的，如果是十进制的两位数，80-10 和 80＋90在不考虑百位数的基础上都是70。这里的90就是100-10得来的，这种情况下100就是模<br>模就好比是一个极限，在它的范围内，两个相加等于模的数互为补数，还是举100的例子<br>90和10， 55和45，68和32，互为补数<br>在模的范围内做减法，可以将“X－Y”的减法变更为“X＋Y的补数“的加法，当然前提是不考虑百位数</p>
<p>思考题，<em>上面举的例子是大数减小数，那么如果是小数减大数会怎么样呢？</em><br>如果是10-80，结果应该是－70，但如果按照10+（100-80），结果是30。<br>而很明显－70和30不是一回事，这里也没有百位数的问题，这种情况应该怎么破？<br>当初的那些先贤们想出来的办法很简单，就是把这两个数直接划上等号，正好顺便解决了负数的表达方式。再来仔细看看这两个数的关系：－70绝对值的补数就正好是30</p>
<blockquote>
<p> 所以在计算机中，<strong>负数的表达方式就是它绝对值的补数</strong></p>
</blockquote>
<p>但是问题又来了，看起来这个解决方式很完美了，但别忘了，30他已经代表了正数的30了，现在又要用来代表负数的－70，谁知道它出现的时候到底是代表哪个数？<br>为了解决这个问题，需要给这套规则划定一个范围，原来是0～99的正数，现在既然要用部分正数来代替负数了，那就要规定一个范围来使得一个数只代表一个含义，正好一人一半，0～49这个区间就代表正数，50～99的区间就用来代表各自补数的负值，例：98就代表－2</p>
<h2 id="现在回到二进制的计算机世界"><a href="#现在回到二进制的计算机世界" class="headerlink" title="现在回到二进制的计算机世界"></a>现在回到二进制的计算机世界</h2><p>8位二进制数一共可以表示2的8次方，256个数，即0～255 （别忘了0也要占一位的），他们的极限就是256，即256是8位二进制数的模 ，应该不难理解吧，同上十进制的两位数0～99的模是100。<br>还是用二进制来说明清楚，8位二进制能表示的数的极限是<br>1 1 1 1 1 1 1 1， 就是255，在这基础上加0 0 0 0 0 0 0 1，出现了进一位 即 1 0 0 0 0 0 0 0 0<br>这个1 0 0 0 0 0 0 0 0就是8位二进制数的模，256</p>
<p>同样按照第二步讲的逻辑，一半的数0～127，代表其正数本身，另一半的数 128～255，代表其补数的负值，即“－1～－128”的区间。<br>而 “X－Y”的减法 就用 “X＋Y的补数” 的加法来表示，完美！ 唯一需要注意的事情是任何计算的输入值和输出结果值都需要严格遵守－128～127的范围，一旦溢出就会报错。<br>这也就是我们在编程里强调的为什么 byte＋byte还得是byte，int＋int还得是int，数据溢出问题也是每一个程序员都需要注意的问题。</p>
<p>这样一说是不是可以理解－128的补码是怎么来的了吧？ 他就是256-｜－128｜＝128<br>二进制的128是不是就是1 0 0 0 0 0 0 0 ？</p>
<h2 id="最终问题，那书和老师为什么要用原码，反码来讲补码-？"><a href="#最终问题，那书和老师为什么要用原码，反码来讲补码-？" class="headerlink" title="最终问题，那书和老师为什么要用原码，反码来讲补码 ？"></a>最终问题，那书和老师为什么要用原码，反码来讲补码 ？</h2><p>空穴来风，未必无因</p>
<p>那是因为计算机就是这样求负数的补码的，我们在键盘上敲一个负数的时候，计算机要把它用补码的形式存储下来，还记得上面我们讲的补码是怎么来的吗？</p>
<p>模－绝对值，这是不是个减法公式？但计算机没有减法逻辑，我们费了那么大的劲搞了一套补码的规则就是为了用加法来替代减法，但为了实现这么套规则，却跨不过一个坎，就是把负数计算成补码仍然是需要减法逻辑的。怎么办呢，那些伟大的先贤们 （膜拜）就想出了这么个办法：</p>
<p>首位不变，其余位取反后，再加一，　</p>
<p>“copy and complement”的求解方法</p>
<p><img src="/home/gaowei/Reference/Post/grokking-two-s-complements.assets/copy-and-complement.png" alt="copy-and-complement"></p>
<h2 id="下面是吐槽"><a href="#下面是吐槽" class="headerlink" title="下面是吐槽"></a>下面是吐槽</h2><p>不知道是哪个书呆子教书，照搬了机器的逻辑，把取反加一的方法当做补码的计算逻辑就这么教下来了。搞笑的是，还保留了补码这个名字，照理说这种教法应该叫 取反加一码 更合理，你还补什么啊？ </p>
<p>不仅如此，还搞出了个首位符号位的说法，弄出了个正0负0，还用负0来充当－128，真是不把人弄疯不罢休啊！！</p>
<h2 id="保留符号的运算"><a href="#保留符号的运算" class="headerlink" title="保留符号的运算"></a>保留符号的运算</h2><p><img src="/home/gaowei/Reference/Post/grokking-two-s-complements.assets/retain-symbols.png" alt="retain-symbols"></p>
<p><img src="/home/gaowei/Reference/Post/grokking-two-s-complements.assets/retain-symbols2.png" alt="retain-symbols2"></p>
<h2 id="参考资料"><a href="#参考资料" class="headerlink" title="参考资料"></a>参考资料</h2><ul>
<li><a href="https://www.zhihu.com/question/20458542/answer/40759880" target="_blank" rel="noopener">https://www.zhihu.com/question/20458542/answer/40759880</a></li>
</ul>

          
        
      
    </div>

    

    
    
    

    

    
      
    
    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://alphaalgorithms.github.io/2019/06/01/python-format-string/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Gabriel">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="DummyHead">
    </span>

    
      <header class="post-header">

        
        
          <h2 class="post-title" itemprop="name headline">
                
                
                <a href="/2019/06/01/python-format-string/" class="post-title-link" itemprop="url">Python Format String</a>
              
            
          </h2>
        

        <div class="post-meta">
          <span class="post-time">

            
            
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              

              
                
              

              <time title="Created: 2019-06-01 15:24:54 / Modified: 17:24:10" itemprop="dateCreated datePublished" datetime="2019-06-01T15:24:54+08:00">2019-06-01</time>
            

            
              

              
            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/fileManager-textProcessing/" itemprop="url" rel="index"><span itemprop="name">fileManager -textProcessing</span></a></span>

                
                
              
            </span>
          

          
            
            
              
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <span class="post-meta-item-icon">
                  <i class="fa fa-comment-o"></i>
                </span>
            
                <span class="post-meta-item-text">Comments: </span>
                <a href="/2019/06/01/python-format-string/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count disqus-comment-count" data-disqus-identifier="2019/06/01/python-format-string/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="Field-Width-and-Alignment"><a href="#Field-Width-and-Alignment" class="headerlink" title="Field Width and Alignment"></a>Field Width and Alignment</h2><blockquote>
<p>默认左对齐 </p>
</blockquote>
<table>
<thead>
<tr>
<th><code>&#39;hey {:10}&#39;.format(&#39;hello&#39;)</code></th>
<th>Specify width (Aign left, fill with spaces)</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>&#39;{:010}&#39;.format(2)</code></td>
<td>Fill with zeroesOutput: <code>0000000002</code></td>
</tr>
<tr>
<td><code>&#39;{:*^30}&#39;.format(&#39;text&#39;)</code></td>
<td>Specify width, align to centerOutput: <code>*************text*************</code></td>
</tr>
</tbody>
</table>
<blockquote>
<table>
<thead>
<tr>
<th>Option</th>
<th>Meaning, padding</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>&#39;&lt;&#39;</code></td>
<td>Forces the field to be left-aligned within the available space (this is the default for most objects).</td>
</tr>
<tr>
<td><code>&#39;&gt;&#39;</code></td>
<td>Forces the field to be right-aligned within the available space (this is the default for numbers).</td>
</tr>
<tr>
<td><code>&#39;=&#39;</code></td>
<td>Forces the padding to be placed after the sign (if any) but before the digits. This is used for printing fields in the form ‘+000000120’. This alignment option is only valid for numeric types. It becomes the default when ‘0’ immediately precedes the field width.</td>
</tr>
<tr>
<td><code>&#39;^&#39;</code></td>
<td>Forces the field to be centered within the available space.</td>
</tr>
</tbody>
</table>
</blockquote>
<h2 id="Member-and-Element-Access"><a href="#Member-and-Element-Access" class="headerlink" title="Member and Element Access"></a>Member and Element Access</h2><table>
<thead>
<tr>
<th><code>&#39;{0}, {1}, {2}&#39;.format(1, 2, 3)</code></th>
<th>Access arguments by ordinal positionOutput: <code>1, 2, 3</code></th>
</tr>
</thead>
<tbody>
<tr>
<td><code>&#39;{}, {}, {}&#39;.format(1, 2, 3)</code></td>
<td>Implicit positional arguments (2.7 and above only)Output: <code>1, 2, 3</code></td>
</tr>
<tr>
<td><code>&#39;{value1}, {value2}, {value2}&#39;.format(value1=1, value2=2, value3=3)</code></td>
<td>Access keyword arguments by nameOutput: <code>1, 2, 2</code></td>
</tr>
<tr>
<td><code>&#39;{[1]}&#39;.format([&#39;first&#39;, &#39;second&#39;, &#39;third&#39;])</code></td>
<td>Access element by indexOutput: <code>second</code></td>
</tr>
<tr>
<td><code>&#39;{.name}&#39;.format(sys.stdin)</code></td>
<td>Access element attributeOutput: <code>&lt;stdin&gt;</code></td>
</tr>
<tr>
<td><code>&#39;{[name]}&#39;.format({&#39;name&#39;: &#39;something&#39;})</code></td>
<td>Access element by keyOutput: <code>something</code></td>
</tr>
</tbody>
</table>
<h2 id="Numerical-Representation"><a href="#Numerical-Representation" class="headerlink" title="Numerical Representation"></a>Numerical Representation</h2><table>
<thead>
<tr>
<th><code>&#39;{:x}&#39;.format(100)</code></th>
<th>Hexadecimal representationOutput: <code>64</code></th>
</tr>
</thead>
<tbody>
<tr>
<td><code>&#39;{:X}&#39;.format(3487)</code></td>
<td>Hexadecimal representation (uppercase letters)Output: <code>D9F</code></td>
</tr>
<tr>
<td><code>&#39;{:#x}&#39;.format(100)</code></td>
<td>Hexadecimal representation (including the <code>0x</code>)Output: <code>0x64</code></td>
</tr>
<tr>
<td><code>&#39;{:b}&#39;.format(100)</code></td>
<td>Binary representationOutput: <code>1100100</code></td>
</tr>
<tr>
<td><code>&#39;{:c}&#39;.format(100)</code></td>
<td>Character representationOutput: <code>d</code></td>
</tr>
<tr>
<td><code>&#39;{:d}&#39;.format(100)</code></td>
<td>Decimal representation (default)Output: <code>100</code></td>
</tr>
<tr>
<td><code>&#39;{:,}&#39;.format(1000000)</code></td>
<td>With thousands separatorOutput: <code>1,000,000</code></td>
</tr>
<tr>
<td><code>&#39;{:o}&#39;.format(100)</code></td>
<td>Octal representationOutput: <code>144</code></td>
</tr>
<tr>
<td><code>&#39;{:n}&#39;.format(100)</code></td>
<td>Like <code>d</code>, but uses locale information for separatorsOutput: <code>100</code></td>
</tr>
<tr>
<td><code>&#39;{:e}&#39;.format(0.0000000001)</code></td>
<td>Exponent notationOutput: <code>1.000000e-10</code></td>
</tr>
<tr>
<td><code>&#39;{:E}&#39;.format(0.0000000001)</code></td>
<td>Exponent notation (capital ‘E’)Output: <code>1.000000E-10</code></td>
</tr>
<tr>
<td><code>&#39;{:f}&#39;.format(3/14.0)</code></td>
<td>Fixed pointOutput: <code>0.214286</code></td>
</tr>
<tr>
<td><code>&#39;{:g}&#39;.format(3/14.0)</code></td>
<td>General formatOutput: <code>0.214286</code></td>
</tr>
<tr>
<td><code>&#39;{:%}&#39;.format(0.66)</code></td>
<td>PercentageOutput: <code>66.000000%</code></td>
</tr>
<tr>
<td><code>&#39;{:.3}&#39;.format(0.214286)</code></td>
<td>PrecisionOutput: <code>0.214</code></td>
</tr>
</tbody>
</table>
<p>Integers </p>
<blockquote>
<table>
<thead>
<tr>
<th>Type</th>
<th>Meaning</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>&#39;b&#39;</code></td>
<td>Binary format. Outputs the number in base 2.</td>
</tr>
<tr>
<td><code>&#39;c&#39;</code></td>
<td>Character. Converts the integer to the corresponding unicode character before printing.</td>
</tr>
<tr>
<td><code>&#39;d&#39;</code></td>
<td>Decimal Integer. Outputs the number in base 10.</td>
</tr>
<tr>
<td><code>&#39;o&#39;</code></td>
<td>Octal format. Outputs the number in base 8.</td>
</tr>
<tr>
<td><code>&#39;x&#39;</code></td>
<td>Hex format. Outputs the number in base 16, using lower-case letters for the digits above 9.</td>
</tr>
<tr>
<td><code>&#39;X&#39;</code></td>
<td>Hex format. Outputs the number in base 16, using upper-case letters for the digits above 9.</td>
</tr>
<tr>
<td><code>&#39;n&#39;</code></td>
<td>Number. This is the same as <code>&#39;d&#39;</code>, except that it uses the current locale setting to insert the appropriate number separator characters.</td>
</tr>
<tr>
<td>None</td>
<td>The same as <code>&#39;d&#39;</code>.</td>
</tr>
</tbody>
</table>
</blockquote>
<p>Floating numbers</p>
<blockquote>
<table>
<thead>
<tr>
<th>Type</th>
<th>Meaning</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>&#39;e&#39;</code></td>
<td>Exponent notation. Prints the number in scientific notation using the letter ‘e’ to indicate the exponent. The default precision is <code>6</code>.</td>
</tr>
<tr>
<td><code>&#39;E&#39;</code></td>
<td>Exponent notation. Same as <code>&#39;e&#39;</code> except it uses an upper case ‘E’ as the separator character.</td>
</tr>
<tr>
<td><code>&#39;f&#39;</code></td>
<td>Fixed-point notation. Displays the number as a fixed-point number. The default precision is <code>6</code>.</td>
</tr>
<tr>
<td><code>&#39;F&#39;</code></td>
<td>Fixed-point notation. Same as <code>&#39;f&#39;</code>, but converts <code>nan</code> to <code>NAN</code> and <code>inf</code> to <code>INF</code>.</td>
</tr>
<tr>
<td><code>&#39;g&#39;</code></td>
<td>General format. For a given precision <code>p &gt;= 1</code>, this rounds the number to <code>p</code>significant digits and then formats the result in either fixed-point format or in scientific notation, depending on its magnitude.The precise rules are as follows: suppose that the result formatted with presentation type <code>&#39;e&#39;</code> and precision <code>p-1</code> would have exponent <code>exp</code>. Then if <code>-4&lt;= exp &lt; p</code>, the number is formatted with presentation type <code>&#39;f&#39;</code> and precision<code>p-1-exp</code>. Otherwise, the number is formatted with presentation type <code>&#39;e&#39;</code> and precision <code>p-1</code>. In both cases insignificant trailing zeros are removed from the significand, and the decimal point is also removed if there are no remaining digits following it.Positive and negative infinity, positive and negative zero, and nans, are formatted as <code>inf</code>, <code>-inf</code>, <code>0</code>, <code>-0</code> and <code>nan</code> respectively, regardless of the precision.A precision of <code>0</code> is treated as equivalent to a precision of <code>1</code>. The default precision is <code>6</code>.</td>
</tr>
<tr>
<td><code>&#39;G&#39;</code></td>
<td>General format. Same as <code>&#39;g&#39;</code> except switches to <code>&#39;E&#39;</code> if the number gets too large. The representations of infinity and NaN are uppercased, too.</td>
</tr>
<tr>
<td><code>&#39;n&#39;</code></td>
<td>Number. This is the same as <code>&#39;g&#39;</code>, except that it uses the current locale setting to insert the appropriate number separator characters.</td>
</tr>
<tr>
<td><code>&#39;%&#39;</code></td>
<td>Percentage. Multiplies the number by 100 and displays in fixed (<code>&#39;f&#39;</code>) format, followed by a percent sign.</td>
</tr>
<tr>
<td>None</td>
<td>Similar to <code>&#39;g&#39;</code>, except that fixed-point notation, when used, has at least one digit past the decimal point. The default precision is as high as needed to represent the particular value. The overall effect is to match the output of <a href="https://docs.python.org/3/library/stdtypes.html#str" target="_blank" rel="noopener"><code>str()</code></a> as altered by the other format modifiers.</td>
</tr>
</tbody>
</table>
</blockquote>
<h2 id="Conversions"><a href="#Conversions" class="headerlink" title="Conversions"></a>Conversions</h2><table>
<thead>
<tr>
<th><code>&#39;{!r}&#39;.format(&#39;string&#39;)</code></th>
<th>Calling <code>repr</code> on argumentsOutput: <code>&#39;string&#39;</code></th>
</tr>
</thead>
<tbody>
<tr>
<td><code>&#39;{!s}&#39;.format(1.53438987)</code></td>
<td>Calling <code>str</code> on argumentsOutput: <code>1.53438987</code></td>
</tr>
</tbody>
</table>
<h2 id="Number-Formattting"><a href="#Number-Formattting" class="headerlink" title="Number Formattting"></a>Number Formattting</h2><p>The following table shows various ways to format numbers using Python’s  str.format(), including examples for both float formatting and integer formatting.</p>
<p>To run examples use <code>print(&quot;FORMAT&quot;.format(NUMBER));</code><br>So to get the output of the first example, you would run: <code>print(&quot;{:.2f}&quot;.format(3.1415926));</code></p>
<table>
<thead>
<tr>
<th>Number</th>
<th>Format</th>
<th>Output</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>3.1415926</td>
<td>{:.2f}</td>
<td>3.14</td>
<td>2 decimal places</td>
</tr>
<tr>
<td>3.1415926</td>
<td>{:+.2f}</td>
<td>+3.14</td>
<td>2 decimal places with sign</td>
</tr>
<tr>
<td>-1</td>
<td>{:+.2f}</td>
<td>-1.00</td>
<td>2 decimal places with sign</td>
</tr>
<tr>
<td>2.71828</td>
<td>{:.0f}</td>
<td>3</td>
<td>No decimal places</td>
</tr>
<tr>
<td>5</td>
<td>{:0&gt;2d}</td>
<td>05</td>
<td>Pad number with zeros (left padding, width 2)</td>
</tr>
<tr>
<td>5</td>
<td>{:x&lt;4d}</td>
<td>5xxx</td>
<td>Pad number with x’s (right padding, width 4)</td>
</tr>
<tr>
<td>10</td>
<td>{:x&lt;4d}</td>
<td>10xx</td>
<td>Pad number with x’s (right padding, width 4)</td>
</tr>
<tr>
<td>1000000</td>
<td>{:,}</td>
<td>1,000,000</td>
<td>Number format with comma separator</td>
</tr>
<tr>
<td>0.25</td>
<td>{:.2%}</td>
<td>25.00%</td>
<td>Format percentage</td>
</tr>
<tr>
<td>1000000000</td>
<td>{:.2e}</td>
<td>1.00e+09</td>
<td>Exponent notation</td>
</tr>
<tr>
<td>13</td>
<td>{:10d}</td>
<td>13</td>
<td>Right aligned (default, width 10)</td>
</tr>
<tr>
<td>13</td>
<td>{:&lt;10d}</td>
<td>13</td>
<td>Left aligned (width 10)</td>
</tr>
<tr>
<td>13</td>
<td>{:^10d}</td>
<td>13</td>
<td>Center aligned (width 10)</td>
</tr>
</tbody>
</table>
<h2 id="Official-Examples"><a href="#Official-Examples" class="headerlink" title="Official Examples"></a>Official Examples</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 1) by position:</span></span><br><span class="line"><span class="string">'&#123;0&#125;, &#123;1&#125;, &#123;2&#125;'</span>.format(<span class="string">'a'</span>, <span class="string">'b'</span>, <span class="string">'c'</span>)</span><br><span class="line"><span class="string">'&#123;&#125;, &#123;&#125;, &#123;&#125;'</span>.format(<span class="string">'a'</span>, <span class="string">'b'</span>, <span class="string">'c'</span>)  <span class="comment"># 3.1+ only</span></span><br><span class="line"><span class="string">'&#123;2&#125;, &#123;1&#125;, &#123;0&#125;'</span>.format(<span class="string">'a'</span>, <span class="string">'b'</span>, <span class="string">'c'</span>)</span><br><span class="line"><span class="string">'&#123;2&#125;, &#123;1&#125;, &#123;0&#125;'</span>.format(*<span class="string">'abc'</span>)      <span class="comment"># unpacking argument sequence</span></span><br><span class="line"><span class="string">'&#123;0&#125;&#123;1&#125;&#123;0&#125;'</span>.format(<span class="string">'abra'</span>, <span class="string">'cad'</span>)   <span class="comment"># arguments' indices can be repeated</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#2) by name </span></span><br><span class="line"><span class="string">'Coordinates: &#123;latitude&#125;, &#123;longitude&#125;'</span>.format(latitude=<span class="string">'37.24N'</span>, longitude=<span class="string">'-115.81W'</span>)</span><br><span class="line">coord = &#123;<span class="string">'latitude'</span>: <span class="string">'37.24N'</span>, <span class="string">'longitude'</span>: <span class="string">'-115.81W'</span>&#125;</span><br><span class="line"><span class="string">'Coordinates: &#123;latitude&#125;, &#123;longitude&#125;'</span>.format(**coord)</span><br><span class="line"></span><br><span class="line"><span class="comment">#3) by attributes</span></span><br><span class="line">c = <span class="number">3</span><span class="number">-5j</span></span><br><span class="line">(<span class="string">'The complex number &#123;0&#125; is formed from the real part &#123;0.real&#125; '</span></span><br><span class="line"> <span class="string">'and the imaginary part &#123;0.imag&#125;.'</span>).format(c)</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Point</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span><span class="params">(self, x, y)</span>:</span></span><br><span class="line">        self.x, self.y = x, y</span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__str__</span><span class="params">(self)</span>:</span></span><br><span class="line">        <span class="keyword">return</span> <span class="string">'Point(&#123;self.x&#125;, &#123;self.y&#125;)'</span>.format(self=self)</span><br><span class="line">str(Point(<span class="number">4</span>, <span class="number">2</span>))</span><br><span class="line"></span><br><span class="line"><span class="comment">#4) by arguments' items </span></span><br><span class="line">coord = (<span class="number">3</span>, <span class="number">5</span>)</span><br><span class="line"><span class="string">'X: &#123;0[0]&#125;;  Y: &#123;0[1]&#125;'</span>.format(coord)</span><br><span class="line"></span><br><span class="line"><span class="comment">#5) 注意这里的aligned用了&gt; &lt; Y与regex的look around保持一直</span></span><br><span class="line"><span class="string">'&#123;:&lt;30&#125;'</span>.format(<span class="string">'left aligned'</span>)</span><br><span class="line"><span class="string">'&#123;:&gt;30&#125;'</span>.format(<span class="string">'right aligned'</span>)</span><br><span class="line"><span class="string">'&#123;:^30&#125;'</span>.format(<span class="string">'centered'</span>)</span><br><span class="line"><span class="string">'&#123;:*^30&#125;'</span>.format(<span class="string">'centered'</span>)  <span class="comment"># use '*' as a fill char</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#6) Replacing %+f, %-f, and % f and specifying a sign:</span></span><br><span class="line"><span class="string">'&#123;:+f&#125;; &#123;:+f&#125;'</span>.format(<span class="number">3.14</span>, <span class="number">-3.14</span>)  <span class="comment"># show it always</span></span><br><span class="line"><span class="string">'&#123;: f&#125;; &#123;: f&#125;'</span>.format(<span class="number">3.14</span>, <span class="number">-3.14</span>)  <span class="comment"># show a space for positive numbers</span></span><br><span class="line"><span class="string">'&#123;:-f&#125;; &#123;:-f&#125;'</span>.format(<span class="number">3.14</span>, <span class="number">-3.14</span>)  <span class="comment"># show only the minus -- same as '&#123;:f&#125;; &#123;:f&#125;'</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 7) Replacing %x and %o and converting the value to different bases:</span></span><br><span class="line"><span class="comment"># format also supports binary numbers</span></span><br><span class="line"><span class="string">"int: &#123;0:d&#125;;  hex: &#123;0:x&#125;;  oct: &#123;0:o&#125;;  bin: &#123;0:b&#125;"</span>.format(<span class="number">42</span>)</span><br><span class="line"><span class="comment"># with 0x, 0o, or 0b as prefix:</span></span><br><span class="line"><span class="string">"int: &#123;0:d&#125;;  hex: &#123;0:#x&#125;;  oct: &#123;0:#o&#125;;  bin: &#123;0:#b&#125;"</span>.format(<span class="number">42</span>)</span><br></pre></td></tr></table></figure>
<h2 id="Other-Examples"><a href="#Other-Examples" class="headerlink" title="Other Examples"></a>Other Examples</h2><h3 id="Padding-and-aligning-strings"><a href="#Padding-and-aligning-strings" class="headerlink" title="Padding and aligning strings"></a>Padding and aligning strings</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#alight right </span></span><br><span class="line"><span class="string">'%10s'</span> % (<span class="string">'test'</span>,)</span><br><span class="line"><span class="string">'&#123;:&gt;10&#125;'</span>.format(<span class="string">'test'</span>)</span><br><span class="line">      test</span><br><span class="line"> <span class="comment">#align left:</span></span><br><span class="line">  <span class="string">'%-10s'</span> % (<span class="string">'test'</span>,)</span><br><span class="line">   <span class="string">'&#123;:10&#125;'</span>.format(<span class="string">'test'</span>)</span><br><span class="line">    <span class="string">'&#123;:10&#125;'</span>.format(<span class="string">'test'</span>)</span><br><span class="line">         test </span><br><span class="line">   <span class="comment">#new style</span></span><br><span class="line">  <span class="string">'&#123;:_&lt;10&#125;'</span>.format(<span class="string">'test'</span>)</span><br><span class="line">    test______</span><br><span class="line">    </span><br><span class="line">    <span class="comment">#new style</span></span><br><span class="line">    <span class="string">'&#123;:^10&#125;'</span>.format(<span class="string">'test'</span>)</span><br></pre></td></tr></table></figure>
<h3 id="Truncating-Long-Strings"><a href="#Truncating-Long-Strings" class="headerlink" title="Truncating Long Strings"></a>Truncating Long Strings</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">'%.5s'</span> % (<span class="string">'xylophone'</span>,) <span class="comment">#注意后面的小数点呀是truncate </span></span><br><span class="line"><span class="string">'&#123;:.5&#125;'</span>.format(<span class="string">'xylophone'</span>)</span><br><span class="line">xylop</span><br></pre></td></tr></table></figure>
<h3 id="Combining-truncating-and-padding"><a href="#Combining-truncating-and-padding" class="headerlink" title="Combining truncating and padding"></a>Combining truncating and padding</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">'%-10.5s'</span> % (<span class="string">'xylophone'</span>,)</span><br><span class="line"><span class="string">'&#123;:10.5&#125;'</span>.format(<span class="string">'xylophone'</span>)</span><br><span class="line">xylop</span><br></pre></td></tr></table></figure>
<h3 id="Numbers"><a href="#Numbers" class="headerlink" title="Numbers"></a>Numbers</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">'%d'</span> % (<span class="number">42</span>,)</span><br><span class="line"><span class="string">'&#123;:d&#125;'</span>.format(<span class="number">42</span>)</span><br><span class="line"><span class="number">42</span></span><br><span class="line"></span><br><span class="line"><span class="string">'%f'</span> % (<span class="number">3.141592653589793</span>,)</span><br><span class="line"><span class="string">'&#123;:f&#125;'</span>.format(<span class="number">3.141592653589793</span>)</span><br><span class="line">    <span class="number">3.141593</span></span><br><span class="line">    </span><br><span class="line"><span class="comment">#signed numbers </span></span><br><span class="line"><span class="string">'%+d'</span> % (<span class="number">42</span>,)</span><br><span class="line"><span class="string">'&#123;:+d&#125;'</span>.format(<span class="number">42</span>)</span><br></pre></td></tr></table></figure>
<h3 id="Getitem-and-Getattr"><a href="#Getitem-and-Getattr" class="headerlink" title="Getitem and Getattr"></a>Getitem and Getattr</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">person = &#123;<span class="string">'first'</span>: <span class="string">'Jean-Luc'</span>, <span class="string">'last'</span>: <span class="string">'Picard'</span>&#125;</span><br><span class="line"><span class="string">'&#123;p[first]&#125; &#123;p[last]&#125;'</span>.format(p=person)</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Plant</span><span class="params">(object)</span>:</span></span><br><span class="line">    type = <span class="string">'tree'</span></span><br><span class="line">    <span class="string">'&#123;p.type&#125;'</span>.format(p=Plant())</span><br><span class="line"> <span class="string">'&#123;:&#123;align&#125;&#123;width&#125;&#125;'</span>.format(<span class="string">'test'</span>, align=<span class="string">'^'</span>, width=<span class="string">'10'</span>)</span><br></pre></td></tr></table></figure>
<h3 id="Datetime"><a href="#Datetime" class="headerlink" title="Datetime"></a>Datetime</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> datetime <span class="keyword">import</span> datetime</span><br><span class="line"><span class="string">'&#123;:%Y-%m-%d %H:%M&#125;'</span>.format(datetime(<span class="number">2001</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>))</span><br></pre></td></tr></table></figure>

          
        
      
    </div>

    

    
    
    

    

    
      
    
    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://alphaalgorithms.github.io/2019/05/26/algorithms-10-kinds-of-classic-algorithms/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Gabriel">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="DummyHead">
    </span>

    
      <header class="post-header">

        
        
          <h2 class="post-title" itemprop="name headline">
                
                
                <a href="/2019/05/26/algorithms-10-kinds-of-classic-algorithms/" class="post-title-link" itemprop="url">十种经典排序算法</a>
              
            
          </h2>
        

        <div class="post-meta">
          <span class="post-time">

            
            
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              

              
                
              

              <time title="Created: 2019-05-26 22:01:47" itemprop="dateCreated datePublished" datetime="2019-05-26T22:01:47+08:00">2019-05-26</time>
            

            
              

              
                
                <span class="post-meta-divider">|</span>
                

                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                
                  <span class="post-meta-item-text">Edited on</span>
                
                <time title="Modified: 2019-06-01 17:27:16" itemprop="dateModified" datetime="2019-06-01T17:27:16+08:00">2019-06-01</time>
              
            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/algorithms-sort/" itemprop="url" rel="index"><span itemprop="name">algorithms - sort</span></a></span>

                
                
              
            </span>
          

          
            
            
              
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <span class="post-meta-item-icon">
                  <i class="fa fa-comment-o"></i>
                </span>
            
                <span class="post-meta-item-text">Comments: </span>
                <a href="/2019/05/26/algorithms-10-kinds-of-classic-algorithms/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count disqus-comment-count" data-disqus-identifier="2019/05/26/algorithms-10-kinds-of-classic-algorithms/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="1-冒泡排序（Bubble-Sort）"><a href="#1-冒泡排序（Bubble-Sort）" class="headerlink" title="1. 冒泡排序（Bubble Sort）"></a>1. 冒泡排序（Bubble Sort）</h2><p>这个算法的名字由来是因为越小的元素会经由交换慢慢“浮”到数列的顶端。 </p>
<p><strong>Bubble sort</strong>, sometimes referred to as <strong>sinking sort</strong>, is a simple <a href="https://en.wikipedia.org/wiki/Sorting_algorithm" target="_blank" rel="noopener">sorting algorithm</a> that repeatedly steps through the list, compares adjacent pairs and <a href="https://en.wikipedia.org/wiki/Swap_(computer_science" target="_blank" rel="noopener">swaps</a>) them if they are in the wrong order. </p>
<blockquote>
<p>物理模拟的理论源头. </p>
</blockquote>
<h3 id="1-1-Pseudocodes-Implementation"><a href="#1-1-Pseudocodes-Implementation" class="headerlink" title="1.1 Pseudocodes Implementation"></a>1.1 Pseudocodes Implementation</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#basics </span></span><br><span class="line">procedure bubbleSort(A : list of sortable items )</span><br><span class="line">    n = length(A)</span><br><span class="line">    repeat</span><br><span class="line">        swapped = false</span><br><span class="line">        <span class="keyword">for</span> i = <span class="number">1</span> to n<span class="number">-1</span> inclusive do</span><br><span class="line">            /* <span class="keyword">if</span> this pair <span class="keyword">is</span> out of order */</span><br><span class="line">            <span class="keyword">if</span> A[i<span class="number">-1</span>] &gt; A[i] then</span><br><span class="line">                /* swap them <span class="keyword">and</span> remember something changed */</span><br><span class="line">                swap( A[i<span class="number">-1</span>], A[i] )</span><br><span class="line">                swapped = true</span><br><span class="line">            end <span class="keyword">if</span></span><br><span class="line">        end <span class="keyword">for</span></span><br><span class="line">    until <span class="keyword">not</span> swapped</span><br><span class="line">end procedure</span><br><span class="line"></span><br><span class="line"><span class="comment">#improved </span></span><br><span class="line">procedure bubbleSort( A : list of sortable items )</span><br><span class="line">    n = length(A)</span><br><span class="line">    repeat</span><br><span class="line">        swapped = false</span><br><span class="line">        <span class="keyword">for</span> i = <span class="number">1</span> to n<span class="number">-1</span> inclusive do</span><br><span class="line">            <span class="keyword">if</span> A[i<span class="number">-1</span>] &gt; A[i] then</span><br><span class="line">                swap(A[i<span class="number">-1</span>], A[i])</span><br><span class="line">                swapped = true</span><br><span class="line">            end <span class="keyword">if</span></span><br><span class="line">        end <span class="keyword">for</span></span><br><span class="line">        n = n - <span class="number">1</span></span><br><span class="line">    until <span class="keyword">not</span> swapped</span><br><span class="line">end procedure</span><br></pre></td></tr></table></figure>
<h3 id="1-2-动图演示"><a href="#1-2-动图演示" class="headerlink" title="1.2 动图演示"></a>1.2 动图演示</h3><table>
<thead>
<tr>
<th></th>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td><img src="/home/gaowei/Public/Blog/source/_posts/algorithms-10-kinds-of-classic-algorithms.assets/044120.gif" alt="img"></td>
<td><img src="/home/gaowei/Public/Blog/source/_posts/algorithms-10-kinds-of-classic-algorithms.assets/849589-20171015223238449-2146169197.gif" alt></td>
</tr>
</tbody>
</table>
<h3 id="1-3-代码实现"><a href="#1-3-代码实现" class="headerlink" title="1.3 代码实现"></a>1.3 代码实现</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># compare to get the small and swap </span></span><br><span class="line"><span class="comment"># repeat</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">bubble_sort1</span><span class="params">(arr)</span>:</span></span><br><span class="line">    <span class="keyword">for</span> _ <span class="keyword">in</span> range(len(arr)): <span class="comment">#cumbersome loop</span></span><br><span class="line">        <span class="comment"># core logic </span></span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> range(<span class="number">1</span>, len(arr)):</span><br><span class="line">            <span class="keyword">if</span> arr[i] &lt; arr[i<span class="number">-1</span>]:</span><br><span class="line">                temp = arr[i<span class="number">-1</span>] <span class="comment">#目标位置.</span></span><br><span class="line">                arr[i<span class="number">-1</span>] = arr[i]</span><br><span class="line">                arr[i] = temp <span class="comment">#swap的逻辑可以先写后面的两行。</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">bubble_sort2</span><span class="params">(arr)</span>:</span></span><br><span class="line">    <span class="comment">#上浮和下沉</span></span><br><span class="line">    <span class="keyword">while</span> <span class="literal">True</span>:</span><br><span class="line">        swap_counter = <span class="number">0</span></span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> range(<span class="number">1</span>, len(arr)):</span><br><span class="line">            <span class="keyword">if</span> arr[i] &lt; arr[i<span class="number">-1</span>]: <span class="comment">#move smaller up </span></span><br><span class="line">                arr[i<span class="number">-1</span>], arr[i] = arr[i], arr[i<span class="number">-1</span>]</span><br><span class="line">                swap_counter += <span class="number">1</span></span><br><span class="line">        <span class="keyword">if</span> swap_counter == <span class="number">0</span>:</span><br><span class="line">            <span class="keyword">return</span></span><br></pre></td></tr></table></figure>
<h2 id="2-插入排序-Insertion-Sort，"><a href="#2-插入排序-Insertion-Sort，" class="headerlink" title="2. 插入排序 Insertion Sort，　"></a>2. 插入排序 Insertion Sort，　</h2><p>关键点是将第一项作为sorted sequence的分析方法.</p>
<h4 id="2-1-Psedocodes"><a href="#2-1-Psedocodes" class="headerlink" title="2.1 Psedocodes"></a>2.1 Psedocodes</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">i ← <span class="number">1</span></span><br><span class="line"><span class="keyword">while</span> i &lt; length(A)</span><br><span class="line">    j ← i</span><br><span class="line">    <span class="keyword">while</span> j &gt; <span class="number">0</span> <span class="keyword">and</span> A[j<span class="number">-1</span>] &gt; A[j]</span><br><span class="line">        swap A[j] <span class="keyword">and</span> A[j<span class="number">-1</span>]</span><br><span class="line">        j ← j - <span class="number">1</span></span><br><span class="line">    end <span class="keyword">while</span></span><br><span class="line">    i ← i + <span class="number">1</span></span><br><span class="line">end <span class="keyword">while</span></span><br></pre></td></tr></table></figure>
<h4 id="2-2-动态演示"><a href="#2-2-动态演示" class="headerlink" title="2.2 动态演示"></a>2.2 动态演示</h4><table>
<thead>
<tr>
<th>Sorted</th>
<th>Make room</th>
</tr>
</thead>
<tbody>
<tr>
<td><img src="/home/gaowei/Public/Blog/source/_posts/algorithms-10-kinds-of-classic-algorithms.assets/043843.gif" alt="Insertion sort.gif"></td>
<td><img src="/home/gaowei/Public/Blog/source/_posts/algorithms-10-kinds-of-classic-algorithms.assets/849589-20171015225645277-1151100000.gif" alt></td>
</tr>
</tbody>
</table>
<h4 id="2-3-代码实现"><a href="#2-3-代码实现" class="headerlink" title="2.3 代码实现"></a>2.3 代码实现</h4><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#psudocodes </span></span><br><span class="line">Move the pivot entry to a temporary location leaving a hole in List</span><br><span class="line"><span class="keyword">while</span> (there is a name above the hole <span class="keyword">and</span></span><br><span class="line">that name is greater than the pivot):</span><br><span class="line">move the name above the hole down into the hole</span><br><span class="line">leaving a hole above the name</span><br><span class="line">Move the pivot entry into the hole in List.</span><br><span class="line"></span><br><span class="line">#解决方案只保留一项, 越少越好. </span><br><span class="line"><span class="meta">#in-place的实现</span></span><br><span class="line">def insertion_sort(arr):#这个思路是最清晰的.</span><br><span class="line">    for i in range(1, len(arr)):</span><br><span class="line">        #将当前的pivot拿出 </span><br><span class="line">        pivot = arr[i] #Move the pivot to a temporay location,</span><br><span class="line">        hole = i # <span class="keyword">and</span> leave a hole</span><br><span class="line">        #找到比当前值大的,然后下沉. hole&gt;<span class="number">0</span>是因为第一项已经排好了.</span><br><span class="line">        <span class="keyword">while</span> hole &gt; <span class="number">0</span> <span class="keyword">and</span> arr[hole<span class="number">-1</span>] &gt; pivot:</span><br><span class="line">            #当上面有更大的,下沉, 因为是排序好的，所以想象lock整体下沉。</span><br><span class="line">            #</span><br><span class="line">            arr[hole] = arr[hole<span class="number">-1</span>] #下沉填充hole</span><br><span class="line">            hole  = hole- <span class="number">1</span> #leave the hole,两步操作.</span><br><span class="line">        arr[hole] = pivot #insert sort就是这么来的.</span><br><span class="line">    <span class="keyword">return</span> arr</span><br></pre></td></tr></table></figure>
<h2 id="3-选择排序-Selection-Sort"><a href="#3-选择排序-Selection-Sort" class="headerlink" title="3. 选择排序 Selection Sort"></a>3. 选择排序 Selection Sort</h2><p>Psuedocodes: 从剩下的序列中选择最小值， 逐个浮上来。</p>
<h3 id="3-1-算法描述"><a href="#3-1-算法描述" class="headerlink" title="3.1 算法描述"></a>3.1 算法描述</h3><p>There are many different ways to sort the cards. Here’s a simple one, called <strong>selection sort</strong>, possibly similar to how you sorted the cards above:</p>
<ol>
<li>Find the smallest card. Swap it with the first card.</li>
<li>Find the second-smallest card. Swap it with the second card.</li>
<li>Find the third-smallest card. Swap it with the third card.</li>
<li>Repeat finding the next-smallest card, and swapping it into the correct position until the array is sorted.</li>
</ol>
<h3 id="3-2-动图演示"><a href="#3-2-动图演示" class="headerlink" title="3.2 动图演示"></a>3.2 动图演示</h3><table>
<thead>
<tr>
<th>Effects</th>
<th>Demonstration</th>
</tr>
</thead>
<tbody>
<tr>
<td><img src="/home/gaowei/Public/Blog/source/_posts/algorithms-10-kinds-of-classic-algorithms.assets/044356.gif" alt="Selection sort animation.gif"></td>
<td><img src="/home/gaowei/Public/Blog/source/_posts/algorithms-10-kinds-of-classic-algorithms.assets/849589-20171015224719590-1433219824.gif" alt></td>
</tr>
</tbody>
</table>
<h3 id="3-3-代码实现"><a href="#3-3-代码实现" class="headerlink" title="3.3 代码实现"></a>3.3 代码实现</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="comment">#要输出的是new_arr</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">selection_sort3</span><span class="params">(arr)</span>:</span>　＃基本思路．</span><br><span class="line">    arr = list(arr)</span><br><span class="line">    new_arr = []</span><br><span class="line">    <span class="keyword">while</span> arr:</span><br><span class="line">        minimum = min(arr)</span><br><span class="line">        new_arr.append(arr.pop(minimum))</span><br><span class="line">    <span class="keyword">return</span> new_arr</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">selection_sortA</span><span class="params">(nums)</span>:</span> <span class="comment">#selection排序的核心是从subarray中找打最小值.</span></span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> range(len(nums)<span class="number">-1</span>): <span class="comment">#从subarray的第一项开始</span></span><br><span class="line">        min_idx = i <span class="comment">#设置min_idx的初始值．</span></span><br><span class="line">        <span class="keyword">for</span> j <span class="keyword">in</span> range(i+<span class="number">1</span>, len(nums)):<span class="comment">#从subarray中选出最小值</span></span><br><span class="line">            <span class="keyword">if</span> nums[j] &lt; nums[min_idx]: <span class="comment">#不断更新</span></span><br><span class="line">                min_idx = j <span class="comment">#找到最小值的index,只进行index操作.</span></span><br><span class="line">        <span class="comment">#循环终止后, i是当前值, </span></span><br><span class="line">        <span class="comment">#swap the current value and the minial value</span></span><br><span class="line">        temp = nums[i]</span><br><span class="line">        nums[i] = nums[min_idx]</span><br><span class="line">        nums[min_idx] = temp</span><br></pre></td></tr></table></figure>
<h3 id="3-4-希尔排序-Shell-Sort"><a href="#3-4-希尔排序-Shell-Sort" class="headerlink" title="3.4 希尔排序(Shell Sort)"></a>3.4 希尔排序(Shell Sort)</h3><p>希尔排序是希尔（Donald Shell）于1959年提出的一种排序算法。希尔排序也是一种插入排序，它是简单插入排序经过改进之后的一个更高效的版本，也称为缩小增量排序，同时该算法是冲破O(n2）的第一批算法之一。本文会以图解的方式详细介绍希尔排序的基本思想及其代码实现。</p>
<blockquote>
<p>等闲来无事再来了解．</p>
</blockquote>
<h2 id="4-归并排序-Merge-Sort"><a href="#4-归并排序-Merge-Sort" class="headerlink" title="4. 归并排序 (Merge Sort)"></a>4. 归并排序 (Merge Sort)</h2><p>In <a href="https://en.wikipedia.org/wiki/Computer_science" target="_blank" rel="noopener">computer science</a>, <strong>merge sort</strong> (also commonly spelled <strong>mergesort</strong>) is an efficient, general-purpose, <a href="https://en.wikipedia.org/wiki/Comparison_sort" target="_blank" rel="noopener">comparison-based</a> <a href="https://en.wikipedia.org/wiki/Sorting_algorithm" target="_blank" rel="noopener">sorting algorithm</a>. Most implementations produce a <a href="https://en.wikipedia.org/wiki/Sorting_algorithm#Stability" target="_blank" rel="noopener">stable sort</a>, which means that the order of equal elements is the same in the input and output. Merge sort is a <a href="https://en.wikipedia.org/wiki/Divide_and_conquer_algorithm" target="_blank" rel="noopener">divide and conquer algorithm</a> that was invented by <a href="https://en.wikipedia.org/wiki/John_von_Neumann" target="_blank" rel="noopener">John von Neumann</a>in 1945.<a href="https://en.wikipedia.org/wiki/Merge_sort#cite_note-2" target="_blank" rel="noopener">[2]</a> A detailed description and analysis of bottom-up mergesort appeared in a report by <a href="https://en.wikipedia.org/wiki/Herman_Goldstine" target="_blank" rel="noopener">Goldstine</a> and <a href="https://en.wikipedia.org/wiki/John_von_Neumann" target="_blank" rel="noopener">von Neumann</a> as early as 1948.<a href="https://en.wikipedia.org/wiki/Merge_sort#cite_note-3" target="_blank" rel="noopener">[3]</a></p>
<h3 id="4-1-Pseudocodes"><a href="#4-1-Pseudocodes" class="headerlink" title="4.1 Pseudocodes"></a>4.1 Pseudocodes</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#Top-down implementation </span></span><br><span class="line">function merge_sort(list m)</span><br><span class="line">    // Base case. A list of zero <span class="keyword">or</span> one elements <span class="keyword">is</span> sorted, by definition.</span><br><span class="line">    <span class="keyword">if</span> length of m ≤ <span class="number">1</span> then</span><br><span class="line">        <span class="keyword">return</span> m</span><br><span class="line"></span><br><span class="line">    // Recursive case. First, divide the list into equal-sized sublists</span><br><span class="line">    // consisting of the first half <span class="keyword">and</span> second half of the list.</span><br><span class="line">    // This assumes lists start at index <span class="number">0.</span></span><br><span class="line">    var left := empty list</span><br><span class="line">    var right := empty list</span><br><span class="line">    <span class="keyword">for</span> each x <span class="keyword">with</span> index i <span class="keyword">in</span> m do</span><br><span class="line">        <span class="keyword">if</span> i &lt; (length of m)/<span class="number">2</span> then</span><br><span class="line">            add x to left</span><br><span class="line">        <span class="keyword">else</span></span><br><span class="line">            add x to right</span><br><span class="line"></span><br><span class="line">    // Recursively sort both sublists.</span><br><span class="line">    left := merge_sort(left)</span><br><span class="line">    right := merge_sort(right)</span><br><span class="line"></span><br><span class="line">    // Then merge the now-sorted sublists.</span><br><span class="line">    <span class="keyword">return</span> merge(left, right)</span><br><span class="line"></span><br><span class="line"><span class="comment">#Bottom-up Implementation </span></span><br><span class="line">function merge_sort(node head)</span><br><span class="line">    // <span class="keyword">return</span> <span class="keyword">if</span> empty list</span><br><span class="line">    <span class="keyword">if</span> (head == nil)</span><br><span class="line">        <span class="keyword">return</span> nil</span><br><span class="line">    var node array[<span class="number">32</span>]; initially all nil</span><br><span class="line">    var node result</span><br><span class="line">    var node next</span><br><span class="line">    var int  i</span><br><span class="line">    result = head</span><br><span class="line">    // merge nodes into array</span><br><span class="line">    <span class="keyword">while</span> (result != nil)</span><br><span class="line">         next = result.next;</span><br><span class="line">         result.next = nil</span><br><span class="line">         <span class="keyword">for</span>(i = <span class="number">0</span>; (i &lt; <span class="number">32</span>) &amp;&amp; (array[i] != nil); i += <span class="number">1</span>)</span><br><span class="line">              result = merge(array[i], result)</span><br><span class="line">              array[i] = nil</span><br><span class="line">         // do <span class="keyword">not</span> go past end of array</span><br><span class="line">         <span class="keyword">if</span> (i == <span class="number">32</span>)</span><br><span class="line">               i -= <span class="number">1</span></span><br><span class="line">         array[i] = result</span><br><span class="line">         result = next</span><br><span class="line">    // merge array into single list</span><br><span class="line">    result = nil</span><br><span class="line">    <span class="keyword">for</span> (i = <span class="number">0</span>; i &lt; <span class="number">32</span>; i += <span class="number">1</span>)</span><br><span class="line">         result = merge(array[i], result)</span><br><span class="line">    <span class="keyword">return</span> result</span><br></pre></td></tr></table></figure>
<h3 id="4-2-动图演示"><a href="#4-2-动图演示" class="headerlink" title="4.2 动图演示"></a>4.2 动图演示</h3><table>
<thead>
<tr>
<th><img src="/home/gaowei/Public/Blog/source/_posts/algorithms-10-kinds-of-classic-algorithms.assets/014112.gif" alt="File:Merge sort animation2.gif"></th>
<th><img src="/home/gaowei/Public/Blog/source/_posts/algorithms-10-kinds-of-classic-algorithms.assets/849589-20171015230557043-37375010.gif" alt></th>
</tr>
</thead>
<tbody>
<tr>
<td><img src="/home/gaowei/Public/Blog/source/_posts/algorithms-10-kinds-of-classic-algorithms.assets/040854.jpg" alt="enter image description here"></td>
<td><img src="/home/gaowei/Public/Blog/source/_posts/algorithms-10-kinds-of-classic-algorithms.assets/1280px-Merge_sort_algorithm_diagram.svg.png" alt></td>
</tr>
</tbody>
</table>
<h3 id="4-3-Implementation"><a href="#4-3-Implementation" class="headerlink" title="4.3 Implementation"></a>4.3 Implementation</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#psuedocodes方案</span></span><br><span class="line"><span class="keyword">from</span> heapq <span class="keyword">import</span> merge</span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">merge_sort1</span><span class="params">(m)</span>:</span> <span class="comment">#Postoder</span></span><br><span class="line">    <span class="comment">#LRN遍历, </span></span><br><span class="line">    <span class="keyword">if</span> len(m) &lt;= <span class="number">1</span>:</span><br><span class="line">        <span class="keyword">return</span> m</span><br><span class="line">    mid = len(m) // <span class="number">2</span></span><br><span class="line">    left = merge_sort1(m[:mid])</span><br><span class="line">    right = merge_sort1(m[mid:])</span><br><span class="line">    result = list(merge(left, right))</span><br><span class="line">    <span class="keyword">return</span> result</span><br><span class="line"></span><br><span class="line"><span class="comment">#step by step soluthon </span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">merge</span><span class="params">(left, right)</span>:</span></span><br><span class="line">    result = []</span><br><span class="line">    i, j = <span class="number">0</span>, <span class="number">0</span></span><br><span class="line">    <span class="keyword">while</span> i &lt; len(left) <span class="keyword">and</span> j &lt; len(right):</span><br><span class="line">        <span class="keyword">if</span> left[i] &lt; right[j]:</span><br><span class="line">            result.append(left[i])</span><br><span class="line">            i += <span class="number">1</span></span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            result.append(right[j])</span><br><span class="line">            j += <span class="number">1</span></span><br><span class="line">    <span class="keyword">while</span> i &lt; len(left):</span><br><span class="line">        result.append(left[i])</span><br><span class="line">        i += <span class="number">1</span></span><br><span class="line">    <span class="keyword">while</span> j &lt; len(right):</span><br><span class="line">        result.append(right[j])</span><br><span class="line">        j += <span class="number">1</span></span><br><span class="line">    <span class="keyword">return</span> result</span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">mergeSort</span><span class="params">(L)</span>:</span></span><br><span class="line">    <span class="keyword">if</span> len(L) &lt; <span class="number">2</span>:</span><br><span class="line">        <span class="keyword">return</span> L[:]</span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        left = mergeSort(L[:mid])</span><br><span class="line">        right = mergeSort(L[mid:])</span><br><span class="line">        <span class="keyword">return</span> merge(left, right)</span><br><span class="line">    <span class="comment">#我的时间管理可能应该是tree的结构.</span></span><br><span class="line"></span><br><span class="line"> <span class="comment">#in-place merge sort</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">merge_inplace</span><span class="params">(A, start, mid, end)</span> -&gt; "<span class="keyword">None</span>":</span></span><br><span class="line">    left = A[start:mid]</span><br><span class="line">    i = <span class="number">0</span></span><br><span class="line">    j = <span class="number">0</span></span><br><span class="line">    </span><br><span class="line">    <span class="keyword">for</span> c <span class="keyword">in</span> range(start, end): <span class="comment">#c for cur</span></span><br><span class="line">        <span class="keyword">if</span> j &gt;= len(right) <span class="keyword">or</span> (i &lt; len(left) <span class="keyword">and</span> left[i] &lt; right[j]): <span class="comment">#注意shortcuit的问题.</span></span><br><span class="line">            A[c] = left[i]</span><br><span class="line">            i = i + <span class="number">1</span></span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            A[c] = right[j]</span><br><span class="line">            j = j + <span class="number">1</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">mergeSort_inplace</span><span class="params">(A, lo, hi)</span> -&gt; "<span class="keyword">None</span>":</span></span><br><span class="line">    <span class="keyword">if</span> lo &lt; hi - <span class="number">1</span>:</span><br><span class="line">        mid = (lo + hi) // <span class="number">2</span></span><br><span class="line">        mergeSort_inplace(A,lo,mid)</span><br><span class="line">        mergeSort_inplace(A,mid,hi)</span><br><span class="line">        merge_inplace(A, lo, mid, hi)</span><br></pre></td></tr></table></figure>
<p>归并排序是一种稳定的排序方法。和选择排序一样，归并排序的性能不受输入数据的影响，但表现比选择排序好的多，因为始终都是O(nlogn）的时间复杂度。代价是需要额外的内存空间。</p>
<blockquote>
<p>归并算法的代价就是需要额外的存储空间. </p>
</blockquote>
<h2 id="5-快速排序（Quick-Sort）"><a href="#5-快速排序（Quick-Sort）" class="headerlink" title="5. 快速排序（Quick Sort）"></a>5. 快速排序（Quick Sort）</h2><p><strong>Quicksort</strong> (sometimes called <strong>partition-exchange sort</strong>) is an <a href="https://en.wikipedia.org/wiki/Algorithm_efficiency" target="_blank" rel="noopener">efficient</a> <a href="https://en.wikipedia.org/wiki/Sorting_algorithm" target="_blank" rel="noopener">sorting algorithm</a>, serving as a systematic method for placing the elements of a <a href="https://en.wikipedia.org/wiki/Random_access" target="_blank" rel="noopener">random access</a> <a href="https://en.wikipedia.org/wiki/Computer_file" target="_blank" rel="noopener">file</a> or an <a href="https://en.wikipedia.org/wiki/Array_data_structure" target="_blank" rel="noopener">array</a> in order. Developed by British computer scientist <a href="https://en.wikipedia.org/wiki/Tony_Hoare" target="_blank" rel="noopener">Tony Hoare</a>in 1959<a href="https://en.wikipedia.org/wiki/Quicksort#cite_note-1" target="_blank" rel="noopener">[1]</a> and published in 1961,<a href="https://en.wikipedia.org/wiki/Quicksort#cite_note-alg64-2" target="_blank" rel="noopener">[2]</a> it is still a commonly used algorithm for sorting. When implemented well, it can be about two or three times faster than its main competitors, <a href="https://en.wikipedia.org/wiki/Merge_sort" target="_blank" rel="noopener">merge sort</a> and <a href="https://en.wikipedia.org/wiki/Heapsort" target="_blank" rel="noopener">heapsort</a>.<a href="https://en.wikipedia.org/wiki/Quicksort#cite_note-skiena-3" target="_blank" rel="noopener">[3]</a>[<em>contradictory</em>]</p>
<h3 id="5-1-算法描述"><a href="#5-1-算法描述" class="headerlink" title="5.1 算法描述"></a>5.1 算法描述</h3><p>Quicksort is a <a href="https://en.wikipedia.org/wiki/Divide_and_conquer_algorithm" target="_blank" rel="noopener">divide and conquer algorithm</a>. Quicksort first divides a large array into two smaller sub-arrays: the low elements and the high elements. Quicksort can then recursively sort the sub-arrays. The steps are:</p>
<ol>
<li>Pick an element, called a <em>pivot</em>, from the array.</li>
<li><em>Partitioning</em>: reorder the array so that all elements with values less than the pivot come before the pivot, while all elements with values greater than the pivot come after it (equal values can go either way). After this partitioning, the pivot is in its final position. This is called the <em>partition</em> operation.</li>
<li><a href="https://en.wikipedia.org/wiki/Recursion_(computer_science" target="_blank" rel="noopener">Recursively</a>) apply the above steps to the sub-array of elements with smaller values and separately to the sub-array of elements with greater values.</li>
</ol>
<h3 id="5-2-动图演示"><a href="#5-2-动图演示" class="headerlink" title="5.2 动图演示"></a>5.2 动图演示</h3><table>
<thead>
<tr>
<th>Effects</th>
<th>Demonstration</th>
</tr>
</thead>
<tbody>
<tr>
<td><img src="/home/gaowei/Public/Blog/source/_posts/algorithms-10-kinds-of-classic-algorithms.assets/220px-Sorting_quicksort_anim.gif" alt="Selection sort animation.gif"></td>
<td><img src="/home/gaowei/Public/Blog/source/_posts/algorithms-10-kinds-of-classic-algorithms.assets/200px-Quicksort-diagram.svg.png" alt></td>
</tr>
</tbody>
</table>
<h3 id="5-3-Implementation"><a href="#5-3-Implementation" class="headerlink" title="5.3 Implementation"></a>5.3 Implementation</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">quicksort</span><span class="params">(arr)</span>:</span></span><br><span class="line">    <span class="keyword">if</span> len(arr) &lt; <span class="number">2</span>:</span><br><span class="line">        <span class="keyword">return</span> arr <span class="comment">#base case</span></span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        pivot = arr[<span class="number">0</span>]</span><br><span class="line">        less = [i <span class="keyword">for</span> i <span class="keyword">in</span> arr[<span class="number">1</span>:] <span class="keyword">if</span> i &lt;= pivot] </span><br><span class="line">        more = [i <span class="keyword">for</span> i <span class="keyword">in</span> arr[<span class="number">1</span>:] <span class="keyword">if</span> i &gt; pivot]</span><br><span class="line">        <span class="keyword">return</span> quicksort(less) + [pivot] + quicksort(more)</span><br></pre></td></tr></table></figure>

          
        
      
    </div>

    

    
    
    

    

    
      
    
    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://alphaalgorithms.github.io/2019/05/25/git-magit/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Gabriel">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="DummyHead">
    </span>

    
      <header class="post-header">

        
        
          <h2 class="post-title" itemprop="name headline">
                
                
                <a href="/2019/05/25/git-magit/" class="post-title-link" itemprop="url">Magit Documentation</a>
              
            
          </h2>
        

        <div class="post-meta">
          <span class="post-time">

            
            
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              

              
                
              

              <time title="Created: 2019-05-25 08:05:59 / Modified: 11:06:41" itemprop="dateCreated datePublished" datetime="2019-05-25T08:05:59+08:00">2019-05-25</time>
            

            
              

              
            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/linux-emacs-magit/" itemprop="url" rel="index"><span itemprop="name">linux - emacs - magit</span></a></span>

                
                
              
            </span>
          

          
            
            
              
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <span class="post-meta-item-icon">
                  <i class="fa fa-comment-o"></i>
                </span>
            
                <span class="post-meta-item-text">Comments: </span>
                <a href="/2019/05/25/git-magit/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count disqus-comment-count" data-disqus-identifier="2019/05/25/git-magit/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="A-Git-Porcelain-inside-Emacs"><a href="#A-Git-Porcelain-inside-Emacs" class="headerlink" title="A Git Porcelain inside Emacs"></a>A Git Porcelain inside Emacs</h2><p><a href="https://magit.vc/" target="_blank" rel="noopener">It’s Magit! A Git Porcelain inside Emacs</a></p>
<p>Magit is an interface to the version control system <a href="https://git-scm.com/" target="_blank" rel="noopener">Git</a>, implemented as an <a href="https://www.gnu.org/software/emacs" target="_blank" rel="noopener">Emacs</a> package. Magit aspires to be a complete Git porcelain. While we cannot (yet) claim that Magit wraps and improves upon each and every Git command, it is complete enough to allow even experienced Git users to perform almost all of their daily version control tasks directly from within Emacs. While many fine Git clients exist, only Magit and Git itself deserve to be called porcelains. <a href="https://magit.vc/" target="_blank" rel="noopener">(less)</a></p>
<p>Staging and otherwise applying changes is one of the most important features in a Git porcelain and here Magit outshines anything else, including Git itself. Git’s own staging interface (<code>git add --patch</code>) is so cumbersome that many users only use it in exceptional cases. In Magit staging a hunk or even just part of a hunk is as trivial as staging all changes made to a file.</p>
<p>The most visible part of Magit’s interface is the status buffer, which displays information about the current repository. Its content is created by running several Git commands and making their output actionable. Among other things, it displays information about the current branch, lists unpulled and unpushed changes and contains sections displaying the staged and unstaged changes. That might sound noisy, but, since sections are collapsible, it’s not.</p>
<p>To stage or unstage a change one places the cursor on the change and then types <code>s</code> or <code>u</code>. The change can be a file or a hunk, or when the region is active (i.e. when there is a selection) several files or hunks, or even just part of a hunk. The change or changes that these commands - and many others - would act on are highlighted.</p>
<p>Magit also implements several other “apply variants” in addition to staging and unstaging. One can discard or reverse a change, or apply it to the working tree. Git’s own porcelain only supports this for staging and unstaging and you would have to do something like <code>git diff ... | ??? | git apply ...</code> to discard, revert, or apply a single hunk on the command line. In fact that’s exactly what Magit does internally (which is what lead to the term “apply variants”).</p>
<p>Magit isn’t just for Git experts, but it does assume some prior experience with Git as well as Emacs. That being said, many users have reported that using Magit was what finally taught them what Git it is capable off and how to use it to its fullest. Other users wished they had switched to Emacs sooner so that they would have gotten their hands on Magit earlier.</p>
<p>While one has to know the basic features of Emacs to be able to make full use of Magit, acquiring just enough Emacs skills doesn’t take long and is worth it, even for users who prefer other editors. Vim users are advised to give <a href="https://bitbucket.org/lyro/evil/wiki/Home" target="_blank" rel="noopener">Evil</a> the “Extensible VI Layer for Emacs”, and <a href="https://github.com/syl20bnr/spacemacs" target="_blank" rel="noopener">Spacemacs</a> an “Emacs starter-kit focused on Evil” a try.</p>
<p>Magit provides a consistent and efficient Git porcelain. After a short learning period, you will be able to perform most of your daily version control tasks faster than you would on the command line. You will likely also start using features that seemed too daunting in the past.</p>
<p>Magit fully embraces Git. It exposes many advanced features using a simple but flexible interface instead of only wrapping the trivial ones like many GUI clients do. Of course Magit supports logging, cloning, pushing, and other commands that usually don’t fail in spectacular ways; but it also supports tasks that often cannot be completed in a single step. Magit fully supports tasks such as merging, rebasing, cherry-picking, reverting, and blaming by not only providing a command to initiate these tasks but also by displaying context sensitive information along the way and providing commands that are useful for resolving conflicts and resuming the sequence after doing so.</p>
<p>Magit wraps and in many cases improves upon at least the following Git porcelain commands: add, am, bisect, blame, branch, checkout, cherry, cherry-pick, clean, clone, commit, config, describe, diff, fetch, format-patch, init, log, merge, merge-tree, mv, notes, pull, rebase, reflog, remote, request-pull, reset, revert, rm, show, stash, submodule, and tag. Many more Magit porcelain commands are implemented on top of Git plumbing commands.</p>
<blockquote>
<p>两点：staging and status buffer. </p>
</blockquote>
<table>
<thead>
<tr>
<th><a href="https://magit.vc/manual/magit/Introduction.html#Introduction" target="_blank" rel="noopener">Introduction</a>:</th>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td>• <a href="https://magit.vc/manual/magit/Installation.html#Installation" target="_blank" rel="noopener">Installation</a>:</td>
<td></td>
</tr>
<tr>
<td>• <a href="https://magit.vc/manual/magit/Getting-Started.html#Getting-Started" target="_blank" rel="noopener">Getting Started</a>:</td>
<td></td>
</tr>
<tr>
<td>• <a href="https://magit.vc/manual/magit/Interface-Concepts.html#Interface-Concepts" target="_blank" rel="noopener">Interface Concepts</a>:</td>
<td></td>
</tr>
<tr>
<td>• <a href="https://magit.vc/manual/magit/Inspecting.html#Inspecting" target="_blank" rel="noopener">Inspecting</a>:</td>
<td></td>
</tr>
<tr>
<td>• <a href="https://magit.vc/manual/magit/Manipulating.html#Manipulating" target="_blank" rel="noopener">Manipulating</a>:</td>
<td></td>
</tr>
<tr>
<td>• <a href="https://magit.vc/manual/magit/Transferring.html#Transferring" target="_blank" rel="noopener">Transferring</a>:</td>
<td></td>
</tr>
<tr>
<td>• <a href="https://magit.vc/manual/magit/Miscellaneous.html#Miscellaneous" target="_blank" rel="noopener">Miscellaneous</a>:</td>
<td></td>
</tr>
<tr>
<td>• <a href="https://magit.vc/manual/magit/Customizing.html#Customizing" target="_blank" rel="noopener">Customizing</a>:</td>
<td></td>
</tr>
<tr>
<td>• <a href="https://magit.vc/manual/magit/Plumbing.html#Plumbing" target="_blank" rel="noopener">Plumbing</a>:</td>
<td></td>
</tr>
<tr>
<td>• <a href="https://magit.vc/manual/magit/FAQ.html#FAQ" target="_blank" rel="noopener">FAQ</a>:</td>
<td></td>
</tr>
<tr>
<td>• <a href="https://magit.vc/manual/magit/Debugging-Tools.html#Debugging-Tools" target="_blank" rel="noopener">Debugging Tools</a>:</td>
<td></td>
</tr>
<tr>
<td>• <a href="https://magit.vc/manual/magit/Keystroke-Index.html#Keystroke-Index" target="_blank" rel="noopener">Keystroke Index</a>:</td>
<td></td>
</tr>
<tr>
<td>• <a href="https://magit.vc/manual/magit/Command-Index.html#Command-Index" target="_blank" rel="noopener">Command Index</a>:</td>
<td></td>
</tr>
<tr>
<td>• <a href="https://magit.vc/manual/magit/Function-Index.html#Function-Index" target="_blank" rel="noopener">Function Index</a>:</td>
<td></td>
</tr>
<tr>
<td>• <a href="https://magit.vc/manual/magit/Variable-Index.html#Variable-Index" target="_blank" rel="noopener">Variable Index</a>:</td>
</tr>
</tbody>
</table>
<h2 id="3-Getting-Started"><a href="#3-Getting-Started" class="headerlink" title="3 Getting Started"></a>3 Getting Started</h2><p>This short tutorial describes the most essential features that many Magitians use on a daily basis. It only scratches the surface but should be enough to get you started.</p>
<p>IMPORTANT: It is safest if you clone some repository just for this tutorial. Alternatively you can use an existing local repository, but if you do that, then you should commit all uncommitted changes before proceeding.</p>
<p>To display information about the current Git repository, type <code>M-x magit-status RET</code>. You will be using this command a lot, and should therefore give it a global key binding. This is what we recommend:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">(global-set-key (kbd &quot;C-x g&quot;) &apos;magit-status)</span><br></pre></td></tr></table></figure>
<p>Most Magit commands are commonly invoked from the status buffer. It can be considered the primary interface for interacting with Git using Magit. Many other Magit buffers may exist at a given time, but they are often created from this buffer.</p>
<p>Depending on what state your repository is in, this buffer may contain sections titled “Staged changes”, “Unstaged changes”, “Unmerged into origin/master”, “Unpushed to origin/master”, and many others.</p>
<p>Since we are starting from a safe state, which you can easily return to (by doing a <code>git reset --hard PRE-MAGIT-STATE</code>), there currently are not staged or unstaged changes. Edit some files and save the changes. Then go back to the status buffer, while at the same time refreshing it, by typing <code>C-x g</code>. (When the status buffer, or any Magit buffer for that matter, is the current buffer, then you can also use just <code>g</code> to refresh it).</p>
<p>Move between sections using <code>p</code> and <code>n</code>. Note that the bodies of some sections are hidden. Type <code>TAB</code> to expand or collapse the section at point. You can also use <code>C-tab</code> to cycle the visibility of the current section and its children. Move to a file section inside the section named “Unstaged changes” and type <code>s</code> to stage the changes you have made to that file. That file now appears under “Staged changes”.</p>
<p>Magit can stage and unstage individual hunks, not just complete files. Move to the file you have just staged, expand it using <code>TAB</code>, move to one of the hunks using <code>n</code>, and unstage just that by typing <code>u</code>. Note how the staging (<code>s</code>) and unstaging (<code>u</code>) commands operate on the change at point. Many other commands behave the same way.</p>
<p>You can also un-/stage just part of a hunk. Inside the body of a hunk section (move there using <code>C-n</code>), set the mark using <code>C-SPC</code> and move down until some added and/or removed lines fall inside the region but not all of them. Again type <code>s</code> to stage.</p>
<p>It is also possible to un-/stage multiple files at once. Move to a file section, type <code>C-SPC</code>, move to the next file using <code>n</code>, and then <code>s</code> to stage both files. Note that both the mark and point have to be on the headings of sibling sections for this to work. If the region looks like it does in other buffers, then it doesn’t select Magit sections that can be acted on as a unit.</p>
<p>And then of course you want to commit your changes. Type <code>c</code>. This shows the available commit commands and arguments in a buffer at the bottom of the frame. Each command and argument is prefixed with the key that invokes/sets it. Do not worry about this for now. We want to create a “normal” commit, which is done by typing <code>c</code> again.</p>
<p>Now two new buffers appear. One is for writing the commit message, the other shows a diff with the changes that you are about to committed. Write a message and then type <code>C-c C-c</code> to actually create the commit.</p>
<p>You probably don’t want to push the commit you just created because you just committed some random changes, but if that is not the case you could push it by typing <code>P</code> to show all the available push commands and arguments and then <code>p</code> to push to a branch with the same name as the local branch onto the remote configured as the push-remote. (If the push-remote is not configured yet, then you would first be prompted for the remote to push to.)</p>
<p>So far we have mentioned the commit, push, and log transient prefix commands. These are probably among the transients you will be using the most, but many others exist. To show a transient that lists all other transients (as well as the various apply commands and some other essential commands), type <code>h</code>. Try a few.</p>
<p>The key bindings in that transient correspond to the bindings in Magit buffers, including but not limited to the status buffer. So you could type <code>h d</code> to bring up the diff transient, but once you remember that “d” stands for “diff”, you would usually do so by just typing <code>d</code>. But this “prefix of prefixes” is useful even once you have memorized all the bindings, as it can provide easy access to Magit commands from non-Magit buffers. You should create a global key binding for this command too:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">(global-set-key (kbd &quot;C-x M-g&quot;) &apos;magit-dispatch)</span><br></pre></td></tr></table></figure>
<p>In the same vein, you might also want to enable <code>global-magit-file-mode</code> to get some more Magit key bindings in regular file-visiting buffers (see <a href="https://magit.vc/manual/magit/Minor-Mode-for-Buffers-Visiting-Files.html#Minor-Mode-for-Buffers-Visiting-Files" target="_blank" rel="noopener">Minor Mode for Buffers Visiting Files</a>).</p>
<p>It is not necessary that you do so now, but if you stick with Magit, then it is highly recommended that you read the next section too.</p>
<hr>
<p>Next: <a href="https://magit.vc/manual/magit/Interface-Concepts.html#Interface-Concepts" target="_blank" rel="noopener">Interface Concepts</a>, Previous: <a href="https://magit.vc/manual/magit/Installation.html#Installation" target="_blank" rel="noopener">Installation</a>, Up: <a href="https://magit.vc/manual/magit/index.html#Top" target="_blank" rel="noopener">Top</a>   [<a href="https://magit.vc/manual/magit/index.html#SEC_Contents" target="_blank" rel="noopener">Contents</a>][<a href="https://magit.vc/manual/magit/Keystroke-Index.html#Keystroke-Index" target="_blank" rel="noopener">Index</a>]</p>
<h2 id="4-Interface-Concepts"><a href="#4-Interface-Concepts" class="headerlink" title="4 Interface Concepts"></a>4 Interface Concepts</h2><table>
<thead>
<tr>
<th>• <a href="https://magit.vc/manual/magit/Modes-and-Buffers.html#Modes-and-Buffers" target="_blank" rel="noopener">Modes and Buffers</a>:</th>
<th></th>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td>• <a href="https://magit.vc/manual/magit/Sections.html#Sections" target="_blank" rel="noopener">Sections</a>:</td>
<td></td>
<td></td>
</tr>
<tr>
<td>• <a href="https://magit.vc/manual/magit/Transient-Commands.html#Transient-Commands" target="_blank" rel="noopener">Transient Commands</a>:</td>
<td></td>
<td></td>
</tr>
<tr>
<td>• <a href="https://magit.vc/manual/magit/Completion-Confirmation-and-the-Selection.html#Completion-Confirmation-and-the-Selection" target="_blank" rel="noopener">Completion, Confirmation and the Selection</a>:</td>
<td></td>
<td></td>
</tr>
<tr>
<td>• <a href="https://magit.vc/manual/magit/Running-Git.html#Running-Git" target="_blank" rel="noopener">Running Git</a>:</td>
<td></td>
</tr>
</tbody>
</table>
<h3 id="4-1-Modes-and-Buffers"><a href="#4-1-Modes-and-Buffers" class="headerlink" title="4.1 Modes and Buffers"></a>4.1 Modes and Buffers</h3><p>Magit provides several major-modes. For each of these modes there usually exists only one buffer per repository. Separate modes and thus buffers exist for commits, diffs, logs, and some other things.</p>
<p>Besides these special purpose buffers, there also exists an overview buffer, called the <strong>status buffer</strong>. It’s usually from this buffer that the user invokes Git commands, or creates or visits other buffers.</p>
<p>In this manual we often speak about “Magit buffers”. By that we mean buffers whose major-modes derive from <code>magit-mode</code>.</p>
<ul>
<li><p>M-x magit-toggle-buffer-lock     (<code>magit-toggle-buffer-lock</code>)</p>
<p>This command locks the current buffer to its value or if the buffer is already locked, then it unlocks it.Locking a buffer to its value prevents it from being reused to display another value. The name of a locked buffer contains its value, which allows telling it apart from other locked buffers and the unlocked buffer.Not all Magit buffers can be locked to their values; for example, it wouldn’t make sense to lock a status buffer.There can only be a single unlocked buffer using a certain major-mode per repository. So when a buffer is being unlocked and another unlocked buffer already exists for that mode and repository, then the former buffer is instead deleted and the latter is displayed in its place.</p>
</li>
</ul>
<table>
<thead>
<tr>
<th>• <a href="https://magit.vc/manual/magit/Switching-Buffers.html#Switching-Buffers" target="_blank" rel="noopener">Switching Buffers</a>:</th>
<th></th>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td>• <a href="https://magit.vc/manual/magit/Naming-Buffers.html#Naming-Buffers" target="_blank" rel="noopener">Naming Buffers</a>:</td>
<td></td>
<td></td>
</tr>
<tr>
<td>• <a href="https://magit.vc/manual/magit/Quitting-Windows.html#Quitting-Windows" target="_blank" rel="noopener">Quitting Windows</a>:</td>
<td></td>
<td></td>
</tr>
<tr>
<td>• <a href="https://magit.vc/manual/magit/Automatic-Refreshing-of-Magit-Buffers.html#Automatic-Refreshing-of-Magit-Buffers" target="_blank" rel="noopener">Automatic Refreshing of Magit Buffers</a>:</td>
<td></td>
<td></td>
</tr>
<tr>
<td>• <a href="https://magit.vc/manual/magit/Automatic-Saving-of-File_002dVisiting-Buffers.html#Automatic-Saving-of-File_002dVisiting-Buffers" target="_blank" rel="noopener">Automatic Saving of File-Visiting Buffers</a>:</td>
<td></td>
<td></td>
</tr>
<tr>
<td>• <a href="https://magit.vc/manual/magit/Automatic-Reverting-of-File_002dVisiting-Buffers.html#Automatic-Reverting-of-File_002dVisiting-Buffers" target="_blank" rel="noopener">Automatic Reverting of File-Visiting Buffers</a>:</td>
<td></td>
</tr>
</tbody>
</table>
<h3 id="4-2-Sections"><a href="#4-2-Sections" class="headerlink" title="4.2 Sections"></a>4.2 Sections</h3><p>Magit buffers are organized into nested sections, which can be collapsed and expanded, similar to how sections are handled in Org mode. Each section also has a type, and some sections also have a value. For each section type there can also be a local keymap, shared by all sections of that type.</p>
<p>Taking advantage of the section value and type, many commands operate on the current section, or when the region is active and selects sections of the same type, all of the selected sections. Commands that only make sense for a particular section type (as opposed to just behaving differently depending on the type) are usually bound in section type keymaps.</p>
<table>
<thead>
<tr>
<th>• <a href="https://magit.vc/manual/magit/Section-Movement.html#Section-Movement" target="_blank" rel="noopener">Section Movement</a>:</th>
<th></th>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td>• <a href="https://magit.vc/manual/magit/Section-Visibility.html#Section-Visibility" target="_blank" rel="noopener">Section Visibility</a>:</td>
<td></td>
<td></td>
</tr>
<tr>
<td>• <a href="https://magit.vc/manual/magit/Section-Hooks.html#Section-Hooks" target="_blank" rel="noopener">Section Hooks</a>:</td>
<td></td>
<td></td>
</tr>
<tr>
<td>• <a href="https://magit.vc/manual/magit/Section-Types-and-Values.html#Section-Types-and-Values" target="_blank" rel="noopener">Section Types and Values</a>:</td>
<td></td>
<td></td>
</tr>
<tr>
<td>• <a href="https://magit.vc/manual/magit/Section-Options.html#Section-Options" target="_blank" rel="noopener">Section Options</a>:</td>
<td></td>
</tr>
</tbody>
</table>
<h3 id="4-3-Transient-Commands"><a href="#4-3-Transient-Commands" class="headerlink" title="4.3 Transient Commands"></a>4.3 Transient Commands</h3><p>Many Magit commands are implemented as <strong>transient</strong> commands. First the user invokes a <strong>prefix</strong> command, which causes its <strong>infix</strong> arguments and <strong>suffix</strong> commands to be displayed in the echo area. The user then optionally sets some infix arguments and finally invokes one of the suffix commands.</p>
<p>This is implemented in the library <code>transient</code>. Earlier Magit releases used the package <code>magit-popup</code> and even earlier versions library <code>magit-key-mode</code>.</p>
<p>Transient is documented in <a href="https://magit.vc/manual/transient/index.html#Top" target="_blank" rel="noopener">(transient)Top</a>.</p>
<ul>
<li><p>C-c C-c     (<code>magit-dispatch</code>)</p>
<p>This transient prefix command binds most of Magit’s other prefix commands as suffix commands and displays them in a temporary buffer until one of them is invoked. Invoking such a sub-prefix causes the suffixes of that command to be bound and displayed instead of those of <code>magit-dispatch</code>.</p>
</li>
</ul>
<p>This command is also, or especially, useful outside Magit buffers, so you should setup a global binding:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">(global-set-key (kbd &quot;C-x M-g&quot;) &apos;magit-dispatch)</span><br></pre></td></tr></table></figure>
<p>Transient commands remember the used arguments for subsequent invocations. Two transients, the log and diff transients (see <a href="https://magit.vc/manual/magit/Logging.html#Logging" target="_blank" rel="noopener">Logging</a> and <a href="https://magit.vc/manual/magit/Diffing.html#Diffing" target="_blank" rel="noopener">Diffing</a>), may behave a bit differently, depending on the value of <code>magit-use-sticky-arguments</code>.</p>
<ul>
<li><p>User Option: <strong>magit-use-sticky-arguments</strong></p>
<p>This option controls how the diff and log transients reuse arguments from existing buffers.When <code>t</code> (the default value), then the log or diff transients reuses the arguments from the current repository’s log or diff buffer, respectively. When no log or diff buffer exists for the current repository, these transients use the default value of <code>magit-log-arguments</code> or <code>magit-diff-arguments</code>.When <code>current</code>, log and diff transients will only reuse the arguments if the current buffer is derived from <code>magit-log-mode</code> or <code>magit-diff-mode</code>, respectively.When <code>nil</code>, the default value of <code>magit-log-arguments</code> or <code>magit-diff-arguments</code> is always used.</p>
</li>
</ul>
<hr>
<h3 id="4-4-Completion-Confirmation-and-the-Selection"><a href="#4-4-Completion-Confirmation-and-the-Selection" class="headerlink" title="4.4 Completion, Confirmation and the Selection"></a>4.4 Completion, Confirmation and the Selection</h3><table>
<thead>
<tr>
<th>• <a href="https://magit.vc/manual/magit/Action-Confirmation.html#Action-Confirmation" target="_blank" rel="noopener">Action Confirmation</a>:</th>
<th></th>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td>• <a href="https://magit.vc/manual/magit/Completion-and-Confirmation.html#Completion-and-Confirmation" target="_blank" rel="noopener">Completion and Confirmation</a>:</td>
<td></td>
<td></td>
</tr>
<tr>
<td>• <a href="https://magit.vc/manual/magit/The-Selection.html#The-Selection" target="_blank" rel="noopener">The Selection</a>:</td>
<td></td>
<td></td>
</tr>
<tr>
<td>• <a href="https://magit.vc/manual/magit/The-hunk_002dinternal-region.html#The-hunk_002dinternal-region" target="_blank" rel="noopener">The hunk-internal region</a>:</td>
<td></td>
<td></td>
</tr>
<tr>
<td>• <a href="https://magit.vc/manual/magit/Support-for-Completion-Frameworks.html#Support-for-Completion-Frameworks" target="_blank" rel="noopener">Support for Completion Frameworks</a>:</td>
<td></td>
<td></td>
</tr>
<tr>
<td>• <a href="https://magit.vc/manual/magit/Additional-Completion-Options.html#Additional-Completion-Options" target="_blank" rel="noopener">Additional Completion Options</a>:</td>
<td></td>
</tr>
</tbody>
</table>
<h3 id="4-5-Running-Git"><a href="#4-5-Running-Git" class="headerlink" title="4.5 Running Git"></a>4.5 Running Git</h3><table>
<thead>
<tr>
<th>• <a href="https://magit.vc/manual/magit/Viewing-Git-Output.html#Viewing-Git-Output" target="_blank" rel="noopener">Viewing Git Output</a>:</th>
<th></th>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td>• <a href="https://magit.vc/manual/magit/Git-Process-Status.html#Git-Process-Status" target="_blank" rel="noopener">Git Process Status</a>:</td>
<td></td>
<td></td>
</tr>
<tr>
<td>• <a href="https://magit.vc/manual/magit/Running-Git-Manually.html#Running-Git-Manually" target="_blank" rel="noopener">Running Git Manually</a>:</td>
<td></td>
<td></td>
</tr>
<tr>
<td>• <a href="https://magit.vc/manual/magit/Git-Executable.html#Git-Executable" target="_blank" rel="noopener">Git Executable</a>:</td>
<td></td>
<td></td>
</tr>
<tr>
<td>• <a href="https://magit.vc/manual/magit/Global-Git-Arguments.html#Global-Git-Arguments" target="_blank" rel="noopener">Global Git Arguments</a>:</td>
<td></td>
</tr>
</tbody>
</table>
<h4 id="4-5-1-Viewing-Git-Output"><a href="#4-5-1-Viewing-Git-Output" class="headerlink" title="4.5.1 Viewing Git Output"></a>4.5.1 Viewing Git Output</h4><p>Magit runs Git either for side-effects (e.g. when pushing) or to get some value (e.g. the name of the current branch).</p>
<p>When Git is run for side-effects, the process output is logged in a per-repository log buffer, which can be consulted using the <code>magit-process</code> command when things don’t go as expected.</p>
<p>The output/errors for up to ‘magit-process-log-max’ Git commands are retained.</p>
<ul>
<li><p>$     (<code>magit-process</code>)</p>
<p>This commands displays the process buffer for the current repository.</p>
</li>
</ul>
<p>Inside that buffer, the usual key bindings for navigating and showing sections are available. There is one additional command.</p>
<ul>
<li><p>k     (<code>magit-process-kill</code>)</p>
<p>This command kills the process represented by the section at point.</p>
</li>
<li><p>User Option: <strong>magit-git-debug</strong></p>
<p>When this is non-nil then the output of all calls to git are logged in the process buffer. This is useful when debugging, otherwise it just negatively affects performance.</p>
</li>
</ul>
<h2 id="5-Inspecting"><a href="#5-Inspecting" class="headerlink" title="5 Inspecting"></a>5 Inspecting</h2><p>The functionality provided by Magit can be roughly divided into three groups: </p>
<p>inspecting existing data,<br>manipulating existing data or adding new data,<br> transferring data. (划分的好.)</p>
<p>Of course that is a rather crude distinction that often falls short, but it’s more useful than no distinction at all. This section is concerned with inspecting data, the next two with manipulating and transferring it. Then follows a section about miscellaneous functionality, which cannot easily be fit into this distinction.</p>
<p>Of course other distinctions make sense too, e.g. Git’s distinction between porcelain and plumbing commands, which for the most part is equivalent to Emacs’ distinction between interactive commands and non-interactive functions. All of the sections mentioned before are mainly concerned with the porcelain – Magit’s plumbing layer is described later.</p>
<table>
<thead>
<tr>
<th>• <a href="https://magit.vc/manual/magit/Status-Buffer.html#Status-Buffer" target="_blank" rel="noopener">Status Buffer</a>:</th>
<th></th>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td>• <a href="https://magit.vc/manual/magit/Repository-List.html#Repository-List" target="_blank" rel="noopener">Repository List</a>:</td>
<td></td>
<td></td>
</tr>
<tr>
<td>• <a href="https://magit.vc/manual/magit/Logging.html#Logging" target="_blank" rel="noopener">Logging</a>:</td>
<td></td>
<td></td>
</tr>
<tr>
<td>• <a href="https://magit.vc/manual/magit/Diffing.html#Diffing" target="_blank" rel="noopener">Diffing</a>:</td>
<td></td>
<td></td>
</tr>
<tr>
<td>• <a href="https://magit.vc/manual/magit/Ediffing.html#Ediffing" target="_blank" rel="noopener">Ediffing</a>:</td>
<td></td>
<td></td>
</tr>
<tr>
<td>• <a href="https://magit.vc/manual/magit/References-Buffer.html#References-Buffer" target="_blank" rel="noopener">References Buffer</a>:</td>
<td></td>
<td></td>
</tr>
<tr>
<td>• <a href="https://magit.vc/manual/magit/Bisecting.html#Bisecting" target="_blank" rel="noopener">Bisecting</a>:</td>
<td></td>
<td></td>
</tr>
<tr>
<td>• <a href="https://magit.vc/manual/magit/Visiting-Blobs.html#Visiting-Blobs" target="_blank" rel="noopener">Visiting Blobs</a>:</td>
<td></td>
<td></td>
</tr>
<tr>
<td>• <a href="https://magit.vc/manual/magit/Blaming.html#Blaming" target="_blank" rel="noopener">Blaming</a>:</td>
<td></td>
</tr>
</tbody>
</table>
<h3 id="5-1-Status-Buffer"><a href="#5-1-Status-Buffer" class="headerlink" title="5.1 Status Buffer"></a>5.1 Status Buffer</h3><p>While other Magit buffers contain e.g. one particular diff or one particular log, the status buffer contains the diffs for staged and unstaged changes, logs for unpushed and unpulled commits, lists of stashes and untracked files, and information related to the current branch.</p>
<p>During certain incomplete operations – for example when a merge resulted in a conflict – additional information is displayed that helps proceeding with or aborting the operation.</p>
<p>The command <code>magit-status</code> displays the status buffer belonging to the current repository in another window. This command is used so often that it should be bound globally. We recommend using <code>C-x g</code>:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">(global-set-key (kbd &quot;C-x g&quot;) &apos;magit-status)</span><br></pre></td></tr></table></figure>
<ul>
<li><p>C-x g     (<code>magit-status</code>)</p>
<p>When invoked from within an existing Git repository, then this command shows the status of that repository in a buffer.If the current directory isn’t located within a Git repository, then this command prompts for an existing repository or an arbitrary directory, depending on the option <code>magit-repository-directories</code>, and the status for the selected repository is shown instead.If that option specifies any existing repositories, then the user is asked to select one of them.Otherwise the user is asked to select an arbitrary directory using regular file-name completion. If the selected directory is the top-level directory of an existing working tree, then the status buffer for that is shown.Otherwise the user is offered to initialize the selected directory as a new repository. After creating the repository its status buffer is shown.These fallback behaviors can also be forced using one or more prefix arguments:With two prefix arguments (or more precisely a numeric prefix value of 16 or greater) an arbitrary directory is read, which is then acted on as described above. The same could be accomplished using the command <code>magit-init</code>.With a single prefix argument an existing repository is read from the user, or if no repository can be found based on the value of <code>magit-repository-directories</code>, then the behavior is the same as with two prefix arguments.</p>
</li>
<li><p>User Option: <strong>magit-repository-directories</strong></p>
<p>List of directories that are Git repositories or contain Git repositories.Each element has the form <code>(DIRECTORY . DEPTH)</code>. DIRECTORY has to be a directory or a directory file-name, a string. DEPTH, an integer, specifies the maximum depth to look for Git repositories. If it is 0, then only add DIRECTORY itself.This option controls which repositories are being listed by <code>magit-list-repositories</code>. It also affects <code>magit-status</code> (which see) in potentially surprising ways (see above).</p>
</li>
<li><p>Command: <strong>ido-enter-magit-status</strong></p>
<p>From an Ido prompt used to open a file, instead drop into <code>magit-status</code>. This is similar to <code>ido-magic-delete-char</code>, which, despite its name, usually causes a Dired buffer to be created.To make this command available, use something like:<code>(add-hook &#39;ido-setup-hook           (lambda ()             (define-key ido-completion-map               (kbd \&quot;C-x g\&quot;) &#39;ido-enter-magit-status)))</code>Starting with Emacs 25.1 the Ido keymaps are defined just once instead of every time Ido is invoked, so now you can modify it like pretty much every other keymap:<code>(define-key ido-common-completion-map   (kbd \&quot;C-x g\&quot;) &#39;ido-enter-magit-status)</code></p>
</li>
</ul>
<table>
<thead>
<tr>
<th>• <a href="https://magit.vc/manual/magit/Status-Sections.html#Status-Sections" target="_blank" rel="noopener">Status Sections</a>:</th>
<th></th>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td>• <a href="https://magit.vc/manual/magit/Status-Header-Sections.html#Status-Header-Sections" target="_blank" rel="noopener">Status Header Sections</a>:</td>
<td></td>
<td></td>
</tr>
<tr>
<td>• <a href="https://magit.vc/manual/magit/Status-Module-Sections.html#Status-Module-Sections" target="_blank" rel="noopener">Status Module Sections</a>:</td>
<td></td>
<td></td>
</tr>
<tr>
<td>• <a href="https://magit.vc/manual/magit/Status-Options.html#Status-Options" target="_blank" rel="noopener">Status Options</a>:</td>
<td></td>
</tr>
</tbody>
</table>
<h2 id="6-Manipulating"><a href="#6-Manipulating" class="headerlink" title="6 Manipulating"></a>6 Manipulating</h2><table>
<thead>
<tr>
<th>• <a href="https://magit.vc/manual/magit/Repository-Setup.html#Repository-Setup" target="_blank" rel="noopener">Repository Setup</a>:</th>
<th></th>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td>• <a href="https://magit.vc/manual/magit/Staging-and-Unstaging.html#Staging-and-Unstaging" target="_blank" rel="noopener">Staging and Unstaging</a>:</td>
<td></td>
<td></td>
</tr>
<tr>
<td>• <a href="https://magit.vc/manual/magit/Applying.html#Applying" target="_blank" rel="noopener">Applying</a>:</td>
<td></td>
<td></td>
</tr>
<tr>
<td>• <a href="https://magit.vc/manual/magit/Committing.html#Committing" target="_blank" rel="noopener">Committing</a>:</td>
<td></td>
<td></td>
</tr>
<tr>
<td>• <a href="https://magit.vc/manual/magit/Branching.html#Branching" target="_blank" rel="noopener">Branching</a>:</td>
<td></td>
<td></td>
</tr>
<tr>
<td>• <a href="https://magit.vc/manual/magit/Merging.html#Merging" target="_blank" rel="noopener">Merging</a>:</td>
<td></td>
<td></td>
</tr>
<tr>
<td>• <a href="https://magit.vc/manual/magit/Resolving-Conflicts.html#Resolving-Conflicts" target="_blank" rel="noopener">Resolving Conflicts</a>:</td>
<td></td>
<td></td>
</tr>
<tr>
<td>• <a href="https://magit.vc/manual/magit/Rebasing.html#Rebasing" target="_blank" rel="noopener">Rebasing</a>:</td>
<td></td>
<td></td>
</tr>
<tr>
<td>• <a href="https://magit.vc/manual/magit/Cherry-Picking.html#Cherry-Picking" target="_blank" rel="noopener">Cherry Picking</a>:</td>
<td></td>
<td></td>
</tr>
<tr>
<td>• <a href="https://magit.vc/manual/magit/Resetting.html#Resetting" target="_blank" rel="noopener">Resetting</a>:</td>
<td></td>
<td></td>
</tr>
<tr>
<td>• <a href="https://magit.vc/manual/magit/Stashing.html#Stashing" target="_blank" rel="noopener">Stashing</a>:</td>
<td></td>
</tr>
</tbody>
</table>
<h2 id="7-Transferring"><a href="#7-Transferring" class="headerlink" title="7 Transferring"></a>7 Transferring</h2><table>
<thead>
<tr>
<th>• <a href="https://magit.vc/manual/magit/Remotes.html#Remotes" target="_blank" rel="noopener">Remotes</a>:</th>
<th></th>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td>• <a href="https://magit.vc/manual/magit/Fetching.html#Fetching" target="_blank" rel="noopener">Fetching</a>:</td>
<td></td>
<td></td>
</tr>
<tr>
<td>• <a href="https://magit.vc/manual/magit/Pulling.html#Pulling" target="_blank" rel="noopener">Pulling</a>:</td>
<td></td>
<td></td>
</tr>
<tr>
<td>• <a href="https://magit.vc/manual/magit/Pushing.html#Pushing" target="_blank" rel="noopener">Pushing</a>:</td>
<td></td>
<td></td>
</tr>
<tr>
<td>• <a href="https://magit.vc/manual/magit/Plain-Patches.html#Plain-Patches" target="_blank" rel="noopener">Plain Patches</a>:</td>
<td></td>
<td></td>
</tr>
<tr>
<td>• <a href="https://magit.vc/manual/magit/Maildir-Patches.html#Maildir-Patches" target="_blank" rel="noopener">Maildir Patches</a>:</td>
<td></td>
</tr>
</tbody>
</table>
<h2 id="8-Miscellaneous"><a href="#8-Miscellaneous" class="headerlink" title="8 Miscellaneous"></a>8 Miscellaneous</h2><table>
<thead>
<tr>
<th>• <a href="https://magit.vc/manual/magit/Tagging.html#Tagging" target="_blank" rel="noopener">Tagging</a>:</th>
<th></th>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td>• <a href="https://magit.vc/manual/magit/Notes.html#Notes" target="_blank" rel="noopener">Notes</a>:</td>
<td></td>
<td></td>
</tr>
<tr>
<td>• <a href="https://magit.vc/manual/magit/Submodules.html#Submodules" target="_blank" rel="noopener">Submodules</a>:</td>
<td></td>
<td></td>
</tr>
<tr>
<td>• <a href="https://magit.vc/manual/magit/Subtree.html#Subtree" target="_blank" rel="noopener">Subtree</a>:</td>
<td></td>
<td></td>
</tr>
<tr>
<td>• <a href="https://magit.vc/manual/magit/Worktree.html#Worktree" target="_blank" rel="noopener">Worktree</a>:</td>
<td></td>
<td></td>
</tr>
<tr>
<td>• <a href="https://magit.vc/manual/magit/Common-Commands.html#Common-Commands" target="_blank" rel="noopener">Common Commands</a>:</td>
<td></td>
<td></td>
</tr>
<tr>
<td>• <a href="https://magit.vc/manual/magit/Wip-Modes.html#Wip-Modes" target="_blank" rel="noopener">Wip Modes</a>:</td>
<td></td>
<td></td>
</tr>
<tr>
<td>• <a href="https://magit.vc/manual/magit/Minor-Mode-for-Buffers-Visiting-Files.html#Minor-Mode-for-Buffers-Visiting-Files" target="_blank" rel="noopener">Minor Mode for Buffers Visiting Files</a>:</td>
<td></td>
<td></td>
</tr>
<tr>
<td>• <a href="https://magit.vc/manual/magit/Minor-Mode-for-Buffers-Visiting-Blobs.html#Minor-Mode-for-Buffers-Visiting-Blobs" target="_blank" rel="noopener">Minor Mode for Buffers Visiting Blobs</a>:</td>
<td></td>
</tr>
</tbody>
</table>
<h2 id="9-Customizing"><a href="#9-Customizing" class="headerlink" title="9 Customizing"></a>9 Customizing</h2><p>Both Git and Emacs are highly customizable. Magit is both a Git porcelain as well as an Emacs package, so it makes sense to customize it using both Git variables as well as Emacs options. However this flexibility doesn’t come without problems, including but not limited to the following.</p>
<ul>
<li><p>Some Git variables automatically have an effect in Magit without requiring any explicit support. Sometimes that is desirable - in other cases, it breaks Magit.</p>
<p>When a certain Git setting breaks Magit but you want to keep using that setting on the command line, then that can be accomplished by overriding the value for Magit only by appending something like <code>(&quot;-c&quot; &quot;some.variable=compatible-value&quot;)</code> to <code>magit-git-global-arguments</code>.</p>
</li>
<li><p>Certain settings like <code>fetch.prune=true</code> are respected by Magit commands (because they simply call the respective Git command) but their value is not reflected in the respective transient buffers. In this case the <code>--prune</code> argument in <code>magit-fetch</code> might be active or inactive, but that doesn’t keep the Git variable from being honored by the suffix commands anyway. So pruning might happen despite the <code>--prune</code> arguments being displayed in a way that seems to indicate that no pruning will happen.</p>
</li>
</ul>
<p>I intend to address these and similar issues in a future release.</p>
<table>
<thead>
<tr>
<th>• <a href="https://magit.vc/manual/magit/Per_002dRepository-Configuration.html#Per_002dRepository-Configuration" target="_blank" rel="noopener">Per-Repository Configuration</a>:</th>
<th></th>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td>• <a href="https://magit.vc/manual/magit/Essential-Settings.html#Essential-Settings" target="_blank" rel="noopener">Essential Settings</a>:</td>
<td></td>
</tr>
</tbody>
</table>
<h2 id="10-Plumbing"><a href="#10-Plumbing" class="headerlink" title="10 Plumbing"></a>10 Plumbing</h2><p>The following sections describe how to use several of Magit’s core abstractions to extend Magit itself or implement a separate extension.</p>
<p>A few of the low-level features used by Magit have been factored out into separate libraries/packages, so that they can be used by other packages, without having to depend on Magit. See <a href="https://magit.vc/manual/with-editor/index.html#Top" target="_blank" rel="noopener">(with-editor)Top</a> for information about <code>with-editor</code>. <code>transient</code> doesn’t have a manual yet.</p>
<p>If you are trying to find an unused key that you can bind to a command provided by your own Magit extension, then checkout <a href="https://github.com/magit/magit/wiki/Plugin-Dispatch-Key-Registry" target="_blank" rel="noopener">https://github.com/magit/magit/wiki/Plugin-Dispatch-Key-Registry</a>.</p>
<table>
<thead>
<tr>
<th>• <a href="https://magit.vc/manual/magit/Calling-Git.html#Calling-Git" target="_blank" rel="noopener">Calling Git</a>:</th>
<th></th>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td>• <a href="https://magit.vc/manual/magit/Section-Plumbing.html#Section-Plumbing" target="_blank" rel="noopener">Section Plumbing</a>:</td>
<td></td>
<td></td>
</tr>
<tr>
<td>• <a href="https://magit.vc/manual/magit/Refreshing-Buffers.html#Refreshing-Buffers" target="_blank" rel="noopener">Refreshing Buffers</a>:</td>
<td></td>
<td></td>
</tr>
<tr>
<td>• <a href="https://magit.vc/manual/magit/Conventions.html#Conventions" target="_blank" rel="noopener">Conventions</a>:</td>
<td></td>
</tr>
</tbody>
</table>
<h2 id="Appendix-A-FAQ"><a href="#Appendix-A-FAQ" class="headerlink" title="Appendix A FAQ"></a>Appendix A FAQ</h2><p>The next two nodes lists frequently asked questions. For a list of frequently <strong>and recently</strong>asked questions, i.e. questions that haven’t made it into the manual yet, see<a href="https://github.com/magit/magit/wiki/FAQ" target="_blank" rel="noopener">https://github.com/magit/magit/wiki/FAQ</a>.</p>
<p>Please also use the <a href="https://magit.vc/manual/magit/Debugging-Tools.html#Debugging-Tools" target="_blank" rel="noopener">Debugging Tools</a>.</p>
<table>
<thead>
<tr>
<th>• <a href="https://magit.vc/manual/magit/FAQ-_002d-How-to-_2026_003f.html#FAQ-_002d-How-to-_2026_003f" target="_blank" rel="noopener">FAQ - How to …?</a>:</th>
<th></th>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td>• <a href="https://magit.vc/manual/magit/FAQ-_002d-Issues-and-Errors.html#FAQ-_002d-Issues-and-Errors" target="_blank" rel="noopener">FAQ - Issues and Errors</a>:</td>
<td></td>
</tr>
</tbody>
</table>

          
        
      
    </div>

    

    
    
    

    

    
      
    
    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://alphaalgorithms.github.io/2019/05/25/github-workflow/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Gabriel">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="DummyHead">
    </span>

    
      <header class="post-header">

        
        
          <h2 class="post-title" itemprop="name headline">
                
                
                <a href="/2019/05/25/github-workflow/" class="post-title-link" itemprop="url">github workflow</a>
              
            
          </h2>
        

        <div class="post-meta">
          <span class="post-time">

            
            
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              

              
                
              

              <time title="Created: 2019-05-25 07:45:29 / Modified: 07:46:15" itemprop="dateCreated datePublished" datetime="2019-05-25T07:45:29+08:00">2019-05-25</time>
            

            
              

              
            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/management/" itemprop="url" rel="index"><span itemprop="name">management</span></a></span>

                
                
              
            </span>
          

          
            
            
              
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <span class="post-meta-item-icon">
                  <i class="fa fa-comment-o"></i>
                </span>
            
                <span class="post-meta-item-text">Comments: </span>
                <a href="/2019/05/25/github-workflow/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count disqus-comment-count" data-disqus-identifier="2019/05/25/github-workflow/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="准备工作"><a href="#准备工作" class="headerlink" title="准备工作"></a>准备工作</h2><ol>
<li>打开git bash，切换到桌面</li>
<li>新建 problems.doc 的Word文档 (用于记录操作过程中的问题,可以截图)</li>
<li>打开problems.doc文件(格式如下图左侧所示^_^)</li>
</ol>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">cd ~/desktop <span class="comment">#打开桌面</span></span><br><span class="line">touch problems.doc <span class="comment">#新建 Word文档</span></span><br><span class="line">start problems.doc <span class="comment">#打开文档.</span></span><br></pre></td></tr></table></figure>
<p><img src="https://ws2.sinaimg.cn/large/006tKfTcgy1fp3pvzp9bfj30pw0d0405.jpg" alt="0.prepare"></p>
<ol start="4">
<li><p>Fork English文件夹:(以我新注册账户doufukuai为例)</p>
<blockquote>
<p>doufukai(someone全拼)是新注册的账户,这里代表你,要用你的名字和账户替代.</p>
<p>账户M-DFK(someone的首字母)代表我的账户.</p>
</blockquote>
<p><code>start www.github.com</code>  打开GitHub网页</p>
<p>(推荐使用Chrome浏览器)</p>
<p>​</p>
<p>2) 从M-DFK账户fork,English库</p>
<p><code>start https://github.com/M-DFK/English</code></p>
<p><img src="https://ws1.sinaimg.cn/large/006tKfTcgy1fp3pw303hzj30rt0g8whi.jpg" alt="refork"></p>
</li>
</ol>
<h2 id="初次作业流程"><a href="#初次作业流程" class="headerlink" title="初次作业流程"></a>初次作业流程</h2><ol>
<li><p>回到你的GitHub账户中的English库中,</p>
<p>(备注, 账户doufukuai代表你的账户, M-DFK代表我的账户)</p>
</li>
<li><p>复制 库的地址.</p>
<p><img src="https://ws1.sinaimg.cn/large/006tKfTcgy1fp3pvyebyjj30us0h4gp1.jpg" alt="copy git link"></p>
</li>
<li><p>在git bash中,使用git clone命令,可以将所有文件下载到本地.</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#切换到桌面</span></span><br><span class="line">cd ~/desktop</span><br><span class="line">git clone git@github.com:doufukuai/English.git</span><br><span class="line"><span class="comment">#git clone 后面跟着的是你的地址,比如 </span></span><br><span class="line"><span class="comment">#@melody真的操作.</span></span><br><span class="line"><span class="comment">#git clone https://github.com/liuzhen11/English.git</span></span><br></pre></td></tr></table></figure>
<p><a href="mailto:&#39;git@github.com" target="_blank" rel="noopener">&#39;git@github.com</a>:doufukuai/English.git’ 是刚才复制的地址.</p>
<p><img src="https://ws1.sinaimg.cn/large/006tKfTcgy1fp3pw5efbtj30pr0dltbj.jpg" alt="git clone"></p>
</li>
<li><p>进入下载到桌面上的English文件,打开你的的文档 @someone.md 开始写作业.</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#切换到english目录下</span></span><br><span class="line">cd english</span><br><span class="line"><span class="comment">#打开你的作业文件,可以手动到english文件内打开,或者用下面的命令打开.</span></span><br><span class="line">start @someone.md</span><br><span class="line"><span class="comment">#这里替换成你的文件, 比如 start @melody真</span></span><br></pre></td></tr></table></figure>
<p><img src="https://ws2.sinaimg.cn/large/006tKfTcly1fp3pwjyk2tj30j30csq4i.jpg" alt="homework"></p>
</li>
<li><p>写完作业且保存后,使用<code>git add</code>命令将作业添加到staging 区,这一步看起来繁琐,却很有用.</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">git add @someone.md </span><br><span class="line"><span class="comment"># git add @melody真.md</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>再将作业commit到Master分支</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">git commit -m <span class="string">'@someone 2018-3-7'</span></span><br><span class="line"><span class="comment">#git commit -m '@melody 2018-03-16'</span></span><br></pre></td></tr></table></figure>
<p>​</p>
<p>m是message的缩写,<code>-</code>前面的这个连接线不要漏掉.</p>
<p>message的内容是 名字 + 日期 ‘@someone 2018-3-7’</p>
</li>
<li><p>将更新的作业推送到someone的GitHub网页账户上.(也称为origin分支)</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git push origin master</span><br></pre></td></tr></table></figure>
<p>这条命令的意思是 push (someone更新的内容) to origin branch from master branch</p>
<p><img src="https://ws4.sinaimg.cn/large/006tKfTcly1fp3pwh4gbej30ls0gwtd4.jpg" alt="origin"></p>
</li>
<li><p>完成,去网页里查看一下是否有变化.</p>
<p><img src="https://ws3.sinaimg.cn/large/006tKfTcgy1fp3pvugkabj30br0h90th.jpg" alt="update"></p>
</li>
<li><p>用<code>git remote</code>命令,将M-DFK的库与本地库相关联.(也称为upstream分支)</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">git remote add upstream https://github.com/M-DFK/English.git</span><br><span class="line"><span class="comment">#这里不做任何更改,照搬复制.</span></span><br></pre></td></tr></table></figure>
<p>不更改,整行复制,’<a href="https://github.com/M-DFK/English.git&#39;是M-DFK的Enlish库" target="_blank" rel="noopener">https://github.com/M-DFK/English.git&#39;是M-DFK的Enlish库</a>.</p>
<p><img src="https://ws3.sinaimg.cn/large/006tKfTcgy1fp3pw1viduj30l501qweu.jpg" alt="add upstream"></p>
</li>
<li><p>检查是否添加成功</p>
<pre><code>git remote -v
</code></pre><p><img src="https://ws3.sinaimg.cn/large/006tKfTcgy1fp3pw4c658j30l403x3zh.jpg" alt="confirm remote"></p>
</li>
</ol>
<h2 id="日常工作流程"><a href="#日常工作流程" class="headerlink" title="日常工作流程"></a>日常工作流程</h2><p>以上是初始设置的流程, 以后不需要从重复上述操作.</p>
<p>下面是你每日交作业的标准流程.</p>
<ol>
<li>写作业前:(将M-DFK库的最近更新下载到本地)</li>
</ol>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 1.切换到english文件夹下.</span></span><br><span class="line">cd ~/desktop/english <span class="comment">#切换到enligh文件夹下.</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#如果换了一台设置好SSH的新电脑,不需要重复初次工作流程的步骤.</span></span><br><span class="line"><span class="comment">#先输入下面的命令, (初次工作流程的第九步)</span></span><br><span class="line"><span class="comment">#如果没有换新电脑,略过这一步.</span></span><br><span class="line">git remote add upstream https://github.com/M-DFK/English.git</span><br><span class="line">    </span><br><span class="line"><span class="comment"># 2. 写作业前:(将M-DFK库的最近更新下载到本地)</span></span><br><span class="line">git fetch upstream  <span class="comment">#获取远程更新到本地</span></span><br><span class="line">git merge upstream/master <span class="comment">#与本地内容合并.</span></span><br><span class="line"><span class="comment"># 3. 打开你的文件写作业.</span></span><br><span class="line">start @someone.md   <span class="comment">#打开@someone.md这个文件, 开始写作业.</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 4.写完作业后的操作</span></span><br><span class="line">git add @someone.md</span><br><span class="line">git commit -m <span class="string">'@someone2018-3-7'</span></span><br><span class="line">git push origin master</span><br><span class="line"><span class="comment">#如果报错,输入以下命令,强制更新.</span></span><br><span class="line">git push -f origin master</span><br><span class="line"><span class="comment"># f 是force 强制</span></span><br><span class="line"><span class="comment"># 4.最后一步, pull request</span></span><br><span class="line"><span class="comment"># 到你的github的english库中发起pull request</span></span><br></pre></td></tr></table></figure>
<p><img src="https://ws3.sinaimg.cn/large/006tKfTcly1fp3pwi1hc6j30jp0g0gph.jpg" alt="daily_work"></p>
<ol start="4">
<li><p>关键的一步<strong>Pull Request</strong>, 登录你的GitHub账户,</p>
<p>1 ) 新建 pull request</p>
</li>
</ol>
<p><img src="https://ws1.sinaimg.cn/large/006tKfTcgy1fp3pvww510j30tp0gj76a.jpg" alt="pull request"></p>
<pre><code>2) 填写内容后创建.
</code></pre><p><img src="https://ws2.sinaimg.cn/large/006tKfTcly1fp3pwkxsbmj30oy0h976l.jpg" alt="pr content"></p>
<p>​    3) 点击创建后,出现的界面</p>
<p><img src="https://ws3.sinaimg.cn/large/006tKfTcgy1fp3pw0odooj30oh0dr404.jpg" alt="success"></p>
<h2 id="记录问题"><a href="#记录问题" class="headerlink" title="记录问题"></a>记录问题</h2><p>不要忘记,创建的Word文件,用来记录问题, 和收集错误的截图.</p>
<p>最好能先百度找找, 将搜到的内容也存到里面.</p>
<h2 id="命令行练习"><a href="#命令行练习" class="headerlink" title="命令行练习"></a>命令行练习</h2><p><img src="https://ws4.sinaimg.cn/large/006tKfTcgy1fp3pvvk3jqj30qk0hkwih.jpg" alt="practice"></p>
<p>推荐资料:</p>
<p>1) 中文资料 <a href="https://www.liaoxuefeng.com/wiki/0013739516305929606dd18361248578c67b8067c8c017b000" target="_blank" rel="noopener">Git教程 - 廖雪峰的官方网站</a></p>
<p>2) 英文资料:<a href="https://help.github.com/articles/working-with-forks/" target="_blank" rel="noopener">Working with forks - User Documentation</a></p>
<p>阅读资料过程中遇到的问题,也请放到<code>problems.doc</code>中.</p>

          
        
      
    </div>

    

    
    
    

    

    
      
    
    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://alphaalgorithms.github.io/2019/05/25/github-setup/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Gabriel">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="DummyHead">
    </span>

    
      <header class="post-header">

        
        
          <h2 class="post-title" itemprop="name headline">
                
                
                <a href="/2019/05/25/github-setup/" class="post-title-link" itemprop="url">Github同步设置</a>
              
            
          </h2>
        

        <div class="post-meta">
          <span class="post-time">

            
            
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              

              
                
              

              <time title="Created: 2019-05-25 07:38:56 / Modified: 07:42:02" itemprop="dateCreated datePublished" datetime="2019-05-25T07:38:56+08:00">2019-05-25</time>
            

            
              

              
            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/management-versionControl/" itemprop="url" rel="index"><span itemprop="name">management - versionControl</span></a></span>

                
                
              
            </span>
          

          
            
            
              
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <span class="post-meta-item-icon">
                  <i class="fa fa-comment-o"></i>
                </span>
            
                <span class="post-meta-item-text">Comments: </span>
                <a href="/2019/05/25/github-setup/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count disqus-comment-count" data-disqus-identifier="2019/05/25/github-setup/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h3 id="零-下载和安装git-for-windows"><a href="#零-下载和安装git-for-windows" class="headerlink" title="零, 下载和安装git for windows"></a>零, 下载和安装git for windows</h3><p>原网址下载比较慢, 这是百度盘下载链接.<a href="https://pan.baidu.com/s/1uei5UkY21Ez4YDTlxWh9Gg" target="_blank" rel="noopener">https://pan.baidu.com/s/1uei5UkY21Ez4YDTlxWh9Gg</a></p>
<p>安装的时候一直点下一步,</p>
<p>安装成功后,桌面上会出现一个Git Bash的图标快捷键.</p>
<p>打开后,进入下一步操作.</p>
<p><img src="https://timgsa.baidu.com/timg?image&amp;quality=80&amp;size=b9999_10000&amp;sec=1520751797325&amp;di=1a37c77bbe3b74af24773da85ae8dd36&amp;imgtype=jpg&amp;src=http%3A%2F%2Fimg1.imgtn.bdimg.com%2Fit%2Fu%3D252142561%2C2985088589%26fm%3D214%26gp%3D0.jpg" alt="img">i</p>
<h3 id="一-设置用户名和邮箱"><a href="#一-设置用户名和邮箱" class="headerlink" title="一, 设置用户名和邮箱"></a>一, 设置用户名和邮箱</h3><p>首先注册一个github账户.</p>
<p><a href="https://github.com/" target="_blank" rel="noopener">https://github.com/</a></p>
<p>官方指导：<a href="https://git-scm.com/book/en/v2/Getting-Started-First-Time-Git-Setup" target="_blank" rel="noopener">First time set up</a></p>
<p>以我新注册的新账户, 这里代表你,用你的账户替代yourname.<br>用户名: yourname<br>邮箱: <a href="mailto:someone@gmail.com" target="_blank" rel="noopener">someone@gmail.com</a>为例.</p>
<ol>
<li>分别复制输入命令, <code>$</code>这个符号不要复制,每复制一行回车.(以下相同), 用你的github账户的用户名和邮箱替代yourname的.</li>
</ol>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ git config --<span class="keyword">global</span> user.name <span class="string">"yourname"</span></span><br><span class="line">$ git config --<span class="keyword">global</span> user.email someone@gmail.com</span><br></pre></td></tr></table></figure>
<p><img src="https://ws2.sinaimg.cn/large/006tNc79ly1fp2chmedkmj30lm064js2.jpg" alt></p>
<ol start="2">
<li><p>核实下是否设置成功</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">$ git config user.name</span><br><span class="line"><span class="comment">#如果反馈出 yourname,就是设置成功!</span></span><br><span class="line">$ git config user.email</span><br><span class="line"><span class="comment">#会显示 someone@gmail.com</span></span><br><span class="line"></span><br><span class="line">gaowei@alpha:~/Documents/English/EnglishGit/<span class="number">01.</span>GitCollection$ git config --list</span><br><span class="line">user.name=M-DFK</span><br><span class="line">user.email=gcpu.whisper@gmail.com</span><br><span class="line">core.repositoryformatversion=<span class="number">0</span></span><br><span class="line">core.filemode=true</span><br><span class="line">core.bare=false</span><br><span class="line">core.logallrefupdates=true</span><br><span class="line">core.ignorecase=true</span><br><span class="line">core.precomposeunicode=false</span><br><span class="line">remote.origin.url=https://github.com/M-DFK/English.git</span><br><span class="line">remote.origin.fetch=+refs/heads/*:refs/remotes/origin/*</span><br><span class="line">branch.master.remote=origin</span><br><span class="line">branch.master.merge=refs/heads/master</span><br></pre></td></tr></table></figure>
</li>
</ol>
<h3 id="二，设置SSH-连接Github"><a href="#二，设置SSH-连接Github" class="headerlink" title="二，设置SSH, 连接Github"></a>二，设置SSH, 连接Github</h3><p>官方指导：<a href="https://help.github.com/articles/connecting-to-github-with-ssh/" target="_blank" rel="noopener">Connect to Github</a></p>
<p><strong>1. Generating a new SSH key</strong></p>
<p>以下按照步骤复制黏贴到git bash中.</p>
<ol>
<li><p>Paste the text below, substituting in your GitHub email address.</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ ssh-keygen -t rsa -b <span class="number">4096</span> -C <span class="string">"someone@gmail.com"</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>save the SSH key</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Enter a file <span class="keyword">in</span> which to save the key (/c/Users/you/.ssh/id_rsa):[Press enter]</span><br></pre></td></tr></table></figure>
<p>[Press enter] 是按回车,不要输入任何内容,只按回车键.</p>
</li>
<li><p>At the prompt, type a secure passphrase. For more information, see <a href="https://help.github.com/articles/working-with-ssh-key-passphrases" target="_blank" rel="noopener">“Working with SSH key passphrases”</a>.(设置密码,输入任意密码)</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Enter passphrase (empty <span class="keyword">for</span> no passphrase): [Type a passphrase]</span><br><span class="line">Enter same passphrase again: [Type passphrase again]</span><br></pre></td></tr></table></figure>
<p>下面的图片,设置密码的时候,我两次输入的不一致,提示让我重新又设置了一遍.<br>密码可以随意设置,在自己能记住的前提下.</p>
<p><img src="https://ws1.sinaimg.cn/large/006tNc79ly1fp2cizjxkxj30s40jowgm.jpg" alt="ssh_key"></p>
</li>
</ol>
<p><strong>2. Adding your SSH key to the ssh-agent</strong></p>
<ol>
<li><p>Run ssh-agent </p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">eval $(ssh-agent -s)</span><br></pre></td></tr></table></figure>
</li>
<li><p>Add your SSH private key to the ssh-agent.</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ssh-add ~/.ssh/id_rsa</span><br></pre></td></tr></table></figure>
<p> <img src="https://ws4.sinaimg.cn/large/006tNc79ly1fp2cq1l0dnj30oy05p74h.jpg" alt></p>
</li>
</ol>
<h3 id="三-添加SSH-key到Gibhub账户"><a href="#三-添加SSH-key到Gibhub账户" class="headerlink" title="三, 添加SSH key到Gibhub账户"></a>三, 添加SSH key到Gibhub账户</h3><p><a href="https://help.github.com/articles/adding-a-new-ssh-key-to-your-github-account/" target="_blank" rel="noopener">官方指导</a></p>
<ol>
<li><p>复制SSH key</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">cat ~/.ssh/id_rsa.pub </span><br><span class="line">less ~/.ssh/id_rsa.pub </span><br><span class="line"><span class="comment">#回车后,复制以下图片中的内容,'ssh开始,@gmail.com结束'的全部内容.</span></span><br><span class="line"><span class="comment">#可以右键点复制,也可以用快捷键  Ctrl + Ins (注意不是快捷键 Ctrl + C)</span></span><br><span class="line"></span><br><span class="line">sudo apt-get install xclip</span><br><span class="line"><span class="comment"># Downloads and installs xclip. If you don't have `apt-get`, you might need to use another installer (like `yum`)</span></span><br><span class="line">xclip -sel clip &lt; ~/.ssh/id_rsa.pub</span><br><span class="line"><span class="comment"># Copies the contents of the id_rsa.pub file to your clipboard</span></span><br></pre></td></tr></table></figure>
<p><img src="https://ws2.sinaimg.cn/large/006tNc79ly1fp2cqrpi0cj30s306nwfi.jpg" alt></p>
</li>
<li><p>在网页中打开Github账户,进入设置(setting 选型)</p>
<p><img src="https://ws4.sinaimg.cn/large/006tNc79ly1fp2crfvy39j30b50fhdh6.jpg" alt></p>
</li>
<li><p>进入</p>
<p><img src="https://ws2.sinaimg.cn/large/006tNc79ly1fp2cv6ymffj30ul0g9q46.jpg" alt></p>
<p>​</p>
</li>
<li><p>点 新建SSH Key</p>
<p><img src="https://ws1.sinaimg.cn/large/006tNc79ly1fp2cvnwyy7j30tj0gy3zw.jpg" alt></p>
</li>
<li><p>在空白框中黏贴刚才复制的内容，标题可以命名为日期</p>
<p><img src="https://ws3.sinaimg.cn/large/006tNc79ly1fp2cw1s42ej30su0g4dhf.jpg" alt></p>
</li>
<li><p>单击添加</p>
<p><img src="https://ws3.sinaimg.cn/large/006tNc79ly1fp2cwmgf5mj30sc0dqdia.jpg" alt></p>
</li>
<li><p>网站会要求重新登录．</p>
<p><img src="https://ws2.sinaimg.cn/large/006tNc79ly1fp2cwyehd3j30uv0krad7.jpg" alt></p>
</li>
<li><p>查看设置成功</p>
<p><img src="https://ws3.sinaimg.cn/large/006tNc79ly1fp2cxfyzfej30st0cqta3.jpg" alt></p>
</li>
</ol>

          
        
      
    </div>

    

    
    
    

    

    
      
    
    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://alphaalgorithms.github.io/2019/05/25/book-shell-script/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Gabriel">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="DummyHead">
    </span>

    
      <header class="post-header">

        
        
          <h2 class="post-title" itemprop="name headline">
                
                
                <a href="/2019/05/25/book-shell-script/" class="post-title-link" itemprop="url">Book-Shell Scripts</a>
              
            
          </h2>
        

        <div class="post-meta">
          <span class="post-time">

            
            
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              

              
                
              

              <time title="Created: 2019-05-25 06:52:31 / Modified: 07:02:05" itemprop="dateCreated datePublished" datetime="2019-05-25T06:52:31+08:00">2019-05-25</time>
            

            
              

              
            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/linux/" itemprop="url" rel="index"><span itemprop="name">linux</span></a></span>

                
                
              
            </span>
          

          
            
            
              
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <span class="post-meta-item-icon">
                  <i class="fa fa-comment-o"></i>
                </span>
            
                <span class="post-meta-item-text">Comments: </span>
                <a href="/2019/05/25/book-shell-script/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count disqus-comment-count" data-disqus-identifier="2019/05/25/book-shell-script/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="Shell-Script"><a href="#Shell-Script" class="headerlink" title="Shell Script"></a>Shell Script</h2><table>
<thead>
<tr>
<th></th>
<th><strong>1. The Linux Command Line</strong></th>
<th></th>
<th></th>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td></td>
<td><strong>倒着的Tree结构.</strong></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td><strong>命令层:</strong> <br>上层</td>
<td><img src="http://heropublic.oss-cn-beijing.aliyuncs.com/075635.png" alt="part1-23"></td>
<td><img src="http://heropublic.oss-cn-beijing.aliyuncs.com/075717.png" alt="part1-47"></td>
<td><img src="http://heropublic.oss-cn-beijing.aliyuncs.com/080015.png" alt="part1-85"></td>
<td></td>
</tr>
<tr>
<td><strong>树形结构的底部</strong></td>
<td><img src="http://heropublic.oss-cn-beijing.aliyuncs.com/045039.png" alt="part1-135"></td>
<td><img src="http://heropublic.oss-cn-beijing.aliyuncs.com/045147.png" alt="part1-161"></td>
<td><img src="http://heropublic.oss-cn-beijing.aliyuncs.com/045255.png" alt="part1-187"></td>
<td>从底部的Filetree开始.</td>
</tr>
<tr>
<td><strong>Additional  info</strong></td>
<td><img src="http://heropublic.oss-cn-beijing.aliyuncs.com/045413.png" alt="part1-211"></td>
<td><img src="http://heropublic.oss-cn-beijing.aliyuncs.com/051616-1.png" alt="part1-233"></td>
<td></td>
<td></td>
</tr>
<tr>
<td><strong>birdview the shell</strong></td>
<td><strong><img src="http://heropublic.oss-cn-beijing.aliyuncs.com/075617.png" alt="part1-3"></strong></td>
<td><img src="http://heropublic.oss-cn-beijing.aliyuncs.com/075952.png" alt="part1-113"></td>
<td><img src="http://heropublic.oss-cn-beijing.aliyuncs.com/031030.png" alt="Richard Blum, Christine Bresnahan - Linux Command Line and Shell Scripting Bible, 3rd Edition - 2015 page 513.pdf"></td>
<td><img src="http://heropublic.oss-cn-beijing.aliyuncs.com/031027.png" alt="Richard Blum, Christine Bresnahan - Linux Command Line and Shell Scripting Bible, 3rd Edition - 2015 page 659.pdf"></td>
</tr>
<tr>
<td></td>
<td><strong>2. Programming</strong></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td>programming</td>
<td><img src="http://heropublic.oss-cn-beijing.aliyuncs.com/144902.png" alt="Richard Blum, Christine Bresnahan - Linux Command Line and Shell Scripting Bible, 3rd Edition - 2015 page 305.pdf"></td>
<td><img src="http://heropublic.oss-cn-beijing.aliyuncs.com/031025.png" alt="Richard Blum, Christine Bresnahan - Linux Command Line and Shell Scripting Bible, 3rd Edition - 2015 page 485.pdf"></td>
<td><img src="http://heropublic.oss-cn-beijing.aliyuncs.com/144900.png" alt="Richard Blum, Christine Bresnahan - Linux Command Line and Shell Scripting Bible, 3rd Edition - 2015 page 333.pdf"></td>
<td><img src="http://heropublic.oss-cn-beijing.aliyuncs.com/144858.png" alt="Richard Blum, Christine Bresnahan - Linux Command Line and Shell Scripting Bible, 3rd Edition - 2015 page 367.pdf"></td>
</tr>
<tr>
<td>I/O</td>
<td><img src="http://heropublic.oss-cn-beijing.aliyuncs.com/144855.png" alt="Richard Blum, Christine Bresnahan - Linux Command Line and Shell Scripting Bible, 3rd Edition - 2015 page 401.pdf"></td>
<td><img src="http://heropublic.oss-cn-beijing.aliyuncs.com/144857.png" alt="Richard Blum, Christine Bresnahan - Linux Command Line and Shell Scripting Bible, 3rd Edition - 2015 page 431.pdf"></td>
<td><img src="http://heropublic.oss-cn-beijing.aliyuncs.com/144901.png" alt="Richard Blum, Christine Bresnahan - Linux Command Line and Shell Scripting Bible, 3rd Edition - 2015 page 455.pdf"></td>
<td></td>
</tr>
<tr>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td></td>
<td><strong>3.  Advanced Shell Scripting</strong></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td></td>
<td><img src="http://heropublic.oss-cn-beijing.aliyuncs.com/031025-1.png" alt="Richard Blum, Christine Bresnahan - Linux Command Line and Shell Scripting Bible, 3rd Edition - 2015 page 571.pdf"></td>
<td><img src="http://heropublic.oss-cn-beijing.aliyuncs.com/031029.png" alt="Richard Blum, Christine Bresnahan - Linux Command Line and Shell Scripting Bible, 3rd Edition - 2015 page 541.pdf"></td>
<td><img src="http://heropublic.oss-cn-beijing.aliyuncs.com/031023.png" alt="Richard Blum, Christine Bresnahan - Linux Command Line and Shell Scripting Bible, 3rd Edition - 2015 page 597.pdf"></td>
<td><img src="http://heropublic.oss-cn-beijing.aliyuncs.com/031028.png" alt="Richard Blum, Christine Bresnahan - Linux Command Line and Shell Scripting Bible, 3rd Edition - 2015 page 627.pdf"></td>
</tr>
<tr>
<td></td>
<td><strong>4. Part VI Creating Practival Scripts</strong></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td></td>
<td><img src="http://heropublic.oss-cn-beijing.aliyuncs.com/033028-2.png" alt="lRichard Blum, Christine Bresnahan - Linux Command Line and Shell Scripting Bible, 3rd Edition - 2015 page 681.pdf"></td>
<td><img src="http://heropublic.oss-cn-beijing.aliyuncs.com/033101.png" alt="Richard Blum, Christine Bresnahan - Linux Command Line and Shell Scripting Bible, 3rd Edition - 2015 page 717.pdf"></td>
<td><img src="http://heropublic.oss-cn-beijing.aliyuncs.com/033058.png" alt="Richard Blum, Christine Bresnahan - Linux Command Line and Shell Scripting Bible, 3rd Edition - 2015 page 745.pdf"></td>
<td></td>
</tr>
<tr>
<td></td>
<td><img src="http://heropublic.oss-cn-beijing.aliyuncs.com/033100.png" alt="Richard Blum, Christine Bresnahan - Linux Command Line and Shell Scripting Bible, 3rd Edition - 2015 page 775.pdf"></td>
<td><img src="http://heropublic.oss-cn-beijing.aliyuncs.com/033056.png" alt="Richard Blum, Christine Bresnahan - Linux Command Line and Shell Scripting Bible, 3rd Edition - 2015 page 787.pdf"></td>
<td></td>
</tr>
</tbody>
</table>

          
        
      
    </div>

    

    
    
    

    

    
      
    
    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://alphaalgorithms.github.io/2019/05/23/emacs-manual/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Gabriel">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="DummyHead">
    </span>

    
      <header class="post-header">

        
        
          <h2 class="post-title" itemprop="name headline">
                
                
                <a href="/2019/05/23/emacs-manual/" class="post-title-link" itemprop="url">Emacs' Official Manual</a>
              
            
          </h2>
        

        <div class="post-meta">
          <span class="post-time">

            
            
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              

              
                
              

              <time title="Created: 2019-05-23 14:25:13 / Modified: 21:42:00" itemprop="dateCreated datePublished" datetime="2019-05-23T14:25:13+08:00">2019-05-23</time>
            

            
              

              
            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/linux-emacs/" itemprop="url" rel="index"><span itemprop="name">linux - emacs</span></a></span>

                
                
              
            </span>
          

          
            
            
              
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <span class="post-meta-item-icon">
                  <i class="fa fa-comment-o"></i>
                </span>
            
                <span class="post-meta-item-text">Comments: </span>
                <a href="/2019/05/23/emacs-manual/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count disqus-comment-count" data-disqus-identifier="2019/05/23/emacs-manual/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="0-Introduction"><a href="#0-Introduction" class="headerlink" title="0.Introduction"></a>0.Introduction</h2><p>You are reading about GNU Emacs, the GNU incarnation of the advanced, self-documenting, customizable, extensible editor Emacs. (The ‘G’ in GNU (GNU’s Not Unix) is not silent.)</p>
<p>We call Emacs advanced because it can do much more than simple insertion and deletion of text. It can control subprocesses, indent programs automatically, show multiple files at once, and more. Emacs editing commands operate in terms of characters, words, lines, sentences, paragraphs, and pages, as well as expressions and comments in various programming languages.</p>
<p>Self-documenting means that at any time you can use special commands, known as help commands, to find out what your options are, or to find out what any command does, or to find all the commands that pertain to a given topic. See <a href="https://www.gnu.org/software/emacs/manual/html_node/emacs/Help.html#Help" target="_blank" rel="noopener">Help</a>.</p>
<p>Customizable means that you can easily alter the behavior of Emacs commands in simple ways. For instance, if you use a programming language in which comments start with ‘&lt;<strong>’ and end with ‘</strong>&gt;’, you can tell the Emacs comment manipulation commands to use those strings (see <a href="https://www.gnu.org/software/emacs/manual/html_node/emacs/Comments.html#Comments" target="_blank" rel="noopener">Comments</a>). To take another example, you can rebind the basic cursor motion commands (up, down, left and right) to any keys on the keyboard that you find comfortable. See <a href="https://www.gnu.org/software/emacs/manual/html_node/emacs/Customization.html#Customization" target="_blank" rel="noopener">Customization</a>.</p>
<p>Extensible means that you can go beyond simple customization and create entirely new commands. New commands are simply programs written in the Lisp language, which are run by Emacs’s own Lisp interpreter. Existing commands can even be redefined in the middle of an editing session, without having to restart Emacs. Most of the editing commands in Emacs are written in Lisp; the few exceptions could have been written in Lisp but use C instead for efficiency. Writing an extension is programming, but non-programmers can use it afterwards. See <a href="https://www.gnu.org/software/emacs/manual/html_node/eintr/index.html#Top" target="_blank" rel="noopener">Emacs Lisp Intro</a>, if you want to learn Emacs Lisp programming.</p>
<h2 id="1-The-Organization-of-the-Screen"><a href="#1-The-Organization-of-the-Screen" class="headerlink" title="1 The Organization of the Screen"></a>1 The Organization of the Screen</h2><p>On a graphical display, such as on GNU/Linux using the X Window System, Emacs occupies a graphical window. On a text terminal, Emacs occupies the entire terminal screen. We will use the term frame to mean a graphical window or terminal screen occupied by Emacs. Emacs behaves very similarly on both kinds of frames. It normally starts out with just one frame, but you can create additional frames if you wish (see <a href="https://www.gnu.org/software/emacs/manual/html_node/emacs/Frames.html#Frames" target="_blank" rel="noopener">Frames</a>).</p>
<p>Each frame consists of several distinct regions. At the top of the frame is a menu bar, which allows you to access commands via a series of menus. On a graphical display, directly below the menu bar is a tool bar, a row of icons that perform editing commands when you click on them. At the very bottom of the frame is an echo area, where informative messages are displayed and where you enter information when Emacs asks for it.</p>
<p>The main area of the frame, below the tool bar (if one exists) and above the echo area, is called the window. Henceforth in this manual, we will use the word “window” in this sense. Graphical display systems commonly use the word “window” with a different meaning; but, as stated above, we refer to those graphical windows as “frames”.</p>
<p>An Emacs window is where the buffer—the text or other graphics you are editing or viewing—is displayed. On a graphical display, the window possesses a scroll bar on one side, which can be used to scroll through the buffer. The last line of the window is a mode line. This displays various information about what is going on in the buffer, such as whether there are unsaved changes, the editing modes that are in use, the current line number, and so forth.</p>
<p>When you start Emacs, there is normally only one window in the frame. However, you can subdivide this window horizontally or vertically to create multiple windows, each of which can independently display a buffer (see <a href="https://www.gnu.org/software/emacs/manual/html_node/emacs/Windows.html#Windows" target="_blank" rel="noopener">Windows</a>).</p>
<p>At any time, one window is the selected window. On a graphical display, the selected window shows a more prominent cursor (usually solid and blinking); other windows show a less prominent cursor (usually a hollow box). On a text terminal, there is only one cursor, which is shown in the selected window. The buffer displayed in the selected window is called the current buffer, and it is where editing happens. Most Emacs commands implicitly apply to the current buffer; the text displayed in unselected windows is mostly visible for reference. If you use multiple frames on a graphical display, selecting a particular frame selects a window in that frame.</p>
<ul>
<li><a href="https://www.gnu.org/software/emacs/manual/html_node/emacs/Point.html#Point" target="_blank" rel="noopener">Point</a>: The place in the text where editing commands operate.</li>
<li><a href="https://www.gnu.org/software/emacs/manual/html_node/emacs/Echo-Area.html#Echo-Area" target="_blank" rel="noopener">Echo Area</a>: Short messages appear at the bottom of the screen.</li>
<li><a href="https://www.gnu.org/software/emacs/manual/html_node/emacs/Mode-Line.html#Mode-Line" target="_blank" rel="noopener">Mode Line</a>: Interpreting the mode line.</li>
<li><a href="https://www.gnu.org/software/emacs/manual/html_node/emacs/Menu-Bar.html#Menu-Bar" target="_blank" rel="noopener">Menu Bar</a>: How to use the menu bar.</li>
</ul>
<h2 id="2-Kinds-of-User-Input"><a href="#2-Kinds-of-User-Input" class="headerlink" title="2 Kinds of User Input"></a>2 Kinds of User Input</h2><p>GNU Emacs is primarily designed for use with the keyboard. While it is possible to use the mouse to issue editing commands through the menu bar and tool bar, that is not as efficient as using the keyboard. Therefore, this manual mainly documents how to edit with the keyboard.</p>
<p>Keyboard input into Emacs is based on a heavily-extended version of ASCII. </p>
<ul>
<li>Simple characters, like ‘a’, ‘B’, ‘3’, ‘=’, and the space character (denoted as <spc>), are entered by typing the corresponding key. </spc></li>
<li>Control characters, such as <ret>, <tab>, <del>, <esc>, <f1>, <home>, and <left>, are also entered this way, as are certain characters found on non-English keyboards (see <a href="https://www.gnu.org/software/emacs/manual/html_node/emacs/International.html#International" target="_blank" rel="noopener">International</a>).</left></home></f1></esc></del></tab></ret></li>
<li>Emacs also recognizes control characters that are entered using modifier keys. Two commonly-used modifier keys are <control> (usually labeled <ctrl>), and <meta> (usually labeled <alt>)<a href="https://www.gnu.org/software/emacs/manual/html_node/emacs/User-Input.html#fn-1" target="_blank" rel="noopener">1</a>. For example, Control-a is entered by holding down the <ctrl> key while pressing a; we will refer to this as C-a for short. Similarly, <meta>-a, or M-a for short, is entered by holding down the <alt> key and pressing a. Modifier keys can also be applied to non-alphanumerical characters, e.g., C-<f1> or M-<left>.</left></f1></alt></ctrl></alt></ctrl></control></li>
</ul>
<blockquote>
<p>分类清晰, User Input, 从这里设置键盘一类别,<br>1) Simple 2) Control 3) Modifier </p>
</blockquote>
<p>You can also type Meta characters using two-character sequences starting with <esc>. Thus, you can enter M-a by typing <esc> a. You can enter C-M-a (holding down both <ctrl> and <alt>, then pressing a) by typing <esc> C-a. Unlike <meta>, <esc> is entered as a separate character. You don’t hold down <esc> while typing the next character; instead, press <esc> and release it, then enter the next character. This feature is useful on certain text terminals where the <meta> key does not function reliably.</esc></esc></esc></esc></alt></ctrl></esc></esc></p>
<p>On graphical displays, the window manager might block some keyboard inputs, including M-<tab>, M-<spc>, C-M-d and C-M-l. If you have this problem, you can either customize your window manager to not block those keys, or rebind the affected Emacs commands (see <a href="https://www.gnu.org/software/emacs/manual/html_node/emacs/Customization.html#Customization" target="_blank" rel="noopener">Customization</a>).</spc></tab></p>
<p>Simple characters and control characters, as well as certain non-keyboard inputs such as mouse clicks, are collectively referred to as input events. For details about how Emacs internally handles input events, see <a href="https://www.gnu.org/software/emacs/manual/html_node/elisp/Input-Events.html#Input-Events" target="_blank" rel="noopener">Input Events</a>.</p>
<hr>
<h2 id="3-Keys"><a href="#3-Keys" class="headerlink" title="3 Keys"></a>3 Keys</h2><p>Some Emacs commands are invoked by just one input event; for example, C-f moves forward one character in the buffer. Other commands take two or more input events to invoke, such as C-x C-f and C-x 4 C-f.</p>
<p>A key sequence, or key for short, is a sequence of one or more input events that is meaningful as a unit. If a key sequence invokes a command, we call it a complete key; for example,C-f, C-x C-f and C-x 4 C-f are all complete keys. If a key sequence isn’t long enough to invoke a command, we call it a prefix key; from the preceding example, we see that C-x and C-x 4 are prefix keys. Every key sequence is either a complete key or a prefix key.</p>
<p>A prefix key combines with the following input event to make a longer key sequence. For example, C-x is a prefix key, so typing C-x alone does not invoke a command; instead, Emacs waits for further input (if you pause for longer than a second, it echoes the C-x key to prompt for that input; see <a href="https://www.gnu.org/software/emacs/manual/html_node/emacs/Echo-Area.html#Echo-Area" target="_blank" rel="noopener">Echo Area</a>). C-x combines with the next input event to make a two-event key sequence, which could itself be a prefix key (such as C-x 4), or a complete key (such as C-x C-f). There is no limit to the length of key sequences, but in practice they are seldom longer than three or four input events.</p>
<p>You can’t add input events onto a complete key. For example, because C-f is a complete key, the two-event sequence C-f C-k is two key sequences, not one.</p>
<p>By default, the prefix keys in Emacs are C-c, C-h, C-x, C-x <ret>, C-x @, C-x a, C-x n, C-x r, C-x v, C-x 4, C-x 5, C-x 6, <esc>, M-g, and M-o. (<f1> and <f2> are aliases for C-h and C-x 6.) This list is not cast in stone; if you customize Emacs, you can make new prefix keys. You could even eliminate some of the standard ones, though this is not recommended for most users; for example, if you remove the prefix definition of C-x 4, then C-x 4 C-f becomes an invalid key sequence. See <a href="https://www.gnu.org/software/emacs/manual/html_node/emacs/Key-Bindings.html#Key-Bindings" target="_blank" rel="noopener">Key Bindings</a>.</f2></f1></esc></ret></p>
<p>Typing the help character (C-h or <f1>) after a prefix key displays a list of the commands starting with that prefix. The sole exception to this rule is <esc>: <esc> C-h is equivalent to C-M-h, which does something else entirely. You can, however, use <f1> to display a list of commands starting with <esc>.</esc></f1></esc></esc></f1></p>
<h2 id="4-Keys-and-Commands"><a href="#4-Keys-and-Commands" class="headerlink" title="4 Keys and Commands"></a>4 Keys and Commands</h2><p>This manual is full of passages that tell you what particular keys do. But Emacs does not assign meanings to keys directly. Instead, Emacs assigns meanings to named commands, and then gives keys their meanings by binding them to commands.</p>
<p>Every command has a name chosen by a programmer. The name is usually made of a few English words separated by dashes; for example, <code>next-line</code> or <code>forward-word</code>. Internally, each command is a special type of Lisp function, and the actions associated with the command are performed by running the function. See <a href="https://www.gnu.org/software/emacs/manual/html_node/elisp/What-Is-a-Function.html#What-Is-a-Function" target="_blank" rel="noopener">What Is a Function</a>.</p>
<p>The bindings between keys and commands are recorded in tables called keymaps. See <a href="https://www.gnu.org/software/emacs/manual/html_node/emacs/Keymaps.html#Keymaps" target="_blank" rel="noopener">Keymaps</a>.</p>
<p>When we say that “C-n moves down vertically one line” we are glossing over a subtle distinction that is irrelevant in ordinary use, but vital for Emacs customization. The command <code>next-line</code> does a vertical move downward. C-n has this effect <em>because</em> it is bound to <code>next-line</code>. If you rebind C-n to the command <code>forward-word</code>, C-n will move forward one word instead.</p>
<p>In this manual, we will often speak of keys like C-n as commands, even though strictly speaking the key is bound to a command. Usually, we state the name of the command which really does the work in parentheses after mentioning the key that runs it. For example, we will say that “The command C-n (<code>next-line</code>) moves point vertically down”, meaning that the command <code>next-line</code> moves vertically down, and the key C-n is normally bound to it.</p>
<p>Since we are discussing customization, we should tell you about variables. Often the description of a command will say, “To change this, set the variable <code>mumble-foo</code>.” A variable is a name used to store a value. Most of the variables documented in this manual are meant for customization: some command or other part of Emacs examines the variable and behaves differently according to the value that you set. You can ignore the information about variables until you are interested in customizing them. Then read the basic information on variables (see <a href="https://www.gnu.org/software/emacs/manual/html_node/emacs/Variables.html#Variables" target="_blank" rel="noopener">Variables</a>) and the information about specific variables will make sense.</p>
<h2 id="5-Entering-Emacs"><a href="#5-Entering-Emacs" class="headerlink" title="5 Entering Emacs"></a>5 Entering Emacs</h2><p>The usual way to invoke Emacs is with the shell command emacs. From a terminal window running a Unix shell on a GUI terminal, you can run Emacs in the background with emacs &amp;; this way, Emacs won’t tie up the terminal window, so you can use it to run other shell commands. (For comparable methods of starting Emacs on MS-Windows, see <a href="https://www.gnu.org/software/emacs/manual/html_node/emacs/Windows-Startup.html#Windows-Startup" target="_blank" rel="noopener">Windows Startup</a>.)</p>
<p>When Emacs starts up, the initial frame displays a special buffer named ‘<em>GNU Emacs</em>’. This startup screen contains information about Emacs and links to common tasks that are useful for beginning users. For instance, activating the ‘Emacs Tutorial’ link opens the Emacs tutorial; this does the same thing as the command C-h t (<code>help-with-tutorial</code>). To activate a link, either move point onto it and type <ret>, or click on it with mouse-1 (the left mouse button).</ret></p>
<p>Using a command line argument, you can tell Emacs to visit one or more files as soon as it starts up. For example, emacs foo.txt starts Emacs with a buffer displaying the contents of the file ‘foo.txt’. This feature exists mainly for compatibility with other editors, which are designed to be launched from the shell for short editing sessions. If you call Emacs this way, the initial frame is split into two windows—one showing the specified file, and the other showing the startup screen. See <a href="https://www.gnu.org/software/emacs/manual/html_node/emacs/Windows.html#Windows" target="_blank" rel="noopener">Windows</a>.</p>
<p>Generally, it is unnecessary and wasteful to start Emacs afresh each time you want to edit a file. The recommended way to use Emacs is to start it just once, just after you log in, and do all your editing in the same Emacs session. See <a href="https://www.gnu.org/software/emacs/manual/html_node/emacs/Files.html#Files" target="_blank" rel="noopener">Files</a>, for information on visiting more than one file. If you use Emacs this way, the Emacs session accumulates valuable context, such as the kill ring, registers, undo history, and mark ring data, which together make editing more convenient. These features are described later in the manual.</p>
<p>To edit a file from another program while Emacs is running, you can use the emacsclient helper program to open a file in the existing Emacs session. See <a href="https://www.gnu.org/software/emacs/manual/html_node/emacs/Emacs-Server.html#Emacs-Server" target="_blank" rel="noopener">Emacs Server</a>.</p>
<p>Emacs accepts other command line arguments that tell it to load certain Lisp files, where to put the initial frame, and so forth. See <a href="https://www.gnu.org/software/emacs/manual/html_node/emacs/Emacs-Invocation.html#Emacs-Invocation" target="_blank" rel="noopener">Emacs Invocation</a>.</p>
<p>If the variable <code>inhibit-startup-screen</code> is non-<code>nil</code>, Emacs does not display the startup screen. In that case, if one or more files were specified on the command line, Emacs simply displays those files; otherwise, it displays a buffer named <em>scratch</em>, which can be used to evaluate Emacs Lisp expressions interactively. See <a href="https://www.gnu.org/software/emacs/manual/html_node/emacs/Lisp-Interaction.html#Lisp-Interaction" target="_blank" rel="noopener">Lisp Interaction</a>. You can set the variable <code>inhibit-startup-screen</code> using the Customize facility (see <a href="https://www.gnu.org/software/emacs/manual/html_node/emacs/Easy-Customization.html#Easy-Customization" target="_blank" rel="noopener">Easy Customization</a>), or by editing your initialization file (see <a href="https://www.gnu.org/software/emacs/manual/html_node/emacs/Init-File.html#Init-File" target="_blank" rel="noopener">Init File</a>).<a href="https://www.gnu.org/software/emacs/manual/html_node/emacs/Entering-Emacs.html#fn-1" target="_blank" rel="noopener">1</a></p>
<p>You can also force Emacs to display a file or directory at startup by setting the variable <code>initial-buffer-choice</code> to a string naming that file or directory. The value of <code>initial-buffer-choice</code> may also be a function (of no arguments) that should return a buffer which is then displayed. If <code>initial-buffer-choice</code> is non-<code>nil</code>, then if you specify any files on the command line, Emacs still visits them, but does not display them initially.</p>
<hr>
<h2 id="6-Exiting-Emacs"><a href="#6-Exiting-Emacs" class="headerlink" title="6 Exiting Emacs"></a>6 Exiting Emacs</h2><ul>
<li><p>C-x C-c</p>
<p>Kill Emacs (<code>save-buffers-kill-terminal</code>).  </p>
</li>
<li><p>C-z</p>
<p>On a text terminal, suspend Emacs; on a graphical display, iconify (or “minimize”) the selected frame (<code>suspend-frame</code>).</p>
</li>
</ul>
<p>Killing Emacs means terminating the Emacs program. To do this, type C-x C-c (<code>save-buffers-kill-terminal</code>). A two-character key sequence is used to make it harder to type by accident. If there are any modified file-visiting buffers when you type C-x C-c, Emacs first offers to save these buffers. If you do not save them all, it asks for confirmation again, since the unsaved changes will be lost. Emacs also asks for confirmation if any subprocesses are still running, since killing Emacs will also kill the subprocesses (see <a href="https://www.gnu.org/software/emacs/manual/html_node/emacs/Shell.html#Shell" target="_blank" rel="noopener">Shell</a>).</p>
<p>C-x C-c behaves specially if you are using Emacs as a server. If you type it from a client frame, it closes the client connection. See <a href="https://www.gnu.org/software/emacs/manual/html_node/emacs/Emacs-Server.html#Emacs-Server" target="_blank" rel="noopener">Emacs Server</a>.</p>
<p>Emacs can, optionally, record certain session information when you kill it, such as the files you were visiting at the time. This information is then available the next time you start Emacs. See <a href="https://www.gnu.org/software/emacs/manual/html_node/emacs/Saving-Emacs-Sessions.html#Saving-Emacs-Sessions" target="_blank" rel="noopener">Saving Emacs Sessions</a>.</p>
<p>If the value of the variable <code>confirm-kill-emacs</code> is non-<code>nil</code>, C-x C-c assumes that its value is a predicate function, and calls that function. If the result of the function call is non-<code>nil</code>, the session is killed, otherwise Emacs continues to run. One convenient function to use as the value of <code>confirm-kill-emacs</code> is the function <code>yes-or-no-p</code>. The default value of <code>confirm-kill-emacs</code> is <code>nil</code>.</p>
<p>If the value of the variable <code>confirm-kill-processes</code> is <code>nil</code>, C-x C-c does not ask for confirmation before killing subprocesses started by Emacs. The value is <code>t</code> by default.</p>
<p>To further customize what happens when Emacs is exiting, see <a href="https://www.gnu.org/software/emacs/manual/html_node/elisp/Killing-Emacs.html#Killing-Emacs" target="_blank" rel="noopener">Killing Emacs</a>.</p>
<p>To kill Emacs without being prompted about saving, type M-x kill-emacs.</p>
<p>C-z runs the command <code>suspend-frame</code>. On a graphical display, this command minimizes (or iconifies) the selected Emacs frame, hiding it in a way that lets you bring it back later (exactly how this hiding occurs depends on the window system). On a text terminal, the C-z command suspends Emacs, stopping the program temporarily and returning control to the parent process (usually a shell); in most shells, you can resume Emacs after suspending it with the shell command %emacs.</p>
<p>Text terminals usually listen for certain special characters whose meaning is to kill or suspend the program you are running. <strong>This terminal feature is turned off while you are in Emacs.</strong> The meanings of C-z and C-x C-c as keys in Emacs were inspired by the use of C-z and C-c on several operating systems as the characters for stopping or killing a program, but that is their only relationship with the operating system. You can customize these keys to run any commands of your choice (see <a href="https://www.gnu.org/software/emacs/manual/html_node/emacs/Keymaps.html#Keymaps" target="_blank" rel="noopener">Keymaps</a>).</p>
<h2 id="7-Basic-Editing-Commands"><a href="#7-Basic-Editing-Commands" class="headerlink" title="7 Basic Editing Commands"></a>7 Basic Editing Commands</h2><p>Here we explain the basics of how to enter text, make corrections, and save the text in a file. If this material is new to you, we suggest you first run the Emacs learn-by-doing tutorial, by typing C-h t (<code>help-with-tutorial</code>).</p>
<ul>
<li><a href="https://www.gnu.org/software/emacs/manual/html_node/emacs/Inserting-Text.html#Inserting-Text" target="_blank" rel="noopener">Inserting Text</a>: Inserting text by simply typing it.</li>
<li><a href="https://www.gnu.org/software/emacs/manual/html_node/emacs/Moving-Point.html#Moving-Point" target="_blank" rel="noopener">Moving Point</a>: Moving the cursor to the place where you want to change something.</li>
<li><a href="https://www.gnu.org/software/emacs/manual/html_node/emacs/Erasing.html#Erasing" target="_blank" rel="noopener">Erasing</a>: Deleting and killing text.</li>
<li><a href="https://www.gnu.org/software/emacs/manual/html_node/emacs/Basic-Undo.html#Basic-Undo" target="_blank" rel="noopener">Basic Undo</a>: Undoing recent changes in the text.</li>
<li><a href="https://www.gnu.org/software/emacs/manual/html_node/emacs/Basic-Files.html#Basic-Files" target="_blank" rel="noopener">Files</a>: Visiting, creating, and saving files.</li>
<li><a href="https://www.gnu.org/software/emacs/manual/html_node/emacs/Basic-Help.html#Basic-Help" target="_blank" rel="noopener">Help</a>: Asking what a character does.</li>
<li><a href="https://www.gnu.org/software/emacs/manual/html_node/emacs/Blank-Lines.html#Blank-Lines" target="_blank" rel="noopener">Blank Lines</a>: Making and deleting blank lines.</li>
<li><a href="https://www.gnu.org/software/emacs/manual/html_node/emacs/Continuation-Lines.html#Continuation-Lines" target="_blank" rel="noopener">Continuation Lines</a>: How Emacs displays lines too wide for the screen.</li>
<li><a href="https://www.gnu.org/software/emacs/manual/html_node/emacs/Position-Info.html#Position-Info" target="_blank" rel="noopener">Position Info</a>: What line, row, or column is point on?</li>
<li><a href="https://www.gnu.org/software/emacs/manual/html_node/emacs/Arguments.html#Arguments" target="_blank" rel="noopener">Arguments</a>: Numeric arguments for repeating a command N times.</li>
<li><a href="https://www.gnu.org/software/emacs/manual/html_node/emacs/Repeating.html#Repeating" target="_blank" rel="noopener">Repeating</a>: Repeating the previous command quickly.</li>
</ul>
<blockquote>
<p>basic editing,  重要的基本概念．<br>pointer moving, </p>
</blockquote>
<h2 id="8-The-Minibuffer"><a href="#8-The-Minibuffer" class="headerlink" title="8 The Minibuffer"></a>8 The Minibuffer</h2><p>The minibuffer is where Emacs commands read complicated arguments, such as file names, buffer names, Emacs command names, or Lisp expressions. We call it the “minibuffer” because it’s a special-purpose buffer with a small amount of screen space. You can use the usual Emacs editing commands in the minibuffer to edit the argument text.</p>
<ul>
<li><a href="https://www.gnu.org/software/emacs/manual/html_node/emacs/Basic-Minibuffer.html#Basic-Minibuffer" target="_blank" rel="noopener">Basic Minibuffer</a>: Basic usage of the minibuffer.</li>
<li><a href="https://www.gnu.org/software/emacs/manual/html_node/emacs/Minibuffer-File.html#Minibuffer-File" target="_blank" rel="noopener">Minibuffer File</a>: Entering file names with the minibuffer.</li>
<li><a href="https://www.gnu.org/software/emacs/manual/html_node/emacs/Minibuffer-Edit.html#Minibuffer-Edit" target="_blank" rel="noopener">Minibuffer Edit</a>: How to edit in the minibuffer.</li>
<li><a href="https://www.gnu.org/software/emacs/manual/html_node/emacs/Completion.html#Completion" target="_blank" rel="noopener">Completion</a>: An abbreviation facility for minibuffer input.</li>
<li><a href="https://www.gnu.org/software/emacs/manual/html_node/emacs/Minibuffer-History.html#Minibuffer-History" target="_blank" rel="noopener">Minibuffer History</a>: Reusing recent minibuffer arguments.</li>
<li><a href="https://www.gnu.org/software/emacs/manual/html_node/emacs/Repetition.html#Repetition" target="_blank" rel="noopener">Repetition</a>: Re-executing commands that used the minibuffer.</li>
<li><a href="https://www.gnu.org/software/emacs/manual/html_node/emacs/Passwords.html#Passwords" target="_blank" rel="noopener">Passwords</a>: Entering passwords in the echo area.</li>
<li><a href="https://www.gnu.org/software/emacs/manual/html_node/emacs/Yes-or-No-Prompts.html#Yes-or-No-Prompts" target="_blank" rel="noopener">Yes or No Prompts</a>: Replying yes or no in the echo area.</li>
</ul>
<h2 id="9-Running-Commands-by-Name"><a href="#9-Running-Commands-by-Name" class="headerlink" title="9 Running Commands by Name"></a>9 Running Commands by Name</h2><p>Every Emacs command has a name that you can use to run it. For convenience, many commands also have key bindings. You can run those commands by typing the keys, or run them by name. Most Emacs commands have no key bindings, so the only way to run them is by name. (See <a href="https://www.gnu.org/software/emacs/manual/html_node/emacs/Key-Bindings.html#Key-Bindings" target="_blank" rel="noopener">Key Bindings</a>, for how to set up key bindings.)</p>
<p>By convention, a command name consists of one or more words, separated by hyphens; for example, <code>auto-fill-mode</code> or <code>manual-entry</code>. Command names mostly use complete English words to make them easier to remember.</p>
<p>To run a command by name, start with M-x, type the command name, then terminate it with <ret>. M-x uses the minibuffer to read the command name. The string ‘M-x’ appears at the beginning of the minibuffer as a prompt to remind you to enter a command name to be run. <ret> exits the minibuffer and runs the command. See <a href="https://www.gnu.org/software/emacs/manual/html_node/emacs/Minibuffer.html#Minibuffer" target="_blank" rel="noopener">Minibuffer</a>, for more information on the minibuffer.</ret></ret></p>
<p>You can use completion to enter the command name. For example, to invoke the command <code>forward-char</code>, you can type</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">M-x forward-char &lt;RET&gt;</span><br></pre></td></tr></table></figure>
<p>or</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">M-x forw &lt;TAB&gt; c &lt;RET&gt;</span><br></pre></td></tr></table></figure>
<p>Note that <code>forward-char</code> is the same command that you invoke with the key C-f. The existence of a key binding does not stop you from running the command by name.</p>
<p>When M-x completes on commands, it ignores the commands that are declared obsolete; for these, you will have to type their full name. Obsolete commands are those for which newer, better alternatives exist, and which are slated for removal in some future Emacs release.</p>
<p>To cancel the M-x and not run a command, type C-g instead of entering the command name. This takes you back to command level.</p>
<p>To pass a numeric argument to the command you are invoking with M-x, specify the numeric argument before M-x. The argument value appears in the prompt while the command name is being read, and finally M-x passes the argument to that command. For example, to pass the numeric argument of 42 to the command <code>forward-char</code> you can type C-u 42 M-x forward-char <ret>.</ret></p>
<p>When the command you run with M-x has a key binding, Emacs mentions this in the echo area after running the command. For example, if you type M-x forward-word, the message says that you can run the same command by typing M-f. You can turn off these messages by setting the variable <code>suggest-key-bindings</code> to <code>nil</code>. The value of <code>suggest-key-bindings</code>can also be a number, in which case Emacs will show the binding for that many seconds before removing it from display. The default behavior is to display the binding for 2 seconds.</p>
<p>Commands that don’t have key bindings, can still be invoked after typing less than their full name at the ‘M-x’ prompt. Emacs mentions such shorthands in the echo area if they are significantly shorter than the full command name, and <code>extended-command-suggest-shorter</code> is non-<code>nil</code>. The setting of <code>suggest-key-bindings</code> affects these hints as well.</p>
<p>In this manual, when we speak of running a command by name, we often omit the <ret> that terminates the name. Thus we might say M-x auto-fill-mode rather than M-x auto-fill-mode <ret>. We mention the <ret> only for emphasis, such as when the command is followed by arguments.</ret></ret></ret></p>
<p>M-x works by running the command <code>execute-extended-command</code>, which is responsible for reading the name of another command and invoking it.</p>
<h2 id="10-Help"><a href="#10-Help" class="headerlink" title="10 Help"></a>10 Help</h2><p>Emacs provides a wide variety of help commands, all accessible through the prefix key C-h (or, equivalently, the function key <f1>). These help commands are described in the following sections. You can also type C-h C-h to view a list of help commands (<code>help-for-help</code>). You can scroll the list with <spc> and <del>, then type the help command you want. To cancel, type C-g.</del></spc></f1></p>
<p>Many help commands display their information in a special help buffer. In this buffer, you can type <spc> and <del> to scroll and type <ret> to follow hyperlinks. See <a href="https://www.gnu.org/software/emacs/manual/html_node/emacs/Help-Mode.html#Help-Mode" target="_blank" rel="noopener">Help Mode</a>.</ret></del></spc></p>
<p>If you are looking for a certain feature, but don’t know what it is called or where to look, we recommend three methods. First, try an apropos command, then try searching the manual index, then look in the FAQ and the package keywords.</p>
<ul>
<li><p>C-h a topics <ret></ret></p>
<p>This searches for commands whose names match the argument topics. The argument can be a keyword, a list of keywords, or a regular expression (see <a href="https://www.gnu.org/software/emacs/manual/html_node/emacs/Regexps.html#Regexps" target="_blank" rel="noopener">Regexps</a>). See <a href="https://www.gnu.org/software/emacs/manual/html_node/emacs/Apropos.html#Apropos" target="_blank" rel="noopener">Apropos</a>.  </p>
</li>
<li><p>C-h i d m emacs <ret> i topic <ret></ret></ret></p>
<p>This searches for topic in the indices of the Emacs Info manual, displaying the first match found. Press , to see subsequent matches. You can use a regular expression as topic.  </p>
</li>
<li><p>C-h i d m emacs <ret> s topic <ret></ret></ret></p>
<p>Similar, but searches the <em>text</em> of the manual rather than the indices.  </p>
</li>
<li><p>C-h C-f</p>
<p>This displays the Emacs FAQ, using Info.  </p>
</li>
<li><p>C-h p</p>
<p>This displays the available Emacs packages based on keywords. See <a href="https://www.gnu.org/software/emacs/manual/html_node/emacs/Package-Keywords.html#Package-Keywords" target="_blank" rel="noopener">Package Keywords</a>.</p>
</li>
</ul>
<p>C-h or <f1> mean “help” in various other contexts as well. For instance, you can type them after a prefix key to view a list of the keys that can follow the prefix key. (You can also use ? in this context. A few prefix keys don’t support C-h or ? in this way, because they define other meanings for those inputs, but they all support <f1>.)</f1></f1></p>
<ul>
<li><a href="https://www.gnu.org/software/emacs/manual/html_node/emacs/Help-Summary.html#Help-Summary" target="_blank" rel="noopener">Help Summary</a>: Brief list of all Help commands.</li>
<li><a href="https://www.gnu.org/software/emacs/manual/html_node/emacs/Key-Help.html#Key-Help" target="_blank" rel="noopener">Key Help</a>: Asking what a key does in Emacs.</li>
<li><a href="https://www.gnu.org/software/emacs/manual/html_node/emacs/Name-Help.html#Name-Help" target="_blank" rel="noopener">Name Help</a>: Asking about a command, variable or function name.</li>
<li><a href="https://www.gnu.org/software/emacs/manual/html_node/emacs/Apropos.html#Apropos" target="_blank" rel="noopener">Apropos</a>: Asking what pertains to a given topic.</li>
<li><a href="https://www.gnu.org/software/emacs/manual/html_node/emacs/Help-Mode.html#Help-Mode" target="_blank" rel="noopener">Help Mode</a>: Special features of Help mode and Help buffers.</li>
<li><a href="https://www.gnu.org/software/emacs/manual/html_node/emacs/Package-Keywords.html#Package-Keywords" target="_blank" rel="noopener">Package Keywords</a>: Finding Lisp libraries by keywords (topics).</li>
<li><a href="https://www.gnu.org/software/emacs/manual/html_node/emacs/Language-Help.html#Language-Help" target="_blank" rel="noopener">Language Help</a>: Help relating to international language support.</li>
<li><a href="https://www.gnu.org/software/emacs/manual/html_node/emacs/Misc-Help.html#Misc-Help" target="_blank" rel="noopener">Misc Help</a>: Other help commands.</li>
<li><a href="https://www.gnu.org/software/emacs/manual/html_node/emacs/Help-Files.html#Help-Files" target="_blank" rel="noopener">Help Files</a>: Commands to display auxiliary help files.</li>
<li><a href="https://www.gnu.org/software/emacs/manual/html_node/emacs/Help-Echo.html#Help-Echo" target="_blank" rel="noopener">Help Echo</a>: Help on active text and tooltips (<code></code>balloon help’’).</li>
</ul>
<h2 id="11-The-Mark-and-the-Region"><a href="#11-The-Mark-and-the-Region" class="headerlink" title="11 The Mark and the Region"></a>11 The Mark and the Region</h2><p>Many Emacs commands operate on an arbitrary contiguous part of the current buffer. To specify the text for such a command to operate on, you set the mark at one end of it, and move point to the other end. The text between point and the mark is called the region. The region always extends between point and the mark, no matter which one comes earlier in the text; each time you move point, the region changes.</p>
<p>Setting the mark at a position in the text also activates it. When the mark is active, we say also that the region is active; Emacs indicates its extent by highlighting the text within it, using the <code>region</code> face (see <a href="https://www.gnu.org/software/emacs/manual/html_node/emacs/Face-Customization.html#Face-Customization" target="_blank" rel="noopener">Face Customization</a>).</p>
<p>After certain non-motion commands, including any command that changes the text in the buffer, Emacs automatically deactivates the mark; this turns off the highlighting. You can also explicitly deactivate the mark at any time, by typing C-g (see <a href="https://www.gnu.org/software/emacs/manual/html_node/emacs/Quitting.html#Quitting" target="_blank" rel="noopener">Quitting</a>).</p>
<p>The above default behavior is known as Transient Mark mode. Disabling Transient Mark mode switches Emacs to an alternative behavior, in which the region is usually not highlighted. See <a href="https://www.gnu.org/software/emacs/manual/html_node/emacs/Disabled-Transient-Mark.html#Disabled-Transient-Mark" target="_blank" rel="noopener">Disabled Transient Mark</a>.</p>
<p>Setting the mark in one buffer has no effect on the marks in other buffers. When you return to a buffer with an active mark, the mark is at the same place as before. When multiple windows show the same buffer, they can have different values of point, and thus different regions, but they all share one common mark position. See <a href="https://www.gnu.org/software/emacs/manual/html_node/emacs/Windows.html#Windows" target="_blank" rel="noopener">Windows</a>. Ordinarily, only the selected window highlights its region; however, if the variable <code>highlight-nonselected-windows</code> is non-<code>nil</code>, each window highlights its own region.</p>
<p>There is another kind of region: the rectangular region. See <a href="https://www.gnu.org/software/emacs/manual/html_node/emacs/Rectangles.html#Rectangles" target="_blank" rel="noopener">Rectangles</a>.</p>
<ul>
<li><a href="https://www.gnu.org/software/emacs/manual/html_node/emacs/Setting-Mark.html#Setting-Mark" target="_blank" rel="noopener">Setting Mark</a>: Commands to set the mark.</li>
<li><a href="https://www.gnu.org/software/emacs/manual/html_node/emacs/Marking-Objects.html#Marking-Objects" target="_blank" rel="noopener">Marking Objects</a>: Commands to put region around textual units.</li>
<li><a href="https://www.gnu.org/software/emacs/manual/html_node/emacs/Using-Region.html#Using-Region" target="_blank" rel="noopener">Using Region</a>: Summary of ways to operate on contents of the region.</li>
<li><a href="https://www.gnu.org/software/emacs/manual/html_node/emacs/Mark-Ring.html#Mark-Ring" target="_blank" rel="noopener">Mark Ring</a>: Previous mark positions saved so you can go back there.</li>
<li><a href="https://www.gnu.org/software/emacs/manual/html_node/emacs/Global-Mark-Ring.html#Global-Mark-Ring" target="_blank" rel="noopener">Global Mark Ring</a>: Previous mark positions in various buffers.</li>
<li><a href="https://www.gnu.org/software/emacs/manual/html_node/emacs/Shift-Selection.html#Shift-Selection" target="_blank" rel="noopener">Shift Selection</a>: Using shifted cursor motion keys.</li>
<li><a href="https://www.gnu.org/software/emacs/manual/html_node/emacs/Disabled-Transient-Mark.html#Disabled-Transient-Mark" target="_blank" rel="noopener">Disabled Transient Mark</a>: Leaving regions unhighlighted by default.</li>
</ul>
<h2 id="12-Killing-and-Moving-Text"><a href="#12-Killing-and-Moving-Text" class="headerlink" title="12 Killing and Moving Text"></a>12 Killing and Moving Text</h2><p>In Emacs, killing means erasing text and copying it into the kill ring. Yanking means bringing text from the kill ring back into the buffer. (Some applications use the terms “cutting” and “pasting” for similar operations.) The kill ring is so-named because it can be visualized as a set of blocks of text arranged in a ring, which you can access in cyclic order. See <a href="https://www.gnu.org/software/emacs/manual/html_node/emacs/Kill-Ring.html#Kill-Ring" target="_blank" rel="noopener">Kill Ring</a>.</p>
<p>Killing and yanking are the most common way to move or copy text within Emacs. It is very versatile, because there are commands for killing many different types of syntactic units.</p>
<ul>
<li><a href="https://www.gnu.org/software/emacs/manual/html_node/emacs/Deletion-and-Killing.html#Deletion-and-Killing" target="_blank" rel="noopener">Deletion and Killing</a>: Commands that remove text.</li>
<li><a href="https://www.gnu.org/software/emacs/manual/html_node/emacs/Yanking.html#Yanking" target="_blank" rel="noopener">Yanking</a>: Commands that insert text.</li>
<li><a href="https://www.gnu.org/software/emacs/manual/html_node/emacs/Cut-and-Paste.html#Cut-and-Paste" target="_blank" rel="noopener">Cut and Paste</a>: Clipboard and selections on graphical displays.</li>
<li><a href="https://www.gnu.org/software/emacs/manual/html_node/emacs/Accumulating-Text.html#Accumulating-Text" target="_blank" rel="noopener">Accumulating Text</a>: Other methods to add text to the buffer.</li>
<li><a href="https://www.gnu.org/software/emacs/manual/html_node/emacs/Rectangles.html#Rectangles" target="_blank" rel="noopener">Rectangles</a>: Operating on text in rectangular areas.</li>
<li><a href="https://www.gnu.org/software/emacs/manual/html_node/emacs/CUA-Bindings.html#CUA-Bindings" target="_blank" rel="noopener">CUA Bindings</a>: Using C-x/C-c/C-v to kill and yank.</li>
</ul>
<h2 id="13-Registers"><a href="#13-Registers" class="headerlink" title="13 Registers"></a>13 Registers</h2><p>Emacs registers are compartments where you can save text, rectangles, positions, and other things for later use. Once you save text or a rectangle in a register, you can copy it into the buffer once or many times; once you save a position in a register, you can jump back to that position once or many times.</p>
<p>Each register has a name that consists of a single character, which we will denote by r; r can be a letter (such as ‘a’) or a number (such as ‘1’); case matters, so register ‘a’ is not the same as register ‘A’. You can also set a register in non-alphanumeric characters, for instance ‘*’ or ‘C-d’. Note, it’s not possible to set a register in ‘C-g’ or ‘ESC’, because these keys are reserved for quitting (see <a href="https://www.gnu.org/software/emacs/manual/html_node/emacs/Quitting.html#Quitting" target="_blank" rel="noopener">Quitting</a>).</p>
<p>A register can store a position, a piece of text, a rectangle, a number, a window configuration, or a file name, but only one thing at any given time. Whatever you store in a register remains there until you store something else in that register. To see what register r contains, use M-x view-register:</p>
<ul>
<li><p>M-x view-register <ret> r</ret></p>
<p>Display a description of what register r contains.</p>
</li>
</ul>
<p>All of the commands that prompt for a register will display a preview window that lists the existing registers (if there are any) after a short delay. To change the length of the delay, customize <code>register-preview-delay</code>. To prevent this display, set that option to <code>nil</code>. You can explicitly request a preview window by pressing C-h or <f1>.</f1></p>
<p>Bookmarks record files and positions in them, so you can return to those positions when you look at the file again. Bookmarks are similar in spirit to registers, so they are also documented in this chapter.</p>
<ul>
<li><a href="https://www.gnu.org/software/emacs/manual/html_node/emacs/Position-Registers.html#Position-Registers" target="_blank" rel="noopener">Position Registers</a>: Saving positions in registers.</li>
<li><a href="https://www.gnu.org/software/emacs/manual/html_node/emacs/Text-Registers.html#Text-Registers" target="_blank" rel="noopener">Text Registers</a>: Saving text in registers.</li>
<li><a href="https://www.gnu.org/software/emacs/manual/html_node/emacs/Rectangle-Registers.html#Rectangle-Registers" target="_blank" rel="noopener">Rectangle Registers</a>: Saving rectangles in registers.</li>
<li><a href="https://www.gnu.org/software/emacs/manual/html_node/emacs/Configuration-Registers.html#Configuration-Registers" target="_blank" rel="noopener">Configuration Registers</a>: Saving window configurations in registers.</li>
<li><a href="https://www.gnu.org/software/emacs/manual/html_node/emacs/Number-Registers.html#Number-Registers" target="_blank" rel="noopener">Number Registers</a>: Numbers in registers.</li>
<li><a href="https://www.gnu.org/software/emacs/manual/html_node/emacs/File-Registers.html#File-Registers" target="_blank" rel="noopener">File Registers</a>: File names in registers.</li>
<li><a href="https://www.gnu.org/software/emacs/manual/html_node/emacs/Keyboard-Macro-Registers.html#Keyboard-Macro-Registers" target="_blank" rel="noopener">Keyboard Macro Registers</a>: Keyboard macros in registers.</li>
<li><a href="https://www.gnu.org/software/emacs/manual/html_node/emacs/Bookmarks.html#Bookmarks" target="_blank" rel="noopener">Bookmarks</a>: Bookmarks are like registers, but persistent.</li>
</ul>
<h2 id="14-Controlling-the-Display"><a href="#14-Controlling-the-Display" class="headerlink" title="14 Controlling the Display"></a>14 Controlling the Display</h2><p>Since only part of a large buffer fits in the window, Emacs has to show only a part of it. This chapter describes commands and variables that let you specify which part of the text you want to see, and how the text is displayed.</p>
<ul>
<li><a href="https://www.gnu.org/software/emacs/manual/html_node/emacs/Scrolling.html#Scrolling" target="_blank" rel="noopener">Scrolling</a>: Commands to move text up and down in a window.</li>
<li><a href="https://www.gnu.org/software/emacs/manual/html_node/emacs/Recentering.html#Recentering" target="_blank" rel="noopener">Recentering</a>: A scroll command that centers the current line.</li>
<li><a href="https://www.gnu.org/software/emacs/manual/html_node/emacs/Auto-Scrolling.html#Auto-Scrolling" target="_blank" rel="noopener">Auto Scrolling</a>: Redisplay scrolls text automatically when needed.</li>
<li><a href="https://www.gnu.org/software/emacs/manual/html_node/emacs/Horizontal-Scrolling.html#Horizontal-Scrolling" target="_blank" rel="noopener">Horizontal Scrolling</a>: Moving text left and right in a window.</li>
<li><a href="https://www.gnu.org/software/emacs/manual/html_node/emacs/Narrowing.html#Narrowing" target="_blank" rel="noopener">Narrowing</a>: Restricting display and editing to a portion of the buffer.</li>
<li><a href="https://www.gnu.org/software/emacs/manual/html_node/emacs/View-Mode.html#View-Mode" target="_blank" rel="noopener">View Mode</a>: Viewing read-only buffers.</li>
<li><a href="https://www.gnu.org/software/emacs/manual/html_node/emacs/Follow-Mode.html#Follow-Mode" target="_blank" rel="noopener">Follow Mode</a>: Follow mode lets two windows scroll as one.</li>
<li><a href="https://www.gnu.org/software/emacs/manual/html_node/emacs/Faces.html#Faces" target="_blank" rel="noopener">Faces</a>: How to change the display style using faces.</li>
<li><a href="https://www.gnu.org/software/emacs/manual/html_node/emacs/Colors.html#Colors" target="_blank" rel="noopener">Colors</a>: Specifying colors for faces.</li>
<li><a href="https://www.gnu.org/software/emacs/manual/html_node/emacs/Standard-Faces.html#Standard-Faces" target="_blank" rel="noopener">Standard Faces</a>: The main predefined faces.</li>
<li><a href="https://www.gnu.org/software/emacs/manual/html_node/emacs/Text-Scale.html#Text-Scale" target="_blank" rel="noopener">Text Scale</a>: Increasing or decreasing text size in a buffer.</li>
<li><a href="https://www.gnu.org/software/emacs/manual/html_node/emacs/Font-Lock.html#Font-Lock" target="_blank" rel="noopener">Font Lock</a>: Minor mode for syntactic highlighting using faces.</li>
<li><a href="https://www.gnu.org/software/emacs/manual/html_node/emacs/Highlight-Interactively.html#Highlight-Interactively" target="_blank" rel="noopener">Highlight Interactively</a>: Tell Emacs what text to highlight.</li>
<li><a href="https://www.gnu.org/software/emacs/manual/html_node/emacs/Fringes.html#Fringes" target="_blank" rel="noopener">Fringes</a>: Enabling or disabling window fringes.</li>
<li><a href="https://www.gnu.org/software/emacs/manual/html_node/emacs/Displaying-Boundaries.html#Displaying-Boundaries" target="_blank" rel="noopener">Displaying Boundaries</a>: Displaying top and bottom of the buffer.</li>
<li><a href="https://www.gnu.org/software/emacs/manual/html_node/emacs/Useless-Whitespace.html#Useless-Whitespace" target="_blank" rel="noopener">Useless Whitespace</a>: Showing possibly spurious trailing whitespace.</li>
<li><a href="https://www.gnu.org/software/emacs/manual/html_node/emacs/Selective-Display.html#Selective-Display" target="_blank" rel="noopener">Selective Display</a>: Hiding lines with lots of indentation.</li>
<li><a href="https://www.gnu.org/software/emacs/manual/html_node/emacs/Optional-Mode-Line.html#Optional-Mode-Line" target="_blank" rel="noopener">Optional Mode Line</a>: Optional mode line display features.</li>
<li><a href="https://www.gnu.org/software/emacs/manual/html_node/emacs/Text-Display.html#Text-Display" target="_blank" rel="noopener">Text Display</a>: How text characters are normally displayed.</li>
<li><a href="https://www.gnu.org/software/emacs/manual/html_node/emacs/Cursor-Display.html#Cursor-Display" target="_blank" rel="noopener">Cursor Display</a>: Features for displaying the cursor.</li>
<li><a href="https://www.gnu.org/software/emacs/manual/html_node/emacs/Line-Truncation.html#Line-Truncation" target="_blank" rel="noopener">Line Truncation</a>: Truncating lines to fit the screen width instead of continuing them to multiple screen lines.</li>
<li><a href="https://www.gnu.org/software/emacs/manual/html_node/emacs/Visual-Line-Mode.html#Visual-Line-Mode" target="_blank" rel="noopener">Visual Line Mode</a>: Word wrap and screen line-based editing.</li>
<li><a href="https://www.gnu.org/software/emacs/manual/html_node/emacs/Display-Custom.html#Display-Custom" target="_blank" rel="noopener">Display Custom</a>: Information on variables for customizing display.</li>
</ul>
<h2 id="15-Searching-and-Replacement"><a href="#15-Searching-and-Replacement" class="headerlink" title="15 Searching and Replacement"></a>15 Searching and Replacement</h2><blockquote>
<p>需要关注的部分.</p>
</blockquote>
<p>Like other editors, Emacs has commands to search for occurrences of a string. Emacs also has commands to replace occurrences of a string with a different string. There are also commands that do the same thing, but search for patterns instead of fixed strings.</p>
<p>You can also search multiple files under the control of <code>xref</code> (see <a href="https://www.gnu.org/software/emacs/manual/html_node/emacs/Identifier-Search.html#Identifier-Search" target="_blank" rel="noopener">Identifier Search</a>) or through the Dired A command (see <a href="https://www.gnu.org/software/emacs/manual/html_node/emacs/Operating-on-Files.html#Operating-on-Files" target="_blank" rel="noopener">Operating on Files</a>), or ask the <code>grep</code> program to do it (see <a href="https://www.gnu.org/software/emacs/manual/html_node/emacs/Grep-Searching.html#Grep-Searching" target="_blank" rel="noopener">Grep Searching</a>).</p>
<ul>
<li><a href="https://www.gnu.org/software/emacs/manual/html_node/emacs/Incremental-Search.html#Incremental-Search" target="_blank" rel="noopener">Incremental Search</a>: Search happens as you type the string.</li>
<li><a href="https://www.gnu.org/software/emacs/manual/html_node/emacs/Nonincremental-Search.html#Nonincremental-Search" target="_blank" rel="noopener">Nonincremental Search</a>: Specify entire string and then search.</li>
<li><a href="https://www.gnu.org/software/emacs/manual/html_node/emacs/Word-Search.html#Word-Search" target="_blank" rel="noopener">Word Search</a>: Search for sequence of words.</li>
<li><a href="https://www.gnu.org/software/emacs/manual/html_node/emacs/Symbol-Search.html#Symbol-Search" target="_blank" rel="noopener">Symbol Search</a>: Search for a source code symbol.</li>
<li><a href="https://www.gnu.org/software/emacs/manual/html_node/emacs/Regexp-Search.html#Regexp-Search" target="_blank" rel="noopener">Regexp Search</a>: Search for match for a regexp.</li>
<li><a href="https://www.gnu.org/software/emacs/manual/html_node/emacs/Regexps.html#Regexps" target="_blank" rel="noopener">Regexps</a>: Syntax of regular expressions.</li>
<li><a href="https://www.gnu.org/software/emacs/manual/html_node/emacs/Regexp-Backslash.html#Regexp-Backslash" target="_blank" rel="noopener">Regexp Backslash</a>: Regular expression constructs starting with `\’.</li>
<li><a href="https://www.gnu.org/software/emacs/manual/html_node/emacs/Regexp-Example.html#Regexp-Example" target="_blank" rel="noopener">Regexp Example</a>: A complex regular expression explained.</li>
<li><a href="https://www.gnu.org/software/emacs/manual/html_node/emacs/Lax-Search.html#Lax-Search" target="_blank" rel="noopener">Lax Search</a>: Search ignores some distinctions among similar characters, like letter-case.</li>
<li><a href="https://www.gnu.org/software/emacs/manual/html_node/emacs/Replace.html#Replace" target="_blank" rel="noopener">Replace</a>: Search, and replace some or all matches.</li>
<li><a href="https://www.gnu.org/software/emacs/manual/html_node/emacs/Other-Repeating-Search.html#Other-Repeating-Search" target="_blank" rel="noopener">Other Repeating Search</a>: Operating on all matches for some regexp.</li>
<li><a href="https://www.gnu.org/software/emacs/manual/html_node/emacs/Search-Customizations.html#Search-Customizations" target="_blank" rel="noopener">Search Customizations</a>: Various search customizations.</li>
</ul>
<h2 id="16-Commands-for-Fixing-Typos"><a href="#16-Commands-for-Fixing-Typos" class="headerlink" title="16 Commands for Fixing Typos"></a>16 Commands for Fixing Typos</h2><p>In this chapter we describe commands that are useful when you catch a mistake while editing. The most fundamental of these commands is the undo command C-/ (also bound to C-x u and C-_). This undoes a single command, or a part of a command (as in the case of <code>query-replace</code>), or several consecutive character insertions. Consecutive repetitions of C-/ undo earlier and earlier changes, back to the limit of the undo information available.</p>
<p>Aside from the commands described here, you can erase text using deletion commands such as <del> (<code>delete-backward-char</code>). These were described earlier in this manual. See <a href="https://www.gnu.org/software/emacs/manual/html_node/emacs/Erasing.html#Erasing" target="_blank" rel="noopener">Erasing</a>.</del></p>
<ul>
<li><a href="https://www.gnu.org/software/emacs/manual/html_node/emacs/Undo.html#Undo" target="_blank" rel="noopener">Undo</a>: The Undo commands.</li>
<li><a href="https://www.gnu.org/software/emacs/manual/html_node/emacs/Transpose.html#Transpose" target="_blank" rel="noopener">Transpose</a>: Exchanging two characters, words, lines, lists…</li>
<li><a href="https://www.gnu.org/software/emacs/manual/html_node/emacs/Fixing-Case.html#Fixing-Case" target="_blank" rel="noopener">Fixing Case</a>: Correcting case of last word entered.</li>
<li><a href="https://www.gnu.org/software/emacs/manual/html_node/emacs/Spelling.html#Spelling" target="_blank" rel="noopener">Spelling</a>: Apply spelling checker to a word, or a whole file.</li>
</ul>
<h2 id="17-Keyboard-Macros"><a href="#17-Keyboard-Macros" class="headerlink" title="17 Keyboard Macros"></a>17 Keyboard Macros</h2><blockquote>
<p>device的部分. </p>
</blockquote>
<p>In this chapter we describe how to record a sequence of editing commands so you can repeat it conveniently later.</p>
<p>A keyboard macro is a command defined by an Emacs user to stand for another sequence of keys. For example, if you discover that you are about to type C-n M-d C-d forty times, you can speed your work by defining a keyboard macro to do C-n M-d C-d, and then executing it 39 more times.</p>
<p>You define a keyboard macro by executing and recording the commands which are its definition. Put differently, as you define a keyboard macro, the definition is being executed for the first time. This way, you can see the effects of your commands, so that you don’t have to figure them out in your head. When you close the definition, the keyboard macro is defined and also has been, in effect, executed once. You can then do the whole thing over again by invoking the macro.</p>
<p>Keyboard macros differ from ordinary Emacs commands in that they are written in the Emacs command language rather than in Lisp. This makes it easier for the novice to write them, and makes them more convenient as temporary hacks. However, the Emacs command language is not powerful enough as a programming language to be useful for writing anything intelligent or general. For such things, Lisp must be used.</p>
<ul>
<li><a href="https://www.gnu.org/software/emacs/manual/html_node/emacs/Basic-Keyboard-Macro.html#Basic-Keyboard-Macro" target="_blank" rel="noopener">Basic Keyboard Macro</a>: Defining and running keyboard macros.</li>
<li><a href="https://www.gnu.org/software/emacs/manual/html_node/emacs/Keyboard-Macro-Ring.html#Keyboard-Macro-Ring" target="_blank" rel="noopener">Keyboard Macro Ring</a>: Where previous keyboard macros are saved.</li>
<li><a href="https://www.gnu.org/software/emacs/manual/html_node/emacs/Keyboard-Macro-Counter.html#Keyboard-Macro-Counter" target="_blank" rel="noopener">Keyboard Macro Counter</a>: Inserting incrementing numbers in macros.</li>
<li><a href="https://www.gnu.org/software/emacs/manual/html_node/emacs/Keyboard-Macro-Query.html#Keyboard-Macro-Query" target="_blank" rel="noopener">Keyboard Macro Query</a>: Making keyboard macros do different things each time.</li>
<li><a href="https://www.gnu.org/software/emacs/manual/html_node/emacs/Save-Keyboard-Macro.html#Save-Keyboard-Macro" target="_blank" rel="noopener">Save Keyboard Macro</a>: Giving keyboard macros names; saving them in files.</li>
<li><a href="https://www.gnu.org/software/emacs/manual/html_node/emacs/Edit-Keyboard-Macro.html#Edit-Keyboard-Macro" target="_blank" rel="noopener">Edit Keyboard Macro</a>: Editing keyboard macros.</li>
<li><a href="https://www.gnu.org/software/emacs/manual/html_node/emacs/Keyboard-Macro-Step_002dEdit.html#Keyboard-Macro-Step_002dEdit" target="_blank" rel="noopener">Keyboard Macro Step-Edit</a>: Interactively executing and editing a keyboard macro.</li>
</ul>
<h2 id="18-File-Handling"><a href="#18-File-Handling" class="headerlink" title="18 File Handling"></a>18 File Handling</h2><p>The operating system stores data permanently in named files, so most of the text you edit with Emacs comes from a file and is ultimately stored in a file.</p>
<p>To edit a file, you must tell Emacs to read the file and prepare a buffer containing a copy of the file’s text. This is called visiting the file. Editing commands apply directly to text in the buffer; that is, to the copy inside Emacs. Your changes appear in the file itself only when you save the buffer back into the file.</p>
<p>In addition to visiting and saving files, Emacs can delete, copy, rename, and append to files, keep multiple versions of them, and operate on file directories.</p>
<ul>
<li><a href="https://www.gnu.org/software/emacs/manual/html_node/emacs/File-Names.html#File-Names" target="_blank" rel="noopener">File Names</a>: How to type and edit file-name arguments.</li>
<li><a href="https://www.gnu.org/software/emacs/manual/html_node/emacs/Visiting.html#Visiting" target="_blank" rel="noopener">Visiting</a>: Visiting a file prepares Emacs to edit the file.</li>
<li><a href="https://www.gnu.org/software/emacs/manual/html_node/emacs/Saving.html#Saving" target="_blank" rel="noopener">Saving</a>: Saving makes your changes permanent.</li>
<li><a href="https://www.gnu.org/software/emacs/manual/html_node/emacs/Reverting.html#Reverting" target="_blank" rel="noopener">Reverting</a>: Reverting cancels all the changes not saved.</li>
<li><a href="https://www.gnu.org/software/emacs/manual/html_node/emacs/Autorevert.html#Autorevert" target="_blank" rel="noopener">Autorevert</a>: Auto Reverting non-file buffers.</li>
<li><a href="https://www.gnu.org/software/emacs/manual/html_node/emacs/Auto-Save.html#Auto-Save" target="_blank" rel="noopener">Auto Save</a>: Auto Save periodically protects against loss of data.</li>
<li><a href="https://www.gnu.org/software/emacs/manual/html_node/emacs/File-Aliases.html#File-Aliases" target="_blank" rel="noopener">File Aliases</a>: Handling multiple names for one file.</li>
<li><a href="https://www.gnu.org/software/emacs/manual/html_node/emacs/Directories.html#Directories" target="_blank" rel="noopener">Directories</a>: Creating, deleting, and listing file directories.</li>
<li><a href="https://www.gnu.org/software/emacs/manual/html_node/emacs/Comparing-Files.html#Comparing-Files" target="_blank" rel="noopener">Comparing Files</a>: Finding where two files differ.</li>
<li><a href="https://www.gnu.org/software/emacs/manual/html_node/emacs/Diff-Mode.html#Diff-Mode" target="_blank" rel="noopener">Diff Mode</a>: Mode for editing file differences.</li>
<li><a href="https://www.gnu.org/software/emacs/manual/html_node/emacs/Copying-and-Naming.html#Copying-and-Naming" target="_blank" rel="noopener">Copying and Naming</a>: Copying, naming and renaming files.</li>
<li><a href="https://www.gnu.org/software/emacs/manual/html_node/emacs/Misc-File-Ops.html#Misc-File-Ops" target="_blank" rel="noopener">Misc File Ops</a>: Other things you can do on files.</li>
<li><a href="https://www.gnu.org/software/emacs/manual/html_node/emacs/Compressed-Files.html#Compressed-Files" target="_blank" rel="noopener">Compressed Files</a>: Accessing compressed files.</li>
<li><a href="https://www.gnu.org/software/emacs/manual/html_node/emacs/File-Archives.html#File-Archives" target="_blank" rel="noopener">File Archives</a>: Operating on tar, zip, jar etc. archive files.</li>
<li><a href="https://www.gnu.org/software/emacs/manual/html_node/emacs/Remote-Files.html#Remote-Files" target="_blank" rel="noopener">Remote Files</a>: Accessing files on other machines.</li>
<li><a href="https://www.gnu.org/software/emacs/manual/html_node/emacs/Quoted-File-Names.html#Quoted-File-Names" target="_blank" rel="noopener">Quoted File Names</a>: Quoting special characters in file names.</li>
<li><a href="https://www.gnu.org/software/emacs/manual/html_node/emacs/File-Name-Cache.html#File-Name-Cache" target="_blank" rel="noopener">File Name Cache</a>: Completion against a list of files you often use.</li>
<li><a href="https://www.gnu.org/software/emacs/manual/html_node/emacs/File-Conveniences.html#File-Conveniences" target="_blank" rel="noopener">File Conveniences</a>: Convenience Features for Finding Files.</li>
<li><a href="https://www.gnu.org/software/emacs/manual/html_node/emacs/Filesets.html#Filesets" target="_blank" rel="noopener">Filesets</a>: Handling sets of files.</li>
</ul>
<h2 id="19-Using-Multiple-Buffers"><a href="#19-Using-Multiple-Buffers" class="headerlink" title="19 Using Multiple Buffers"></a>19 Using Multiple Buffers</h2><p>The text you are editing in Emacs resides in an object called a buffer. Each time you visit a file, a buffer is used to hold the file’s text. Each time you invoke Dired, a buffer is used to hold the directory listing. If you send a message with C-x m, a buffer is used to hold the text of the message. When you ask for a command’s documentation, that appears in a buffer named <em>Help</em>.</p>
<p>Each buffer has a unique name, which can be of any length. When a buffer is displayed in a window, its name is shown in the mode line (see <a href="https://www.gnu.org/software/emacs/manual/html_node/emacs/Mode-Line.html#Mode-Line" target="_blank" rel="noopener">Mode Line</a>). The distinction between upper and lower case matters in buffer names. Most buffers are made by visiting files, and their names are derived from the files’ names; however, you can also create an empty buffer with any name you want. A newly started Emacs has several buffers, including one named <em>scratch</em>, which can be used for evaluating Lisp expressions and is not associated with any file (see <a href="https://www.gnu.org/software/emacs/manual/html_node/emacs/Lisp-Interaction.html#Lisp-Interaction" target="_blank" rel="noopener">Lisp Interaction</a>).</p>
<p>At any time, one and only one buffer is selected; we call it the current buffer. We sometimes say that a command operates on “the buffer”; this really means that it operates on the current buffer. When there is only one Emacs window, the buffer displayed in that window is current. When there are multiple windows, the buffer displayed in the selected window is current. See <a href="https://www.gnu.org/software/emacs/manual/html_node/emacs/Windows.html#Windows" target="_blank" rel="noopener">Windows</a>.</p>
<p>A buffer’s contents consist of a series of characters, each of which optionally carries a set of text properties (see <a href="https://www.gnu.org/software/emacs/manual/html_node/emacs/International-Chars.html#International-Chars" target="_blank" rel="noopener">Text properties</a>) that can specify more information about that character.</p>
<p>Aside from its textual contents, each buffer records several pieces of information, such as what file it is visiting (if any), whether it is modified, and what major mode and minor modes are in effect (see <a href="https://www.gnu.org/software/emacs/manual/html_node/emacs/Modes.html#Modes" target="_blank" rel="noopener">Modes</a>). These are stored in buffer-local variables—variables that can have a different value in each buffer. See <a href="https://www.gnu.org/software/emacs/manual/html_node/emacs/Locals.html#Locals" target="_blank" rel="noopener">Locals</a>.</p>
<p>A buffer’s size cannot be larger than some maximum, which is defined by the largest buffer position representable by Emacs integers. This is because Emacs tracks buffer positions using that data type. For typical 64-bit machines, this maximum buffer size is 2^61 - 2 bytes, or about 2 EiB. For typical 32-bit machines, the maximum is usually 2^29 - 2 bytes, or about 512 MiB. Buffer sizes are also limited by the amount of memory in the system.</p>
<ul>
<li><a href="https://www.gnu.org/software/emacs/manual/html_node/emacs/Select-Buffer.html#Select-Buffer" target="_blank" rel="noopener">Select Buffer</a>: Creating a new buffer or reselecting an old one.</li>
<li><a href="https://www.gnu.org/software/emacs/manual/html_node/emacs/List-Buffers.html#List-Buffers" target="_blank" rel="noopener">List Buffers</a>: Getting a list of buffers that exist.</li>
<li><a href="https://www.gnu.org/software/emacs/manual/html_node/emacs/Misc-Buffer.html#Misc-Buffer" target="_blank" rel="noopener">Misc Buffer</a>: Renaming; changing read-only status; copying text.</li>
<li><a href="https://www.gnu.org/software/emacs/manual/html_node/emacs/Kill-Buffer.html#Kill-Buffer" target="_blank" rel="noopener">Kill Buffer</a>: Killing buffers you no longer need.</li>
<li><a href="https://www.gnu.org/software/emacs/manual/html_node/emacs/Several-Buffers.html#Several-Buffers" target="_blank" rel="noopener">Several Buffers</a>: How to go through the list of all buffers and operate variously on several of them.</li>
<li><a href="https://www.gnu.org/software/emacs/manual/html_node/emacs/Indirect-Buffers.html#Indirect-Buffers" target="_blank" rel="noopener">Indirect Buffers</a>: An indirect buffer shares the text of another buffer.</li>
<li><a href="https://www.gnu.org/software/emacs/manual/html_node/emacs/Buffer-Convenience.html#Buffer-Convenience" target="_blank" rel="noopener">Buffer Convenience</a>: Convenience and customization features for buffer handling.</li>
</ul>
<h2 id="20-Multiple-Windows"><a href="#20-Multiple-Windows" class="headerlink" title="20 Multiple Windows"></a>20 Multiple Windows</h2><p>Emacs can split a frame into two or many windows. Multiple windows can display parts of different buffers, or different parts of one buffer. Multiple frames always imply multiple windows, because each frame has its own set of windows. Each window belongs to one and only one frame.</p>
<ul>
<li><a href="https://www.gnu.org/software/emacs/manual/html_node/emacs/Basic-Window.html#Basic-Window" target="_blank" rel="noopener">Basic Window</a>: Introduction to Emacs windows.</li>
<li><a href="https://www.gnu.org/software/emacs/manual/html_node/emacs/Split-Window.html#Split-Window" target="_blank" rel="noopener">Split Window</a>: New windows are made by splitting existing windows.</li>
<li><a href="https://www.gnu.org/software/emacs/manual/html_node/emacs/Other-Window.html#Other-Window" target="_blank" rel="noopener">Other Window</a>: Moving to another window or doing something to it.</li>
<li><a href="https://www.gnu.org/software/emacs/manual/html_node/emacs/Pop-Up-Window.html#Pop-Up-Window" target="_blank" rel="noopener">Pop Up Window</a>: Finding a file or buffer in another window.</li>
<li><a href="https://www.gnu.org/software/emacs/manual/html_node/emacs/Change-Window.html#Change-Window" target="_blank" rel="noopener">Change Window</a>: Deleting windows and changing their sizes.</li>
<li><a href="https://www.gnu.org/software/emacs/manual/html_node/emacs/Displaying-Buffers.html#Displaying-Buffers" target="_blank" rel="noopener">Displaying Buffers</a>: How Emacs picks a window for displaying a buffer.</li>
<li><a href="https://www.gnu.org/software/emacs/manual/html_node/emacs/Window-Convenience.html#Window-Convenience" target="_blank" rel="noopener">Window Convenience</a>: Convenience functions for window handling.</li>
</ul>
<h2 id="21-Frames-and-Graphical-Displays"><a href="#21-Frames-and-Graphical-Displays" class="headerlink" title="21 Frames and Graphical Displays"></a>21 Frames and Graphical Displays</h2><p>When Emacs is started on a graphical display, e.g., on the X Window System, it occupies a graphical system-level display region. In this manual, we call this a frame, reserving the word “window” for the part of the frame used for displaying a buffer. A frame initially contains one window, but it can be subdivided into multiple windows (see <a href="https://www.gnu.org/software/emacs/manual/html_node/emacs/Windows.html#Windows" target="_blank" rel="noopener">Windows</a>). A frame normally also contains a menu bar, tool bar, and echo area.</p>
<p>You can also create additional frames (see <a href="https://www.gnu.org/software/emacs/manual/html_node/emacs/Creating-Frames.html#Creating-Frames" target="_blank" rel="noopener">Creating Frames</a>). All frames created in the same Emacs session have access to the same underlying buffers and other data. For instance, if a buffer is being shown in more than one frame, any changes made to it in one frame show up immediately in the other frames too.</p>
<p>Typing C-x C-c closes all the frames on the current display, and ends the Emacs session if it has no frames open on any other displays (see <a href="https://www.gnu.org/software/emacs/manual/html_node/emacs/Exiting.html#Exiting" target="_blank" rel="noopener">Exiting</a>). To close just the selected frame, type C-x 5 0 (that is zero, not o).</p>
<p>This chapter describes Emacs features specific to graphical displays (particularly mouse commands), and features for managing multiple frames. On text terminals, many of these features are unavailable. However, it is still possible to create multiple frames on text terminals; such frames are displayed one at a time, filling the entire terminal screen (see <a href="https://www.gnu.org/software/emacs/manual/html_node/emacs/Non_002dWindow-Terminals.html#Non_002dWindow-Terminals" target="_blank" rel="noopener">Non-Window Terminals</a>). It is also possible to use the mouse on some text terminals (see <a href="https://www.gnu.org/software/emacs/manual/html_node/emacs/Text_002dOnly-Mouse.html#Text_002dOnly-Mouse" target="_blank" rel="noopener">Text-Only Mouse</a>, for doing so on GNU and Unix systems; and see <a href="https://www.gnu.org/software/emacs/manual/html_node/emacs/MS_002dDOS-Mouse.html#MS_002dDOS-Mouse" target="_blank" rel="noopener">MS-DOS Mouse</a>, for doing so on MS-DOS). Menus are supported on all text terminals.</p>
<ul>
<li><a href="https://www.gnu.org/software/emacs/manual/html_node/emacs/Mouse-Commands.html#Mouse-Commands" target="_blank" rel="noopener">Mouse Commands</a>: Moving, cutting, and pasting, with the mouse.</li>
<li><a href="https://www.gnu.org/software/emacs/manual/html_node/emacs/Word-and-Line-Mouse.html#Word-and-Line-Mouse" target="_blank" rel="noopener">Word and Line Mouse</a>: Mouse commands for selecting whole words or lines.</li>
<li><a href="https://www.gnu.org/software/emacs/manual/html_node/emacs/Mouse-References.html#Mouse-References" target="_blank" rel="noopener">Mouse References</a>: Using the mouse to select an item from a list.</li>
<li><a href="https://www.gnu.org/software/emacs/manual/html_node/emacs/Menu-Mouse-Clicks.html#Menu-Mouse-Clicks" target="_blank" rel="noopener">Menu Mouse Clicks</a>: Mouse clicks that bring up menus.</li>
<li><a href="https://www.gnu.org/software/emacs/manual/html_node/emacs/Mode-Line-Mouse.html#Mode-Line-Mouse" target="_blank" rel="noopener">Mode Line Mouse</a>: Mouse clicks on the mode line.</li>
<li><a href="https://www.gnu.org/software/emacs/manual/html_node/emacs/Creating-Frames.html#Creating-Frames" target="_blank" rel="noopener">Creating Frames</a>: Creating additional Emacs frames with various contents.</li>
<li><a href="https://www.gnu.org/software/emacs/manual/html_node/emacs/Frame-Commands.html#Frame-Commands" target="_blank" rel="noopener">Frame Commands</a>: Iconifying, deleting, and switching frames.</li>
<li><a href="https://www.gnu.org/software/emacs/manual/html_node/emacs/Fonts.html#Fonts" target="_blank" rel="noopener">Fonts</a>: Changing the frame font.</li>
<li><a href="https://www.gnu.org/software/emacs/manual/html_node/emacs/Speedbar.html#Speedbar" target="_blank" rel="noopener">Speedbar</a>: How to make and use a speedbar frame.</li>
<li><a href="https://www.gnu.org/software/emacs/manual/html_node/emacs/Multiple-Displays.html#Multiple-Displays" target="_blank" rel="noopener">Multiple Displays</a>: How one Emacs instance can talk to several displays.</li>
<li><a href="https://www.gnu.org/software/emacs/manual/html_node/emacs/Frame-Parameters.html#Frame-Parameters" target="_blank" rel="noopener">Frame Parameters</a>: Changing the colors and other modes of frames.</li>
<li><a href="https://www.gnu.org/software/emacs/manual/html_node/emacs/Scroll-Bars.html#Scroll-Bars" target="_blank" rel="noopener">Scroll Bars</a>: How to enable and disable scroll bars; how to use them.</li>
<li><a href="https://www.gnu.org/software/emacs/manual/html_node/emacs/Window-Dividers.html#Window-Dividers" target="_blank" rel="noopener">Window Dividers</a>: Window separators that can be dragged with the mouse.</li>
<li><a href="https://www.gnu.org/software/emacs/manual/html_node/emacs/Drag-and-Drop.html#Drag-and-Drop" target="_blank" rel="noopener">Drag and Drop</a>: Using drag and drop to open files and insert text.</li>
<li><a href="https://www.gnu.org/software/emacs/manual/html_node/emacs/Menu-Bars.html#Menu-Bars" target="_blank" rel="noopener">Menu Bars</a>: Enabling and disabling the menu bar.</li>
<li><a href="https://www.gnu.org/software/emacs/manual/html_node/emacs/Tool-Bars.html#Tool-Bars" target="_blank" rel="noopener">Tool Bars</a>: Enabling and disabling the tool bar.</li>
<li><a href="https://www.gnu.org/software/emacs/manual/html_node/emacs/Dialog-Boxes.html#Dialog-Boxes" target="_blank" rel="noopener">Dialog Boxes</a>: Controlling use of dialog boxes.</li>
<li><a href="https://www.gnu.org/software/emacs/manual/html_node/emacs/Tooltips.html#Tooltips" target="_blank" rel="noopener">Tooltips</a>: Displaying information at the current mouse position.</li>
<li><a href="https://www.gnu.org/software/emacs/manual/html_node/emacs/Mouse-Avoidance.html#Mouse-Avoidance" target="_blank" rel="noopener">Mouse Avoidance</a>: Preventing the mouse pointer from obscuring text.</li>
<li><a href="https://www.gnu.org/software/emacs/manual/html_node/emacs/Non_002dWindow-Terminals.html#Non_002dWindow-Terminals" target="_blank" rel="noopener">Non-Window Terminals</a>: Multiple frames on terminals that show only one.</li>
<li><a href="https://www.gnu.org/software/emacs/manual/html_node/emacs/Text_002dOnly-Mouse.html#Text_002dOnly-Mouse" target="_blank" rel="noopener">Text-Only Mouse</a>: Using the mouse in text terminals.</li>
</ul>
<h2 id="23-Major-and-Minor-Modes"><a href="#23-Major-and-Minor-Modes" class="headerlink" title="23 Major and Minor Modes"></a>23 Major and Minor Modes</h2><p>Emacs contains many editing modes that alter its basic behavior in useful ways. These are divided into major modes and minor modes.</p>
<p>Major modes provide specialized facilities for working on a particular file type, such as a C source file (see <a href="https://www.gnu.org/software/emacs/manual/html_node/emacs/Programs.html#Programs" target="_blank" rel="noopener">Programs</a>), or a particular type of non-file buffer, such as a shell buffer (see <a href="https://www.gnu.org/software/emacs/manual/html_node/emacs/Shell.html#Shell" target="_blank" rel="noopener">Shell</a>). Major modes are mutually exclusive; each buffer has one and only one major mode at any time.</p>
<p>Minor modes are optional features which you can turn on or off, not necessarily specific to a type of file or buffer. For example, Auto Fill mode is a minor mode in which <spc> breaks lines between words as you type (see <a href="https://www.gnu.org/software/emacs/manual/html_node/emacs/Auto-Fill.html#Auto-Fill" target="_blank" rel="noopener">Auto Fill</a>). Minor modes are independent of one another, and of the selected major mode.</spc></p>
<ul>
<li><a href="https://www.gnu.org/software/emacs/manual/html_node/emacs/Major-Modes.html#Major-Modes" target="_blank" rel="noopener">Major Modes</a>: Text mode vs. Lisp mode vs. C mode…</li>
<li><a href="https://www.gnu.org/software/emacs/manual/html_node/emacs/Minor-Modes.html#Minor-Modes" target="_blank" rel="noopener">Minor Modes</a>: Each minor mode is a feature you can turn on independently of any others.</li>
<li><a href="https://www.gnu.org/software/emacs/manual/html_node/emacs/Choosing-Modes.html#Choosing-Modes" target="_blank" rel="noopener">Choosing Modes</a>: How modes are chosen when visiting files.</li>
</ul>
<h2 id="24-Indentation"><a href="#24-Indentation" class="headerlink" title="24 Indentation"></a>24 Indentation</h2><p>Indentation refers to inserting or adjusting whitespace characters (space and/or tab characters) at the beginning of a line of text. This chapter documents indentation commands and options which are common to Text mode and related modes, as well as programming language modes. See <a href="https://www.gnu.org/software/emacs/manual/html_node/emacs/Program-Indent.html#Program-Indent" target="_blank" rel="noopener">Program Indent</a>, for additional documentation about indenting in programming modes.</p>
<p>The simplest way to perform indentation is the <tab> key. In most major modes, this runs the command <code>indent-for-tab-command</code>. (In C and related modes, <tab> runs the command <code>c-indent-line-or-region</code>, which behaves similarly, see <a href="https://www.gnu.org/software/emacs/manual/html_node/emacs/C-Indent.html#C-Indent" target="_blank" rel="noopener">C Indent</a>).</tab></tab></p>
<ul>
<li><tab>

<p>Insert whitespace, or indent the current line, in a mode-appropriate way (<code>indent-for-tab-command</code>). If the region is active, indent all the lines within it.</p>
</tab></li>
</ul>
<p>The exact behavior of <tab> depends on the major mode. In Text mode and related major modes, <tab> normally inserts some combination of space and tab characters to advance point to the next tab stop (see <a href="https://www.gnu.org/software/emacs/manual/html_node/emacs/Tab-Stops.html#Tab-Stops" target="_blank" rel="noopener">Tab Stops</a>). For this purpose, the position of the first non-whitespace character on the preceding line is treated as an additional tab stop, so you can use <tab> to align point with the preceding line. If the region is active (see <a href="https://www.gnu.org/software/emacs/manual/html_node/emacs/Using-Region.html#Using-Region" target="_blank" rel="noopener">Using Region</a>), <tab> acts specially: it indents each line in the region so that its first non-whitespace character is aligned with the preceding line.</tab></tab></tab></tab></p>
<p>In programming modes, <tab> indents the current line of code in a way that makes sense given the code in the preceding lines. If the region is active, all the lines in the region are indented this way. If point was initially within the current line’s indentation, it is repositioned to the first non-whitespace character on the line.</tab></p>
<p>If you just want to insert a tab character in the buffer, type C-q <tab> (see <a href="https://www.gnu.org/software/emacs/manual/html_node/emacs/Inserting-Text.html#Inserting-Text" target="_blank" rel="noopener">Inserting Text</a>).</tab></p>
<ul>
<li><a href="https://www.gnu.org/software/emacs/manual/html_node/emacs/Indentation-Commands.html#Indentation-Commands" target="_blank" rel="noopener">Indentation Commands</a>: More commands for performing indentation.</li>
<li><a href="https://www.gnu.org/software/emacs/manual/html_node/emacs/Tab-Stops.html#Tab-Stops" target="_blank" rel="noopener">Tab Stops</a>: Stop points for indentation in Text modes.</li>
<li><a href="https://www.gnu.org/software/emacs/manual/html_node/emacs/Just-Spaces.html#Just-Spaces" target="_blank" rel="noopener">Just Spaces</a>: Using only space characters for indentation.</li>
<li><a href="https://www.gnu.org/software/emacs/manual/html_node/emacs/Indent-Convenience.html#Indent-Convenience" target="_blank" rel="noopener">Indent Convenience</a>: Optional indentation features.</li>
</ul>
<h2 id="22-International-Character-Set-Support"><a href="#22-International-Character-Set-Support" class="headerlink" title="22 International Character Set Support"></a>22 International Character Set Support</h2><p>Emacs supports a wide variety of international character sets, including European and Vietnamese variants of the Latin alphabet, as well as Arabic scripts, Brahmic scripts (for languages such as Bengali, Hindi, and Thai), Cyrillic, Ethiopic, Georgian, Greek, Han (for Chinese and Japanese), Hangul (for Korean), Hebrew and IPA. Emacs also supports various encodings of these characters that are used by other internationalized software, such as word processors and mailers.</p>
<p>Emacs allows editing text with international characters by supporting all the related activities:</p>
<ul>
<li><p>You can visit files with non-ASCII characters, save non-ASCII text, and pass non-ASCII text between Emacs and programs it invokes (such as compilers, spell-checkers, and mailers). Setting your language environment (see <a href="https://www.gnu.org/software/emacs/manual/html_node/emacs/Language-Environments.html#Language-Environments" target="_blank" rel="noopener">Language Environments</a>) takes care of setting up the coding systems and other options for a specific language or culture. Alternatively, you can specify how Emacs should encode or decode text for each command; see <a href="https://www.gnu.org/software/emacs/manual/html_node/emacs/Text-Coding.html#Text-Coding" target="_blank" rel="noopener">Text Coding</a>.</p>
</li>
<li><p>You can display non-ASCII characters encoded by the various scripts. This works by using appropriate fonts on graphics displays (see <a href="https://www.gnu.org/software/emacs/manual/html_node/emacs/Defining-Fontsets.html#Defining-Fontsets" target="_blank" rel="noopener">Defining Fontsets</a>), and by sending special codes to text displays (see <a href="https://www.gnu.org/software/emacs/manual/html_node/emacs/Terminal-Coding.html#Terminal-Coding" target="_blank" rel="noopener">Terminal Coding</a>). If some characters are displayed incorrectly, refer to <a href="https://www.gnu.org/software/emacs/manual/html_node/emacs/Undisplayable-Characters.html#Undisplayable-Characters" target="_blank" rel="noopener">Undisplayable Characters</a>, which describes possible problems and explains how to solve them.</p>
</li>
<li><p>Characters from scripts whose natural ordering of text is from right to left are reordered for display (see <a href="https://www.gnu.org/software/emacs/manual/html_node/emacs/Bidirectional-Editing.html#Bidirectional-Editing" target="_blank" rel="noopener">Bidirectional Editing</a>). These scripts include Arabic, Hebrew, Syriac, Thaana, and a few others.</p>
</li>
<li><p>You can insert non-ASCII characters or search for them. To do that, you can specify an input method (see <a href="https://www.gnu.org/software/emacs/manual/html_node/emacs/Select-Input-Method.html#Select-Input-Method" target="_blank" rel="noopener">Select Input Method</a>) suitable for your language, or use the default input method set up when you choose your language environment. If your keyboard can produce non-ASCII characters, you can select an appropriate keyboard coding system (see <a href="https://www.gnu.org/software/emacs/manual/html_node/emacs/Terminal-Coding.html#Terminal-Coding" target="_blank" rel="noopener">Terminal Coding</a>), and Emacs will accept those characters. Latin-1 characters can also be input by using the C-x 8 prefix, see <a href="https://www.gnu.org/software/emacs/manual/html_node/emacs/Unibyte-Mode.html#Unibyte-Mode" target="_blank" rel="noopener">Unibyte Mode</a>.</p>
<p>With the X Window System, your locale should be set to an appropriate value to make sure Emacs interprets keyboard input correctly; see <a href="https://www.gnu.org/software/emacs/manual/html_node/emacs/Language-Environments.html#Language-Environments" target="_blank" rel="noopener">locales</a>.</p>
</li>
</ul>
<p>The rest of this chapter describes these issues in detail.</p>
<ul>
<li><a href="https://www.gnu.org/software/emacs/manual/html_node/emacs/International-Chars.html#International-Chars" target="_blank" rel="noopener">International Chars</a>: Basic concepts of multibyte characters.</li>
<li><a href="https://www.gnu.org/software/emacs/manual/html_node/emacs/Language-Environments.html#Language-Environments" target="_blank" rel="noopener">Language Environments</a>: Setting things up for the language you use.</li>
<li><a href="https://www.gnu.org/software/emacs/manual/html_node/emacs/Input-Methods.html#Input-Methods" target="_blank" rel="noopener">Input Methods</a>: Entering text characters not on your keyboard.</li>
<li><a href="https://www.gnu.org/software/emacs/manual/html_node/emacs/Select-Input-Method.html#Select-Input-Method" target="_blank" rel="noopener">Select Input Method</a>: Specifying your choice of input methods.</li>
<li><a href="https://www.gnu.org/software/emacs/manual/html_node/emacs/Coding-Systems.html#Coding-Systems" target="_blank" rel="noopener">Coding Systems</a>: Character set conversion when you read and write files, and so on.</li>
<li><a href="https://www.gnu.org/software/emacs/manual/html_node/emacs/Recognize-Coding.html#Recognize-Coding" target="_blank" rel="noopener">Recognize Coding</a>: How Emacs figures out which conversion to use.</li>
<li><a href="https://www.gnu.org/software/emacs/manual/html_node/emacs/Specify-Coding.html#Specify-Coding" target="_blank" rel="noopener">Specify Coding</a>: Specifying a file’s coding system explicitly.</li>
<li><a href="https://www.gnu.org/software/emacs/manual/html_node/emacs/Output-Coding.html#Output-Coding" target="_blank" rel="noopener">Output Coding</a>: Choosing coding systems for output.</li>
<li><a href="https://www.gnu.org/software/emacs/manual/html_node/emacs/Text-Coding.html#Text-Coding" target="_blank" rel="noopener">Text Coding</a>: Choosing conversion to use for file text.</li>
<li><a href="https://www.gnu.org/software/emacs/manual/html_node/emacs/Communication-Coding.html#Communication-Coding" target="_blank" rel="noopener">Communication Coding</a>: Coding systems for interprocess communication.</li>
<li><a href="https://www.gnu.org/software/emacs/manual/html_node/emacs/File-Name-Coding.html#File-Name-Coding" target="_blank" rel="noopener">File Name Coding</a>: Coding systems for file <em>names</em>.</li>
<li><a href="https://www.gnu.org/software/emacs/manual/html_node/emacs/Terminal-Coding.html#Terminal-Coding" target="_blank" rel="noopener">Terminal Coding</a>: Specifying coding systems for converting terminal input and output.</li>
<li><a href="https://www.gnu.org/software/emacs/manual/html_node/emacs/Fontsets.html#Fontsets" target="_blank" rel="noopener">Fontsets</a>: Fontsets are collections of fonts that cover the whole spectrum of characters.</li>
<li><a href="https://www.gnu.org/software/emacs/manual/html_node/emacs/Defining-Fontsets.html#Defining-Fontsets" target="_blank" rel="noopener">Defining Fontsets</a>: Defining a new fontset.</li>
<li><a href="https://www.gnu.org/software/emacs/manual/html_node/emacs/Modifying-Fontsets.html#Modifying-Fontsets" target="_blank" rel="noopener">Modifying Fontsets</a>: Modifying an existing fontset.</li>
<li><a href="https://www.gnu.org/software/emacs/manual/html_node/emacs/Undisplayable-Characters.html#Undisplayable-Characters" target="_blank" rel="noopener">Undisplayable Characters</a>: When characters don’t display.</li>
<li><a href="https://www.gnu.org/software/emacs/manual/html_node/emacs/Unibyte-Mode.html#Unibyte-Mode" target="_blank" rel="noopener">Unibyte Mode</a>: You can pick one European character set to use without multibyte characters.</li>
<li><a href="https://www.gnu.org/software/emacs/manual/html_node/emacs/Charsets.html#Charsets" target="_blank" rel="noopener">Charsets</a>: How Emacs groups its internal character codes.</li>
<li><a href="https://www.gnu.org/software/emacs/manual/html_node/emacs/Bidirectional-Editing.html#Bidirectional-Editing" target="_blank" rel="noopener">Bidirectional Editing</a>: Support for right-to-left scripts.</li>
</ul>
<h2 id="25-Commands-for-Human-Languages"><a href="#25-Commands-for-Human-Languages" class="headerlink" title="25 Commands for Human Languages"></a>25 Commands for Human Languages</h2><p>This chapter describes Emacs commands that act on text, by which we mean sequences of characters in a human language (as opposed to, say, a computer programming language). These commands act in ways that take into account the syntactic and stylistic conventions of human languages: conventions involving words, sentences, paragraphs, and capital letters. There are also commands for filling, which means rearranging the lines of a paragraph to be approximately equal in length. These commands, while intended primarily for editing text, are also often useful for editing programs.</p>
<p>Emacs has several major modes for editing human-language text. If the file contains ordinary text, use Text mode, which customizes Emacs in small ways for the syntactic conventions of text. Outline mode provides special commands for operating on text with an outline structure. See <a href="https://www.gnu.org/software/emacs/manual/html_node/emacs/Outline-Mode.html#Outline-Mode" target="_blank" rel="noopener">Outline Mode</a>.</p>
<p>Org mode extends Outline mode and turns Emacs into a full-fledged organizer: you can manage TODO lists, store notes and publish them in many formats. See the Org Info manual, which is distributed with Emacs.</p>
<p>Emacs has other major modes for text which contains embedded commands, such as TeX and LaTeX (see <a href="https://www.gnu.org/software/emacs/manual/html_node/emacs/TeX-Mode.html#TeX-Mode" target="_blank" rel="noopener">TeX Mode</a>); HTML and SGML (see <a href="https://www.gnu.org/software/emacs/manual/html_node/emacs/HTML-Mode.html#HTML-Mode" target="_blank" rel="noopener">HTML Mode</a>); XML (see the nXML mode Info manual, which is distributed with Emacs); and Groff and Nroff (see <a href="https://www.gnu.org/software/emacs/manual/html_node/emacs/Nroff-Mode.html#Nroff-Mode" target="_blank" rel="noopener">Nroff Mode</a>).</p>
<p>If you need to edit ASCII art pictures made out of text characters, use Picture mode, a special major mode for editing such pictures. See <a href="https://www.gnu.org/software/emacs/manual/html_node/emacs/Picture-Mode.html#Picture-Mode" target="_blank" rel="noopener">Picture Mode</a>.</p>
<ul>
<li><a href="https://www.gnu.org/software/emacs/manual/html_node/emacs/Words.html#Words" target="_blank" rel="noopener">Words</a>: Moving over and killing words.</li>
<li><a href="https://www.gnu.org/software/emacs/manual/html_node/emacs/Sentences.html#Sentences" target="_blank" rel="noopener">Sentences</a>: Moving over and killing sentences.</li>
<li><a href="https://www.gnu.org/software/emacs/manual/html_node/emacs/Paragraphs.html#Paragraphs" target="_blank" rel="noopener">Paragraphs</a>: Moving over paragraphs.</li>
<li><a href="https://www.gnu.org/software/emacs/manual/html_node/emacs/Pages.html#Pages" target="_blank" rel="noopener">Pages</a>: Moving over pages.</li>
<li><a href="https://www.gnu.org/software/emacs/manual/html_node/emacs/Quotation-Marks.html#Quotation-Marks" target="_blank" rel="noopener">Quotation Marks</a>: Inserting quotation marks.</li>
<li><a href="https://www.gnu.org/software/emacs/manual/html_node/emacs/Filling.html#Filling" target="_blank" rel="noopener">Filling</a>: Filling or justifying text.</li>
<li><a href="https://www.gnu.org/software/emacs/manual/html_node/emacs/Case.html#Case" target="_blank" rel="noopener">Case</a>: Changing the case of text.</li>
<li><a href="https://www.gnu.org/software/emacs/manual/html_node/emacs/Text-Mode.html#Text-Mode" target="_blank" rel="noopener">Text Mode</a>: The major modes for editing text files.</li>
<li><a href="https://www.gnu.org/software/emacs/manual/html_node/emacs/Outline-Mode.html#Outline-Mode" target="_blank" rel="noopener">Outline Mode</a>: Editing outlines.</li>
<li><a href="https://www.gnu.org/software/emacs/manual/html_node/emacs/Org-Mode.html#Org-Mode" target="_blank" rel="noopener">Org Mode</a>: The Emacs organizer.</li>
<li><a href="https://www.gnu.org/software/emacs/manual/html_node/emacs/TeX-Mode.html#TeX-Mode" target="_blank" rel="noopener">TeX Mode</a>: Editing TeX and LaTeX files.</li>
<li><a href="https://www.gnu.org/software/emacs/manual/html_node/emacs/HTML-Mode.html#HTML-Mode" target="_blank" rel="noopener">HTML Mode</a>: Editing HTML and SGML files.</li>
<li><a href="https://www.gnu.org/software/emacs/manual/html_node/emacs/Nroff-Mode.html#Nroff-Mode" target="_blank" rel="noopener">Nroff Mode</a>: Editing input to the nroff formatter.</li>
<li><a href="https://www.gnu.org/software/emacs/manual/html_node/emacs/Enriched-Text.html#Enriched-Text" target="_blank" rel="noopener">Enriched Text</a>: Editing text enriched with fonts, colors, etc.</li>
<li><a href="https://www.gnu.org/software/emacs/manual/html_node/emacs/Text-Based-Tables.html#Text-Based-Tables" target="_blank" rel="noopener">Text Based Tables</a>: Commands for editing text-based tables.</li>
<li><a href="https://www.gnu.org/software/emacs/manual/html_node/emacs/Two_002dColumn.html#Two_002dColumn" target="_blank" rel="noopener">Two-Column</a>: Splitting text columns into separate windows.</li>
</ul>
<h2 id="26-Editing-Programs"><a href="#26-Editing-Programs" class="headerlink" title="26 Editing Programs"></a>26 Editing Programs</h2><p>This chapter describes Emacs features for facilitating editing programs. Some of the things these features can do are:</p>
<ul>
<li>Find or move over top-level definitions (see <a href="https://www.gnu.org/software/emacs/manual/html_node/emacs/Defuns.html#Defuns" target="_blank" rel="noopener">Defuns</a>).</li>
<li>Apply the usual indentation conventions of the language (see <a href="https://www.gnu.org/software/emacs/manual/html_node/emacs/Program-Indent.html#Program-Indent" target="_blank" rel="noopener">Program Indent</a>).</li>
<li>Balance parentheses (see <a href="https://www.gnu.org/software/emacs/manual/html_node/emacs/Parentheses.html#Parentheses" target="_blank" rel="noopener">Parentheses</a>).</li>
<li>Insert, kill or align comments (see <a href="https://www.gnu.org/software/emacs/manual/html_node/emacs/Comments.html#Comments" target="_blank" rel="noopener">Comments</a>).</li>
<li><p>Highlight program syntax (see <a href="https://www.gnu.org/software/emacs/manual/html_node/emacs/Font-Lock.html#Font-Lock" target="_blank" rel="noopener">Font Lock</a>).</p>
</li>
<li><p><a href="https://www.gnu.org/software/emacs/manual/html_node/emacs/Program-Modes.html#Program-Modes" target="_blank" rel="noopener">Program Modes</a>: Major modes for editing programs.</p>
</li>
<li><a href="https://www.gnu.org/software/emacs/manual/html_node/emacs/Defuns.html#Defuns" target="_blank" rel="noopener">Defuns</a>: Commands to operate on major top-level parts of a program.</li>
<li><a href="https://www.gnu.org/software/emacs/manual/html_node/emacs/Program-Indent.html#Program-Indent" target="_blank" rel="noopener">Program Indent</a>: Adjusting indentation to show the nesting.</li>
<li><a href="https://www.gnu.org/software/emacs/manual/html_node/emacs/Parentheses.html#Parentheses" target="_blank" rel="noopener">Parentheses</a>: Commands that operate on parentheses.</li>
<li><a href="https://www.gnu.org/software/emacs/manual/html_node/emacs/Comments.html#Comments" target="_blank" rel="noopener">Comments</a>: Inserting, killing, and aligning comments.</li>
<li><a href="https://www.gnu.org/software/emacs/manual/html_node/emacs/Documentation.html#Documentation" target="_blank" rel="noopener">Documentation</a>: Getting documentation of functions you plan to call.</li>
<li><a href="https://www.gnu.org/software/emacs/manual/html_node/emacs/Hideshow.html#Hideshow" target="_blank" rel="noopener">Hideshow</a>: Displaying blocks selectively.</li>
<li><a href="https://www.gnu.org/software/emacs/manual/html_node/emacs/Symbol-Completion.html#Symbol-Completion" target="_blank" rel="noopener">Symbol Completion</a>: Completion on symbol names of your program or language.</li>
<li><a href="https://www.gnu.org/software/emacs/manual/html_node/emacs/MixedCase-Words.html#MixedCase-Words" target="_blank" rel="noopener">MixedCase Words</a>: Dealing with identifiersLikeThis.</li>
<li><a href="https://www.gnu.org/software/emacs/manual/html_node/emacs/Semantic.html#Semantic" target="_blank" rel="noopener">Semantic</a>: Suite of editing tools based on source code parsing.</li>
<li><a href="https://www.gnu.org/software/emacs/manual/html_node/emacs/Misc-for-Programs.html#Misc-for-Programs" target="_blank" rel="noopener">Misc for Programs</a>: Other Emacs features useful for editing programs.</li>
<li><a href="https://www.gnu.org/software/emacs/manual/html_node/emacs/C-Modes.html#C-Modes" target="_blank" rel="noopener">C Modes</a>: Special commands of C, C++, Objective-C, Java, IDL, Pike and AWK modes.</li>
<li><a href="https://www.gnu.org/software/emacs/manual/html_node/emacs/Asm-Mode.html#Asm-Mode" target="_blank" rel="noopener">Asm Mode</a>: Asm mode and its special features.</li>
<li><a href="https://www.gnu.org/software/emacs/manual/html_node/emacs/Fortran.html#Fortran" target="_blank" rel="noopener">Fortran</a>: Fortran mode and its special features.</li>
</ul>
<h2 id="27-Compiling-and-Testing-Programs"><a href="#27-Compiling-and-Testing-Programs" class="headerlink" title="27 Compiling and Testing Programs"></a>27 Compiling and Testing Programs</h2><p>The previous chapter discusses the Emacs commands that are useful for making changes in programs. This chapter deals with commands that assist in the process of compiling and testing programs.</p>
<ul>
<li><p><a href="https://www.gnu.org/software/emacs/manual/html_node/emacs/Compilation.html#Compilation" target="_blank" rel="noopener">Compilation</a>: Compiling programs in languages other than Lisp (C, Pascal, etc.).</p>
</li>
<li><p><a href="https://www.gnu.org/software/emacs/manual/html_node/emacs/Compilation-Mode.html#Compilation-Mode" target="_blank" rel="noopener">Compilation Mode</a>: The mode for visiting compiler errors.</p>
</li>
<li><p><a href="https://www.gnu.org/software/emacs/manual/html_node/emacs/Compilation-Shell.html#Compilation-Shell" target="_blank" rel="noopener">Compilation Shell</a>: Customizing your shell properly for use in the compilation buffer.</p>
</li>
<li><p><a href="https://www.gnu.org/software/emacs/manual/html_node/emacs/Grep-Searching.html#Grep-Searching" target="_blank" rel="noopener">Grep Searching</a>: Searching with grep. </p>
<blockquote>
<p>功能不错.</p>
</blockquote>
</li>
<li><p><a href="https://www.gnu.org/software/emacs/manual/html_node/emacs/Flymake.html#Flymake" target="_blank" rel="noopener">Flymake</a>: Finding syntax errors on the fly.</p>
</li>
<li><p><a href="https://www.gnu.org/software/emacs/manual/html_node/emacs/Debuggers.html#Debuggers" target="_blank" rel="noopener">Debuggers</a>: Running symbolic debuggers for non-Lisp programs.</p>
</li>
<li><p><a href="https://www.gnu.org/software/emacs/manual/html_node/emacs/Executing-Lisp.html#Executing-Lisp" target="_blank" rel="noopener">Executing Lisp</a>: Various modes for editing Lisp programs, with different facilities for running the Lisp programs.</p>
</li>
<li><p><a href="https://www.gnu.org/software/emacs/manual/html_node/emacs/Lisp-Libraries.html#Lisp-Libraries" target="_blank" rel="noopener">Libraries</a>: How Lisp programs are loaded into Emacs.</p>
</li>
<li><p><a href="https://www.gnu.org/software/emacs/manual/html_node/emacs/Lisp-Eval.html#Lisp-Eval" target="_blank" rel="noopener">Eval</a>: Executing a single Lisp expression in Emacs.</p>
</li>
<li><p><a href="https://www.gnu.org/software/emacs/manual/html_node/emacs/Lisp-Interaction.html#Lisp-Interaction" target="_blank" rel="noopener">Interaction</a>: Executing Lisp in an Emacs buffer.</p>
</li>
<li><p><a href="https://www.gnu.org/software/emacs/manual/html_node/emacs/External-Lisp.html#External-Lisp" target="_blank" rel="noopener">External Lisp</a>: Communicating through Emacs with a separate Lisp.</p>
</li>
</ul>
<blockquote>
<p>功能性的部分. Project management,,</p>
</blockquote>
<h2 id="28-Maintaining-Large-Programs"><a href="#28-Maintaining-Large-Programs" class="headerlink" title="28 Maintaining Large Programs"></a>28 Maintaining Large Programs</h2><p>This chapter describes Emacs features for maintaining medium- to large-size programs and packages. These features include:</p>
<ul>
<li>Unified interface to Support for Version Control Systems (VCS) that record the history of changes to source files.</li>
<li>A specialized mode for maintaining ChangeLog files that provide a chronological log of program changes.</li>
<li>Xref, a set of commands for displaying definitions of symbols (a.k.a. “identifiers”) and their references.</li>
<li>EDE, the Emacs’s own IDE.</li>
<li>A mode for merging changes to program sources made on separate branches of development.</li>
</ul>
<p>If you are maintaining a large Lisp program, then in addition to the features described here, you may find the Emacs Lisp Regression Testing (ERT) library useful (see <a href="https://www.gnu.org/software/emacs/manual/html_node/ert/index.html#Top" target="_blank" rel="noopener">ERT</a>).</p>
<ul>
<li><a href="https://www.gnu.org/software/emacs/manual/html_node/emacs/Version-Control.html#Version-Control" target="_blank" rel="noopener">Version Control</a>: Using version control systems.</li>
<li><a href="https://www.gnu.org/software/emacs/manual/html_node/emacs/Change-Log.html#Change-Log" target="_blank" rel="noopener">Change Log</a>: Maintaining a change history for your program.</li>
<li><a href="https://www.gnu.org/software/emacs/manual/html_node/emacs/Xref.html#Xref" target="_blank" rel="noopener">Xref</a>: Find definitions and references of any function, method, struct, macro, … in your program.</li>
<li><a href="https://www.gnu.org/software/emacs/manual/html_node/emacs/EDE.html#EDE" target="_blank" rel="noopener">EDE</a>: An integrated development environment for Emacs.</li>
<li><a href="https://www.gnu.org/software/emacs/manual/html_node/emacs/Emerge.html#Emerge" target="_blank" rel="noopener">Emerge</a>: A convenient way of merging two versions of a program.</li>
</ul>
<h2 id="29-Abbrevs"><a href="#29-Abbrevs" class="headerlink" title="29 Abbrevs"></a>29 Abbrevs</h2><p>A defined abbrev is a word which expands, if you insert it, into some different text. Abbrevs are defined by the user to expand in specific ways. For example, you might define ‘foo’ as an abbrev expanding to ‘find outer otter’. Then you could insert ‘find outer otter ’ into the buffer by typing f o o <spc>.</spc></p>
<p>A second kind of abbreviation facility is called dynamic abbrev expansion. You use dynamic abbrev expansion with an explicit command to expand the letters in the buffer before point by looking for other words in the buffer that start with those letters. See <a href="https://www.gnu.org/software/emacs/manual/html_node/emacs/Dynamic-Abbrevs.html#Dynamic-Abbrevs" target="_blank" rel="noopener">Dynamic Abbrevs</a>.</p>
<p>A third kind, hippie expansion, generalizes abbreviation expansion. See <a href="https://www.gnu.org/software/emacs/manual/html_node/autotype/Hippie-Expand.html#Hippie-Expand" target="_blank" rel="noopener">Hippie Expansion</a>.</p>
<ul>
<li><a href="https://www.gnu.org/software/emacs/manual/html_node/emacs/Abbrev-Concepts.html#Abbrev-Concepts" target="_blank" rel="noopener">Abbrev Concepts</a>: Fundamentals of defined abbrevs.</li>
<li><a href="https://www.gnu.org/software/emacs/manual/html_node/emacs/Defining-Abbrevs.html#Defining-Abbrevs" target="_blank" rel="noopener">Defining Abbrevs</a>: Defining an abbrev, so it will expand when typed.</li>
<li><a href="https://www.gnu.org/software/emacs/manual/html_node/emacs/Expanding-Abbrevs.html#Expanding-Abbrevs" target="_blank" rel="noopener">Expanding Abbrevs</a>: Controlling expansion: prefixes, canceling expansion.</li>
<li><a href="https://www.gnu.org/software/emacs/manual/html_node/emacs/Editing-Abbrevs.html#Editing-Abbrevs" target="_blank" rel="noopener">Editing Abbrevs</a>: Viewing or editing the entire list of defined abbrevs.</li>
<li><a href="https://www.gnu.org/software/emacs/manual/html_node/emacs/Saving-Abbrevs.html#Saving-Abbrevs" target="_blank" rel="noopener">Saving Abbrevs</a>: Saving the entire list of abbrevs for another session.</li>
<li><a href="https://www.gnu.org/software/emacs/manual/html_node/emacs/Dynamic-Abbrevs.html#Dynamic-Abbrevs" target="_blank" rel="noopener">Dynamic Abbrevs</a>: Abbreviations for words already in the buffer.</li>
<li><a href="https://www.gnu.org/software/emacs/manual/html_node/emacs/Dabbrev-Customization.html#Dabbrev-Customization" target="_blank" rel="noopener">Dabbrev Customization</a>: What is a word, for dynamic abbrevs. Case handling.</li>
</ul>
<h2 id="30-Dired-the-Directory-Editor"><a href="#30-Dired-the-Directory-Editor" class="headerlink" title="30 Dired, the Directory Editor"></a>30 Dired, the Directory Editor</h2><p>Dired makes an Emacs buffer containing a listing of a directory, and optionally some of its subdirectories as well. You can use the normal Emacs commands to move around in this buffer, and special Dired commands to operate on the listed files. Dired works with both local and remote directories.</p>
<p>The Dired buffer is normally read-only, and inserting text in it is not allowed (however, the Wdired mode allows that, see <a href="https://www.gnu.org/software/emacs/manual/html_node/emacs/Wdired.html#Wdired" target="_blank" rel="noopener">Wdired</a>). Ordinary printing characters such as d and x are redefined for special Dired commands. Some Dired commands mark or flag the current file (that is, the file on the current line); other commands operate on the marked files or on the flagged files. You first mark certain files in order to operate on all of them with one command.</p>
<p>The Dired-X package provides various extra features for Dired mode. See <a href="https://www.gnu.org/software/emacs/manual/html_node/dired-x/index.html#Top" target="_blank" rel="noopener">Dired-X</a>.</p>
<p>You can also view a list of files in a directory with C-x C-d (<code>list-directory</code>). Unlike Dired, this command does not allow you to operate on the listed files. See <a href="https://www.gnu.org/software/emacs/manual/html_node/emacs/Directories.html#Directories" target="_blank" rel="noopener">Directories</a>.</p>
<ul>
<li><a href="https://www.gnu.org/software/emacs/manual/html_node/emacs/Dired-Enter.html#Dired-Enter" target="_blank" rel="noopener">Enter</a>: How to invoke Dired.</li>
<li><a href="https://www.gnu.org/software/emacs/manual/html_node/emacs/Dired-Navigation.html#Dired-Navigation" target="_blank" rel="noopener">Navigation</a>: Special motion commands in the Dired buffer.</li>
<li><a href="https://www.gnu.org/software/emacs/manual/html_node/emacs/Dired-Deletion.html#Dired-Deletion" target="_blank" rel="noopener">Deletion</a>: Deleting files with Dired.</li>
<li><a href="https://www.gnu.org/software/emacs/manual/html_node/emacs/Flagging-Many-Files.html#Flagging-Many-Files" target="_blank" rel="noopener">Flagging Many Files</a>: Flagging files based on their names.</li>
<li><a href="https://www.gnu.org/software/emacs/manual/html_node/emacs/Dired-Visiting.html#Dired-Visiting" target="_blank" rel="noopener">Visit</a>: Other file operations through Dired.</li>
<li><a href="https://www.gnu.org/software/emacs/manual/html_node/emacs/Marks-vs-Flags.html#Marks-vs-Flags" target="_blank" rel="noopener">Marks vs Flags</a>: Flagging for deletion vs marking.</li>
<li><a href="https://www.gnu.org/software/emacs/manual/html_node/emacs/Operating-on-Files.html#Operating-on-Files" target="_blank" rel="noopener">Operating on Files</a>: How to copy, rename, print, compress, etc. either one file or several files.</li>
<li><a href="https://www.gnu.org/software/emacs/manual/html_node/emacs/Shell-Commands-in-Dired.html#Shell-Commands-in-Dired" target="_blank" rel="noopener">Shell Commands in Dired</a>: Running a shell command on the marked files.</li>
<li><a href="https://www.gnu.org/software/emacs/manual/html_node/emacs/Transforming-File-Names.html#Transforming-File-Names" target="_blank" rel="noopener">Transforming File Names</a>: Using patterns to rename multiple files.</li>
<li><a href="https://www.gnu.org/software/emacs/manual/html_node/emacs/Comparison-in-Dired.html#Comparison-in-Dired" target="_blank" rel="noopener">Comparison in Dired</a>: Running <code>diff</code> by way of Dired.</li>
<li><a href="https://www.gnu.org/software/emacs/manual/html_node/emacs/Subdirectories-in-Dired.html#Subdirectories-in-Dired" target="_blank" rel="noopener">Subdirectories in Dired</a>: Adding subdirectories to the Dired buffer.</li>
<li><a href="https://www.gnu.org/software/emacs/manual/html_node/emacs/Subdir-Switches.html#Subdir-Switches" target="_blank" rel="noopener">Subdir Switches</a>: Subdirectory switches in Dired.</li>
<li><a href="https://www.gnu.org/software/emacs/manual/html_node/emacs/Subdirectory-Motion.html#Subdirectory-Motion" target="_blank" rel="noopener">Subdirectory Motion</a>: Moving across subdirectories, and up and down.</li>
<li><a href="https://www.gnu.org/software/emacs/manual/html_node/emacs/Hiding-Subdirectories.html#Hiding-Subdirectories" target="_blank" rel="noopener">Hiding Subdirectories</a>: Making subdirectories visible or invisible.</li>
<li><a href="https://www.gnu.org/software/emacs/manual/html_node/emacs/Dired-Updating.html#Dired-Updating" target="_blank" rel="noopener">Updating</a>: Discarding lines for files of no interest.</li>
<li><a href="https://www.gnu.org/software/emacs/manual/html_node/emacs/Dired-and-Find.html#Dired-and-Find" target="_blank" rel="noopener">Find</a>: Using <code>find</code> to choose the files for Dired.</li>
<li><a href="https://www.gnu.org/software/emacs/manual/html_node/emacs/Wdired.html#Wdired" target="_blank" rel="noopener">Wdired</a>: Operating on files by editing the Dired buffer.</li>
<li><a href="https://www.gnu.org/software/emacs/manual/html_node/emacs/Image_002dDired.html#Image_002dDired" target="_blank" rel="noopener">Image-Dired</a>: Viewing image thumbnails in Dired.</li>
<li><a href="https://www.gnu.org/software/emacs/manual/html_node/emacs/Misc-Dired-Features.html#Misc-Dired-Features" target="_blank" rel="noopener">Misc</a>: Various other features.</li>
</ul>
<h2 id="31-The-Calendar-and-the-Diary"><a href="#31-The-Calendar-and-the-Diary" class="headerlink" title="31 The Calendar and the Diary"></a>31 The Calendar and the Diary</h2><blockquote>
<p>掌握的部分.</p>
</blockquote>
<p>Emacs provides the functions of a desk calendar, with a diary of planned or past events. It also has facilities for managing your appointments, and keeping track of how much time you spend working on certain projects.</p>
<p>To enter the calendar, type M-x calendar. This displays a three-month calendar centered on the current month, with point on the current date. With a numeric argument, as in C-u M-x calendar, it prompts you for the month and year to be the center of the three-month calendar. The calendar uses its own buffer, whose major mode is Calendar mode.</p>
<p>mouse-3 in the calendar brings up a menu of operations on a particular date; mouse-2 brings up a menu of commonly used calendar features that are independent of any particular date. To exit the calendar, type q.</p>
<ul>
<li><a href="https://www.gnu.org/software/emacs/manual/html_node/emacs/Calendar-Motion.html#Calendar-Motion" target="_blank" rel="noopener">Calendar Motion</a>: Moving through the calendar; selecting a date.</li>
<li><a href="https://www.gnu.org/software/emacs/manual/html_node/emacs/Scroll-Calendar.html#Scroll-Calendar" target="_blank" rel="noopener">Scroll Calendar</a>: Bringing earlier or later months onto the screen.</li>
<li><a href="https://www.gnu.org/software/emacs/manual/html_node/emacs/Counting-Days.html#Counting-Days" target="_blank" rel="noopener">Counting Days</a>: How many days are there between two dates?</li>
<li><a href="https://www.gnu.org/software/emacs/manual/html_node/emacs/General-Calendar.html#General-Calendar" target="_blank" rel="noopener">General Calendar</a>: Exiting or recomputing the calendar.</li>
<li><a href="https://www.gnu.org/software/emacs/manual/html_node/emacs/Writing-Calendar-Files.html#Writing-Calendar-Files" target="_blank" rel="noopener">Writing Calendar Files</a>: Writing calendars to files of various formats.</li>
<li><a href="https://www.gnu.org/software/emacs/manual/html_node/emacs/Holidays.html#Holidays" target="_blank" rel="noopener">Holidays</a>: Displaying dates of holidays.</li>
<li><a href="https://www.gnu.org/software/emacs/manual/html_node/emacs/Sunrise_002fSunset.html#Sunrise_002fSunset" target="_blank" rel="noopener">Sunrise/Sunset</a>: Displaying local times of sunrise and sunset.</li>
<li><a href="https://www.gnu.org/software/emacs/manual/html_node/emacs/Lunar-Phases.html#Lunar-Phases" target="_blank" rel="noopener">Lunar Phases</a>: Displaying phases of the moon.</li>
<li><a href="https://www.gnu.org/software/emacs/manual/html_node/emacs/Other-Calendars.html#Other-Calendars" target="_blank" rel="noopener">Other Calendars</a>: Converting dates to other calendar systems.</li>
<li><a href="https://www.gnu.org/software/emacs/manual/html_node/emacs/Diary.html#Diary" target="_blank" rel="noopener">Diary</a>: Displaying events from your diary.</li>
<li><a href="https://www.gnu.org/software/emacs/manual/html_node/emacs/Daylight-Saving.html#Daylight-Saving" target="_blank" rel="noopener">Daylight Saving</a>: How to specify when daylight saving time is active.</li>
<li><a href="https://www.gnu.org/software/emacs/manual/html_node/emacs/Time-Intervals.html#Time-Intervals" target="_blank" rel="noopener">Time Intervals</a>: Keeping track of time intervals.</li>
<li><a href="https://www.gnu.org/software/emacs/manual/html_node/emacs/Advanced-Calendar_002fDiary-Usage.html#Advanced-Calendar_002fDiary-Usage" target="_blank" rel="noopener">Advanced Calendar/Diary Usage</a>: Advanced Calendar/Diary customization.</li>
</ul>
<h2 id="32-Sending-Mail"><a href="#32-Sending-Mail" class="headerlink" title="32 Sending Mail"></a>32 Sending Mail</h2><p>To send an email message from Emacs, type C-x m. This switches to a buffer named <em>unsent mail</em>, where you can edit the text and headers of the message. When done, type C-c C-s or C-c C-c to send it.</p>
<ul>
<li><p>C-x m</p>
<p>Begin composing mail (<code>compose-mail</code>).  </p>
</li>
<li><p>C-x 4 m</p>
<p>Likewise, in another window (<code>compose-mail-other-window</code>).  </p>
</li>
<li><p>C-x 5 m</p>
<p>Likewise, but in a new frame (<code>compose-mail-other-frame</code>).  </p>
</li>
<li><p>C-c C-s</p>
<p>In the mail buffer, send the message (<code>message-send</code>).  </p>
</li>
<li><p>C-c C-c</p>
<p>In the mail buffer, send the message and bury the buffer (<code>message-send-and-exit</code>).</p>
</li>
</ul>
<p>The mail buffer is an ordinary Emacs buffer, so you can switch to other buffers while composing the mail. If you want to send another mail before finishing the current one, type C-x m again to open a new mail buffer whose name has a different numeric suffix (see <a href="https://www.gnu.org/software/emacs/manual/html_node/emacs/Misc-Buffer.html#Misc-Buffer" target="_blank" rel="noopener">Misc Buffer</a>). If you invoke the command with a prefix argument, C-u C-x m, Emacs switches back to the last mail buffer, and asks if you want to erase the message in that buffer; if you answer no, this lets you pick up editing the message where you left off.</p>
<p>The command C-x 4 m (<code>compose-mail-other-window</code>) does the same as C-x m, except it displays the mail buffer in a different window. The command C-x 5 m (<code>compose-mail-other-frame</code>) does it in a new frame.</p>
<p>When you type C-c C-c or C-c C-s to send the mail, Emacs may ask you how it should deliver the mail—either directly via SMTP, or using some other method. See <a href="https://www.gnu.org/software/emacs/manual/html_node/emacs/Mail-Sending.html#Mail-Sending" target="_blank" rel="noopener">Mail Sending</a>, for details.</p>
<ul>
<li><a href="https://www.gnu.org/software/emacs/manual/html_node/emacs/Mail-Format.html#Mail-Format" target="_blank" rel="noopener">Format</a>: Format of a mail message.</li>
<li><a href="https://www.gnu.org/software/emacs/manual/html_node/emacs/Mail-Headers.html#Mail-Headers" target="_blank" rel="noopener">Headers</a>: Details of some standard mail header fields.</li>
<li><a href="https://www.gnu.org/software/emacs/manual/html_node/emacs/Mail-Aliases.html#Mail-Aliases" target="_blank" rel="noopener">Aliases</a>: Abbreviating and grouping mail addresses.</li>
<li><a href="https://www.gnu.org/software/emacs/manual/html_node/emacs/Mail-Commands.html#Mail-Commands" target="_blank" rel="noopener">Commands</a>: Special commands for editing mail being composed.</li>
<li><a href="https://www.gnu.org/software/emacs/manual/html_node/emacs/Mail-Signature.html#Mail-Signature" target="_blank" rel="noopener">Signature</a>: Adding a signature to every message.</li>
<li><a href="https://www.gnu.org/software/emacs/manual/html_node/emacs/Mail-Amusements.html#Mail-Amusements" target="_blank" rel="noopener">Amuse</a>: Distracting the NSA; adding fortune messages.</li>
<li><a href="https://www.gnu.org/software/emacs/manual/html_node/emacs/Mail-Methods.html#Mail-Methods" target="_blank" rel="noopener">Methods</a>: Using alternative mail-composition methods.</li>
</ul>
<h2 id="33-Reading-Mail-with-Rmail"><a href="#33-Reading-Mail-with-Rmail" class="headerlink" title="33 Reading Mail with Rmail"></a>33 Reading Mail with Rmail</h2><p>Rmail is an Emacs subsystem for reading and disposing of mail that you receive. Rmail stores mail messages in files called Rmail files. Reading the messages in an Rmail file is done in a special major mode, Rmail mode, which redefines most letters to run commands for managing mail.</p>
<p>Emacs also comes with a much more sophisticated and flexible subsystem for reading mail, called Gnus. Gnus is a very large package, and is therefore described in its own manual, see <a href="https://www.gnu.org/software/emacs/manual/html_node/gnus/index.html#Top" target="_blank" rel="noopener">Top</a>.</p>
<ul>
<li><a href="https://www.gnu.org/software/emacs/manual/html_node/emacs/Rmail-Basics.html#Rmail-Basics" target="_blank" rel="noopener">Basic</a>: Basic concepts of Rmail, and simple use.</li>
<li><a href="https://www.gnu.org/software/emacs/manual/html_node/emacs/Rmail-Scrolling.html#Rmail-Scrolling" target="_blank" rel="noopener">Scroll</a>: Scrolling through a message.</li>
<li><a href="https://www.gnu.org/software/emacs/manual/html_node/emacs/Rmail-Motion.html#Rmail-Motion" target="_blank" rel="noopener">Motion</a>: Moving to another message.</li>
<li><a href="https://www.gnu.org/software/emacs/manual/html_node/emacs/Rmail-Deletion.html#Rmail-Deletion" target="_blank" rel="noopener">Deletion</a>: Deleting and expunging messages.</li>
<li><a href="https://www.gnu.org/software/emacs/manual/html_node/emacs/Rmail-Inbox.html#Rmail-Inbox" target="_blank" rel="noopener">Inbox</a>: How mail gets into the Rmail file.</li>
<li><a href="https://www.gnu.org/software/emacs/manual/html_node/emacs/Rmail-Files.html#Rmail-Files" target="_blank" rel="noopener">Files</a>: Using multiple Rmail files.</li>
<li><a href="https://www.gnu.org/software/emacs/manual/html_node/emacs/Rmail-Output.html#Rmail-Output" target="_blank" rel="noopener">Output</a>: Copying messages out to files.</li>
<li><a href="https://www.gnu.org/software/emacs/manual/html_node/emacs/Rmail-Labels.html#Rmail-Labels" target="_blank" rel="noopener">Labels</a>: Classifying messages by labeling them.</li>
<li><a href="https://www.gnu.org/software/emacs/manual/html_node/emacs/Rmail-Attributes.html#Rmail-Attributes" target="_blank" rel="noopener">Attrs</a>: Certain standard labels, called attributes.</li>
<li><a href="https://www.gnu.org/software/emacs/manual/html_node/emacs/Rmail-Reply.html#Rmail-Reply" target="_blank" rel="noopener">Reply</a>: Sending replies to messages you are viewing.</li>
<li><a href="https://www.gnu.org/software/emacs/manual/html_node/emacs/Rmail-Summary.html#Rmail-Summary" target="_blank" rel="noopener">Summary</a>: Summaries show brief info on many messages.</li>
<li><a href="https://www.gnu.org/software/emacs/manual/html_node/emacs/Rmail-Sorting.html#Rmail-Sorting" target="_blank" rel="noopener">Sort</a>: Sorting messages in Rmail.</li>
<li><a href="https://www.gnu.org/software/emacs/manual/html_node/emacs/Rmail-Display.html#Rmail-Display" target="_blank" rel="noopener">Display</a>: How Rmail displays a message; customization.</li>
<li><a href="https://www.gnu.org/software/emacs/manual/html_node/emacs/Rmail-Coding.html#Rmail-Coding" target="_blank" rel="noopener">Coding</a>: How Rmail handles decoding character sets.</li>
<li><a href="https://www.gnu.org/software/emacs/manual/html_node/emacs/Rmail-Editing.html#Rmail-Editing" target="_blank" rel="noopener">Editing</a>: Editing message text and headers in Rmail.</li>
<li><a href="https://www.gnu.org/software/emacs/manual/html_node/emacs/Rmail-Digest.html#Rmail-Digest" target="_blank" rel="noopener">Digest</a>: Extracting the messages from a digest message.</li>
<li><a href="https://www.gnu.org/software/emacs/manual/html_node/emacs/Rmail-Rot13.html#Rmail-Rot13" target="_blank" rel="noopener">Rot13</a>: Reading messages encoded in the rot13 code.</li>
<li><a href="https://www.gnu.org/software/emacs/manual/html_node/emacs/Movemail.html#Movemail" target="_blank" rel="noopener">Movemail</a>: More details of fetching new mail.</li>
<li><a href="https://www.gnu.org/software/emacs/manual/html_node/emacs/Remote-Mailboxes.html#Remote-Mailboxes" target="_blank" rel="noopener">Remote Mailboxes</a>: Retrieving mail from remote mailboxes.</li>
<li><a href="https://www.gnu.org/software/emacs/manual/html_node/emacs/Other-Mailbox-Formats.html#Other-Mailbox-Formats" target="_blank" rel="noopener">Other Mailbox Formats</a>: Retrieving mail from local mailboxes in various formats.</li>
</ul>
<h2 id="34-Email-and-Usenet-News-with-Gnus"><a href="#34-Email-and-Usenet-News-with-Gnus" class="headerlink" title="34 Email and Usenet News with Gnus"></a>34 Email and Usenet News with Gnus</h2><p><a href="https://emacs.stackexchange.com/questions/12927/reading-and-writing-email-with-emacs" target="_blank" rel="noopener">Reading and writing email with emacs - Emacs Stack Exchange</a></p>
<p>Gnus is an Emacs package primarily designed for reading and posting Usenet news. It can also be used to read and respond to messages from a number of other sources—email, remote directories, digests, and so on. Here we introduce Gnus and describe several basic features. For full details, see <a href="https://www.gnu.org/software/emacs/manual/html_node/gnus/index.html#Top" target="_blank" rel="noopener">Gnus</a>.</p>
<ul>
<li><p><a href="https://www.gnu.org/software/emacs/manual/html_node/emacs/Buffers-of-Gnus.html#Buffers-of-Gnus" target="_blank" rel="noopener">Buffers of Gnus</a>: The group, summary, and article buffers.</p>
</li>
<li><p><a href="https://www.gnu.org/software/emacs/manual/html_node/emacs/Gnus-Startup.html#Gnus-Startup" target="_blank" rel="noopener">Gnus Startup</a>: What you should know about starting Gnus.</p>
</li>
<li><p><a href="https://www.gnu.org/software/emacs/manual/html_node/emacs/Gnus-Group-Buffer.html#Gnus-Group-Buffer" target="_blank" rel="noopener">Gnus Group Buffer</a>: A short description of Gnus group commands.</p>
</li>
<li><p><a href="https://www.gnu.org/software/emacs/manual/html_node/emacs/Gnus-Summary-Buffer.html#Gnus-Summary-Buffer" target="_blank" rel="noopener">Gnus Summary Buffer</a>: A short description of Gnus summary commands.</p>
</li>
</ul>
<h2 id="35-Host-Security"><a href="#35-Host-Security" class="headerlink" title="35 Host Security"></a>35 Host Security</h2><p>Emacs runs inside an operating system such as GNU/Linux, and relies on the operating system to check security constraints such as accesses to files. The default settings for Emacs are designed for typical use; they may require some tailoring in environments where security is more of a concern, or less of a concern, than usual. For example, file-local variables can be risky, and you can set the variable <code>enable-local-variables</code> to <code>:safe</code> or (even more conservatively) to <code>nil</code>; conversely, if your files can all be trusted and the default checking for these variables is irritating, you can set <code>enable-local-variables</code> to <code>:all</code>. See <a href="https://www.gnu.org/software/emacs/manual/html_node/emacs/Safe-File-Variables.html#Safe-File-Variables" target="_blank" rel="noopener">Safe File Variables</a>.</p>
<p>See <a href="https://www.gnu.org/software/emacs/manual/html_node/elisp/Security-Considerations.html#Security-Considerations" target="_blank" rel="noopener">Security Considerations</a>, for more information about security considerations when using Emacs as part of a larger application.</p>
<h2 id="36-Network-Security"><a href="#36-Network-Security" class="headerlink" title="36 Network Security"></a>36 Network Security</h2><p>Whenever Emacs establishes any network connection, it passes the established connection to the Network Security Manager (NSM). NSM is responsible for enforcing the network security under your control. Currently, this works by using the Transport Layer Security (TLS) features.</p>
<p>The <code>network-security-level</code> variable determines the security level that NSM enforces. If its value is <code>low</code>, no security checks are performed.</p>
<p>If this variable is <code>medium</code> (which is the default), a number of checks will be performed. If as result NSM determines that the network connection might not be trustworthy, it will make you aware of that, and will ask you what to do about the network connection.</p>
<p>You can decide to register a permanent security exception for an unverified connection, a temporary exception, or refuse the connection entirely.</p>
<p>Below is a list of the checks done on the <code>medium</code> level.</p>
<ul>
<li><p>unable to verify a TLS certificate</p>
<p>If the connection is a TLS, SSL or STARTTLS connection, NSM will check whether the certificate used to establish the identity of the server we’re connecting to can be verified.While an invalid certificate is often the cause for concern (there could be a Man-in-the-Middle hijacking your network connection and stealing your password), there may be valid reasons for going ahead with the connection anyway. For instance, the server may be using a self-signed certificate, or the certificate may have expired. It’s up to you to determine whether it’s acceptable to continue with the connection.  </p>
</li>
<li><p>a self-signed certificate has changed</p>
<p>If you’ve previously accepted a self-signed certificate, but it has now changed, that could mean that the server has just changed the certificate, but it might also mean that the network connection has been hijacked.  </p>
</li>
<li><p>previously encrypted connection now unencrypted</p>
<p>If the connection is unencrypted, but it was encrypted in previous sessions, this might mean that there is a proxy between you and the server that strips away STARTTLSannouncements, leaving the connection unencrypted. This is usually very suspicious.  </p>
</li>
<li><p>talking to an unencrypted service when sending a password</p>
<p>When connecting to an IMAP or POP3 server, these should usually be encrypted, because it’s common to send passwords over these connections. Similarly, if you’re sending email via SMTP that requires a password, you usually want that connection to be encrypted. If the connection isn’t encrypted, NSM will warn you.</p>
</li>
</ul>
<p>If <code>network-security-level</code> is <code>high</code>, the following checks will be made, in addition to the above:</p>
<ul>
<li><p>a validated certificate changes the public key</p>
<p>Servers change their keys occasionally, and that is normally nothing to be concerned about. However, if you are worried that your network connections are being hijacked by agencies who have access to pliable Certificate Authorities which issue new certificates for third-party services, you may want to keep track of these changes.  </p>
</li>
<li><p>Diffie-Hellman low prime bits</p>
<p>When doing the public key exchange, the number of prime bits should be high to ensure that the channel can’t be eavesdropped on by third parties. If this number is too low, you will be warned.  </p>
</li>
<li><p>RC4 stream cipher</p>
<p>The RC4 stream cipher is believed to be of low quality and may allow eavesdropping by third parties.  </p>
</li>
<li><p>SSL1, SSL2 and SSL3</p>
<p>The protocols older than TLS1.0 are believed to be vulnerable to a variety of attacks, and you may want to avoid using these if what you’re doing requires higher security.</p>
</li>
</ul>
<p>Finally, if <code>network-security-level</code> is <code>paranoid</code>, you will also be notified the first time NSM sees any new certificate. This will allow you to inspect all the certificates from all the connections that Emacs makes.</p>
<p>The following additional variables can be used to control details of NSM operation:</p>
<ul>
<li><p><code>nsm-settings-file</code></p>
<p>This is the file where NSM stores details about connections. It defaults to ~/.emacs.d/network-security.data.  </p>
</li>
<li><p><code>nsm-save-host-names</code></p>
<p>By default, host names will not be saved for non-<code>STARTTLS</code> connections. Instead a host/port hash is used to identify connections. This means that one can’t casually read the settings file to see what servers the user has connected to. If this variable is <code>t</code>, NSM will also save host names in the <code>nsm-settings-file</code>.</p>
</li>
</ul>
<h2 id="37-Document-Viewing"><a href="#37-Document-Viewing" class="headerlink" title="37 Document Viewing"></a>37 Document Viewing</h2><p>DocView mode is a major mode for viewing DVI, PostScript (PS), PDF, OpenDocument, and Microsoft Office documents. It provides features such as slicing, zooming, and searching inside documents. It works by converting the document to a set of images using the gs (GhostScript) or mudraw/pdfdraw (MuPDF) commands and other external tools <a href="https://www.gnu.org/software/emacs/manual/html_node/emacs/Document-View.html#fn-1" target="_blank" rel="noopener">1</a>, and displaying those images.</p>
<p>When you visit a document file that can be displayed with DocView mode, Emacs automatically uses that mode <a href="https://www.gnu.org/software/emacs/manual/html_node/emacs/Document-View.html#fn-2" target="_blank" rel="noopener">2</a>. As an exception, when you visit a PostScript file, Emacs switches to PS mode, a major mode for editing PostScript files as text; however, it also enables DocView minor mode, so you can type C-c C-c to view the document with DocView. In either DocView mode or DocView minor mode, repeating C-c C-c (<code>doc-view-toggle-display</code>) toggles between DocView and the underlying file contents.</p>
<p>When you visit a file which would normally be handled by DocView mode but some requirement is not met (e.g., you operate in a terminal frame or Emacs has no PNG support), you are queried if you want to view the document’s contents as plain text. If you confirm, the buffer is put in text mode and DocView minor mode is activated. Thus, by typing C-c C-cyou switch to the fallback mode. With another C-c C-c you return to DocView mode. The plain text contents can also be displayed from within DocView mode by typing C-c C-t(<code>doc-view-open-text</code>).</p>
<p>You can explicitly enable DocView mode with the command M-x doc-view-mode. You can toggle DocView minor mode with M-x doc-view-minor-mode.</p>
<p>When DocView mode starts, it displays a welcome screen and begins formatting the file, page by page. It displays the first page once that has been formatted.</p>
<p>To kill the DocView buffer, type k (<code>doc-view-kill-proc-and-buffer</code>). To bury it, type q (<code>quit-window</code>).</p>
<ul>
<li><a href="https://www.gnu.org/software/emacs/manual/html_node/emacs/DocView-Navigation.html#DocView-Navigation" target="_blank" rel="noopener">Navigation</a>: Navigating DocView buffers.</li>
<li><a href="https://www.gnu.org/software/emacs/manual/html_node/emacs/DocView-Searching.html#DocView-Searching" target="_blank" rel="noopener">Searching</a>: Searching inside documents.</li>
<li><a href="https://www.gnu.org/software/emacs/manual/html_node/emacs/DocView-Slicing.html#DocView-Slicing" target="_blank" rel="noopener">Slicing</a>: Specifying which part of a page is displayed.</li>
<li><a href="https://www.gnu.org/software/emacs/manual/html_node/emacs/DocView-Conversion.html#DocView-Conversion" target="_blank" rel="noopener">Conversion</a>: Influencing and triggering conversion.</li>
</ul>
<h2 id="38-Running-Shell-Commands-from-Emacs"><a href="#38-Running-Shell-Commands-from-Emacs" class="headerlink" title="38 Running Shell Commands from Emacs"></a>38 Running Shell Commands from Emacs</h2><blockquote>
<p>基本的命令能调动,<br>program invoke editors.</p>
</blockquote>
<p>Emacs has commands for passing single command lines to shell subprocesses, and for running a shell interactively with input and output to an Emacs buffer, and for running a shell in a terminal emulator window.</p>
<ul>
<li><p>M-! cmd <ret></ret></p>
<p>Run the shell command cmd and display the output (<code>shell-command</code>).  </p>
</li>
<li><p>M-| cmd <ret></ret></p>
<p>Run the shell command cmd with region contents as input; optionally replace the region with the output (<code>shell-command-on-region</code>).  </p>
</li>
<li><p>M-&amp; cmd <ret></ret></p>
<p>Run the shell command cmd asynchronously, and display the output (<code>async-shell-command</code>).  </p>
</li>
<li><p>M-x shell</p>
<p>Run a subshell with input and output through an Emacs buffer. You can then give commands interactively.  </p>
</li>
<li><p>M-x term</p>
<p>Run a subshell with input and output through an Emacs buffer. You can then give commands interactively. Full terminal emulation is available.</p>
</li>
</ul>
<p>Whenever you specify a relative file name for an executable program (either in the cmd argument to one of the above commands, or in other contexts), Emacs searches for the program in the directories specified by the variable <code>exec-path</code>. The value of this variable must be a list of directories; the default value is initialized from the environment variable PATH when Emacs is started (see <a href="https://www.gnu.org/software/emacs/manual/html_node/emacs/General-Variables.html#General-Variables" target="_blank" rel="noopener">General Variables</a>).</p>
<p>M-x eshell invokes a shell implemented entirely in Emacs. It is documented in its own manual. See <a href="https://www.gnu.org/software/emacs/manual/html_node/eshell/index.html#Top" target="_blank" rel="noopener">Eshell</a>.</p>
<ul>
<li><a href="https://www.gnu.org/software/emacs/manual/html_node/emacs/Single-Shell.html#Single-Shell" target="_blank" rel="noopener">Single Shell</a>: How to run one shell command and return.</li>
<li><a href="https://www.gnu.org/software/emacs/manual/html_node/emacs/Interactive-Shell.html#Interactive-Shell" target="_blank" rel="noopener">Interactive Shell</a>: Permanent shell taking input via Emacs.</li>
<li><a href="https://www.gnu.org/software/emacs/manual/html_node/emacs/Shell-Mode.html#Shell-Mode" target="_blank" rel="noopener">Shell Mode</a>: Special Emacs commands used with permanent shell.</li>
<li><a href="https://www.gnu.org/software/emacs/manual/html_node/emacs/Shell-Prompts.html#Shell-Prompts" target="_blank" rel="noopener">Shell Prompts</a>: Two ways to recognize shell prompts.</li>
<li><a href="https://www.gnu.org/software/emacs/manual/html_node/emacs/Shell-History.html#Shell-History" target="_blank" rel="noopener">History</a>: Repeating previous commands in a shell buffer.</li>
<li><a href="https://www.gnu.org/software/emacs/manual/html_node/emacs/Directory-Tracking.html#Directory-Tracking" target="_blank" rel="noopener">Directory Tracking</a>: Keeping track when the subshell changes directory.</li>
<li><a href="https://www.gnu.org/software/emacs/manual/html_node/emacs/Shell-Options.html#Shell-Options" target="_blank" rel="noopener">Options</a>: Options for customizing Shell mode.</li>
<li><a href="https://www.gnu.org/software/emacs/manual/html_node/emacs/Terminal-emulator.html#Terminal-emulator" target="_blank" rel="noopener">Terminal emulator</a>: An Emacs window as a terminal emulator.</li>
<li><a href="https://www.gnu.org/software/emacs/manual/html_node/emacs/Term-Mode.html#Term-Mode" target="_blank" rel="noopener">Term Mode</a>: Special Emacs commands used in Term mode.</li>
<li><a href="https://www.gnu.org/software/emacs/manual/html_node/emacs/Remote-Host.html#Remote-Host" target="_blank" rel="noopener">Remote Host</a>: Connecting to another computer.</li>
<li><a href="https://www.gnu.org/software/emacs/manual/html_node/emacs/Serial-Terminal.html#Serial-Terminal" target="_blank" rel="noopener">Serial Terminal</a>: Connecting to a serial port.</li>
</ul>
<h2 id="39-Using-Emacs-as-a-Server"><a href="#39-Using-Emacs-as-a-Server" class="headerlink" title="39 Using Emacs as a Server"></a>39 Using Emacs as a Server</h2><p>Various programs can invoke your choice of editor to edit a particular piece of text. </p>
<blockquote>
<p>这话说得真绕弯儿.<br><a href="https://www.gnu.org/software/emacs/manual/html_node/emacs/Emacs-Server.html#Emacs-Server" target="_blank" rel="noopener">Using Emacs as a Server</a></p>
</blockquote>
<p>For instance, version control programs invoke an editor to enter version control logs (see <a href="https://www.gnu.org/software/emacs/manual/html_node/emacs/Version-Control.html#Version-Control" target="_blank" rel="noopener">Version Control</a>), and the Unix mail utility invokes an editor to enter a message to send. By convention, your choice of editor is specified by the environment variable EDITOR. If you setEDITOR to ‘emacs’, Emacs would be invoked, but in an inconvenient way—by starting a new Emacs process. This is inconvenient because the new Emacs process doesn’t share buffers, a command history, or other kinds of information with any existing Emacs process.</p>
<p>You can solve this problem by setting up Emacs as an edit server, so that it “listens” for external edit requests and acts accordingly. There are various ways to start an Emacs server:</p>
<ul>
<li><p>Run the command <code>server-start</code> in an existing Emacs process: either type M-x server-start, or put the expression <code>(server-start)</code> in your init file (see <a href="https://www.gnu.org/software/emacs/manual/html_node/emacs/Init-File.html#Init-File" target="_blank" rel="noopener">Init File</a>). The existing Emacs process is the server; when you exit Emacs, the server dies with the Emacs process.</p>
</li>
<li><p>Run Emacs as a daemon, using one of the ‘–daemon’ command-line options. See <a href="https://www.gnu.org/software/emacs/manual/html_node/emacs/Initial-Options.html#Initial-Options" target="_blank" rel="noopener">Initial Options</a>. When Emacs is started this way, it calls <code>server-start</code> after initialization and does not open an initial frame. It then waits for edit requests from clients.</p>
</li>
<li><p>If your operating system uses systemd to manage startup, you can automatically start Emacs in daemon mode when you login using the supplied systemd unit file. To activate this:</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">systemctl --user <span class="built_in">enable</span> emacs</span><br><span class="line"><span class="comment"># 此方法不可行.</span></span><br></pre></td></tr></table></figure>
<p>(If your Emacs was installed into a non-standard location, you may need to copy the emacs.service file to a standard directory such as ~/.config/systemd/user/.)</p>
</li>
<li><p>An external process can invoke the Emacs server when a connection event occurs upon a specified socket and pass the socket to the new Emacs server process. An instance of this is the socket functionality of systemd: the systemd service creates a socket and listens for connections on it; when emacsclient connects to it for the first time, systemd can launch the Emacs server and hand over the socket to it for servicing emacsclient connections. A setup to use this functionality could be:</p>
<p><code>~/.config/systemd/user/emacs.socket:</code></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">[Socket]</span><br><span class="line">       ListenStream=/path/to/.emacs.socket       </span><br><span class="line"> [Install]</span><br><span class="line"> WantedBy=sockets.target</span><br></pre></td></tr></table></figure>
<p>(The emacs.service file described above must also be installed.)</p>
<p>The <code>ListenStream</code> path will be the path that Emacs listens for connections from emacsclient; this is a file of your choice.</p>
</li>
</ul>
<p>Once an Emacs server is started, you can use a shell command called emacsclient to connect to the Emacs process and tell it to visit a file. You can then set the EDITOR environment variable to ‘emacsclient’, so that external programs will use the existing Emacs process for editing.<a href="https://www.gnu.org/software/emacs/manual/html_node/emacs/Emacs-Server.html#fn-1" target="_blank" rel="noopener">1</a></p>
<p>You can run multiple Emacs servers on the same machine by giving each one a unique server name, using the variable <code>server-name</code>. For example, M-x set-variable <ret> server-name <ret> “foo” <ret> sets the server name to ‘foo’. The <code>emacsclient</code> program can specify a server by name, using the ‘-s’ or the ‘-f’ option (see <a href="https://www.gnu.org/software/emacs/manual/html_node/emacs/emacsclient-Options.html#emacsclient-Options" target="_blank" rel="noopener">emacsclient Options</a>), depending on whether or not the server uses a TCP socket (see <a href="https://www.gnu.org/software/emacs/manual/html_node/emacs/TCP-Emacs-server.html#TCP-Emacs-server" target="_blank" rel="noopener">TCP Emacs server</a>).</ret></ret></ret></p>
<p>If you want to run multiple Emacs daemons (see <a href="https://www.gnu.org/software/emacs/manual/html_node/emacs/Initial-Options.html#Initial-Options" target="_blank" rel="noopener">Initial Options</a>), you can give each daemon its own server name like this:</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">emacs --daemon=foo</span><br></pre></td></tr></table></figure>
<p>If you have defined a server by a unique server name, it is possible to connect to the server from another Emacs instance and evaluate Lisp expressions on the server, using the <code>server-eval-at</code> function. For instance, <code>(server-eval-at &quot;foo&quot; &#39;(+ 1 2))</code> evaluates the expression <code>(+ 1 2)</code> on the ‘foo’ server, and returns <code>3</code>. (If there is no server with that name, an error is signaled.) Currently, this feature is mainly useful for developers.</p>
<ul>
<li><a href="https://www.gnu.org/software/emacs/manual/html_node/emacs/TCP-Emacs-server.html#TCP-Emacs-server" target="_blank" rel="noopener">TCP Emacs server</a>: Listening to a TCP socket.</li>
<li><a href="https://www.gnu.org/software/emacs/manual/html_node/emacs/Invoking-emacsclient.html#Invoking-emacsclient" target="_blank" rel="noopener">Invoking emacsclient</a>: Connecting to the Emacs server.</li>
<li><a href="https://www.gnu.org/software/emacs/manual/html_node/emacs/emacsclient-Options.html#emacsclient-Options" target="_blank" rel="noopener">emacsclient Options</a>: Emacs client startup options.</li>
</ul>
<h3 id="39-1-TCP-Emacs-server"><a href="#39-1-TCP-Emacs-server" class="headerlink" title="39.1 TCP Emacs server"></a>39.1 TCP Emacs server</h3><p>An Emacs server usually listens to connections on a local Unix domain socket. Some operating systems, such as MS-Windows, do not support local sockets; in that case, the server uses TCP sockets instead. In some cases it is useful to have the server listen on a TCP socket even if local sockets are supported, e.g., if you need to contact the Emacs server from a remote machine. You can set <code>server-use-tcp</code> to non-<code>nil</code> to have Emacs listen on a TCP socket instead of a local socket. This is the default if your OS does not support local sockets.</p>
<p>If the Emacs server is set to use TCP, it will by default listen on a random port on the localhost interface. This can be changed to another interface and/or a fixed port using the variables <code>server-host</code> and <code>server-port</code>.</p>
<p>A TCP socket is not subject to file system permissions. To retain some control over which users can talk to an Emacs server over TCP sockets, the emacsclient program must send an authorization key to the server. This key is normally randomly generated by the Emacs server. This is the recommended mode of operation.</p>
<p>If needed, you can set the authorization key to a static value by setting the <code>server-auth-key</code> variable. The key must consist of 64 ASCII printable characters except for space (this means characters from ‘!’ to ‘~’, or from decimal code 33 to 126). You can use M-x server-generate-key to get a random key.</p>
<p>When you start a TCP Emacs server, Emacs creates a server file containing the TCP information to be used by emacsclient to connect to the server. The variable <code>server-auth-dir</code>specifies the default directory containing the server file; by default, this is ~/.emacs.d/server/. In the absence of a local socket with file permissions, the permissions of this directory determine which users can have their emacsclient processes talk to the Emacs server. If <code>server-name</code> is an absolute file name, the server file is created where specified by that file name.</p>
<p>To tell emacsclient to connect to the server over TCP with a specific server file, use the ‘-f’ or ‘–server-file’ option, or set the EMACS_SERVER_FILE environment variable (see <a href="https://www.gnu.org/software/emacs/manual/html_node/emacs/emacsclient-Options.html#emacsclient-Options" target="_blank" rel="noopener">emacsclient Options</a>). If <code>server-auth-dir</code> is set to a non-standard value, or if <code>server-name</code> is set to an absolute file name, emacsclient needs an absolute file name to the server file, as the default <code>server-auth-dir</code> is hard-coded in emacsclient to be used as the directory for resolving relative filenames.</p>
<h3 id="39-2-Invoking-emacsclient"><a href="#39-2-Invoking-emacsclient" class="headerlink" title="39.2 Invoking emacsclient"></a>39.2 Invoking <code>emacsclient</code></h3><p>The simplest way to use the emacsclient program is to run the shell command ‘emacsclient file’, where file is a file name. This connects to an Emacs server, and tells that Emacs process to visit file in one of its existing frames—either a graphical frame, or one in a text terminal (see <a href="https://www.gnu.org/software/emacs/manual/html_node/emacs/Frames.html#Frames" target="_blank" rel="noopener">Frames</a>). You can then select that frame to begin editing.</p>
<p>If there is no Emacs server, the emacsclient program halts with an error message (you can prevent this from happening by using the ‘–alternate-editor=””’ option to emacsclient, see <a href="https://www.gnu.org/software/emacs/manual/html_node/emacs/emacsclient-Options.html#emacsclient-Options" target="_blank" rel="noopener">emacsclient Options</a>). If the Emacs process has no existing frame—which can happen if it was started as a daemon (see <a href="https://www.gnu.org/software/emacs/manual/html_node/emacs/Emacs-Server.html#Emacs-Server" target="_blank" rel="noopener">Emacs Server</a>)—then Emacs opens a frame on the terminal in which you called emacsclient.</p>
<p>You can also force emacsclient to open a new frame on a graphical display using the ‘-c’ option, or on a text terminal using the ‘-t’ option. See <a href="https://www.gnu.org/software/emacs/manual/html_node/emacs/emacsclient-Options.html#emacsclient-Options" target="_blank" rel="noopener">emacsclient Options</a>.</p>
<p>If you are running on a single text terminal, you can switch between emacsclient’s shell and the Emacs server using one of two methods: (i) run the Emacs server and emacsclienton different virtual terminals, and switch to the Emacs server’s virtual terminal after calling emacsclient; or (ii) call emacsclient from within the Emacs server itself, using Shell mode (see <a href="https://www.gnu.org/software/emacs/manual/html_node/emacs/Interactive-Shell.html#Interactive-Shell" target="_blank" rel="noopener">Interactive Shell</a>) or Term mode (see <a href="https://www.gnu.org/software/emacs/manual/html_node/emacs/Term-Mode.html#Term-Mode" target="_blank" rel="noopener">Term Mode</a>); emacsclient blocks only the subshell under Emacs, and you can still use Emacs to edit the file.</p>
<p>When you finish editing file in the Emacs server, type C-x # (<code>server-edit</code>) in its buffer. This saves the file and sends a message back to the emacsclient program, telling it to exit. Programs that use EDITOR usually wait for the editor—in this case emacsclient—to exit before doing something else.</p>
<p>You can also call emacsclient with multiple file name arguments: ‘emacsclient file1 file2 …’ tells the Emacs server to visit file1, file2, and so forth. Emacs selects the buffer visiting file1, and buries the other buffers at the bottom of the buffer list (see <a href="https://www.gnu.org/software/emacs/manual/html_node/emacs/Buffers.html#Buffers" target="_blank" rel="noopener">Buffers</a>). The emacsclient program exits once all the specified files are finished (i.e., once you have typed C-x # in each server buffer).</p>
<p>Finishing with a server buffer also kills the buffer, unless it already existed in the Emacs session before the server was asked to create it. However, if you set <code>server-kill-new-buffers</code> to <code>nil</code>, then a different criterion is used: finishing with a server buffer kills it if the file name matches the regular expression <code>server-temp-file-regexp</code>. This is set up to distinguish certain temporary files.</p>
<p>Each C-x # checks for other pending external requests to edit various files, and selects the next such file. You can switch to a server buffer manually if you wish; you don’t have to arrive at it with C-x #. But C-x # is the way to tell emacsclient that you are finished.</p>
<p>If you set the value of the variable <code>server-window</code> to a window or a frame, C-x # always displays the next server buffer in that window or in that frame.</p>
<h3 id="39-3-emacsclient-Options"><a href="#39-3-emacsclient-Options" class="headerlink" title="39.3 emacsclient Options"></a>39.3 <code>emacsclient</code> Options</h3><p>You can pass some optional arguments to the emacsclient program, such as:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">emacsclient -c +12 file1 +4:3 file2</span><br></pre></td></tr></table></figure>
<p>The ‘+line’ or ‘+line:column’ arguments specify line numbers, or line and column numbers, for the next file argument. These behave like the command line arguments for Emacs itself. See <a href="https://www.gnu.org/software/emacs/manual/html_node/emacs/Action-Arguments.html#Action-Arguments" target="_blank" rel="noopener">Action Arguments</a>.</p>
<p>The other optional arguments recognized by emacsclient are listed below:</p>
<ul>
<li><p>‘-a command’</p>
</li>
<li><p>‘–alternate-editor=command’</p>
<p>Specify a shell command to run if emacsclient fails to contact Emacs. This is useful when running <code>emacsclient</code> in a script. The command may include arguments, which may be quoted “like this”. Currently, escaping of quotes is not supported.As a special exception, if command is the empty string, then emacsclient starts Emacs in daemon mode (as ‘emacs –daemon’) and then tries connecting again.The environment variable ALTERNATE_EDITOR has the same effect as the ‘-a’ option. If both are present, the latter takes precedence. </p>
</li>
<li><p>‘-c’</p>
</li>
<li><p>‘–create-frame’</p>
<p>Create a new graphical client frame, instead of using an existing Emacs frame. See below for the special behavior of C-x C-c in a client frame. If Emacs cannot create a new graphical frame (e.g., if it cannot connect to the X server), it tries to create a text terminal client frame, as though you had supplied the ‘-t’ option instead.On MS-Windows, a single Emacs session cannot display frames on both graphical and text terminals, nor on multiple text terminals. Thus, if the Emacs server is running on a text terminal, the ‘-c’ option, like the ‘-t’ option, creates a new frame in the server’s current text terminal. See <a href="https://www.gnu.org/software/emacs/manual/html_node/emacs/Windows-Startup.html#Windows-Startup" target="_blank" rel="noopener">Windows Startup</a>.If you omit a filename argument while supplying the ‘-c’ option, the new frame displays the <em>scratch</em> buffer by default. You can customize this behavior with the variable <code>initial-buffer-choice</code> (see <a href="https://www.gnu.org/software/emacs/manual/html_node/emacs/Entering-Emacs.html#Entering-Emacs" target="_blank" rel="noopener">Entering Emacs</a>).  </p>
</li>
<li><p>‘-F alist’</p>
</li>
<li><p>‘–frame-parameters=alist’</p>
<p>Set the parameters for a newly-created graphical frame (see <a href="https://www.gnu.org/software/emacs/manual/html_node/emacs/Frame-Parameters.html#Frame-Parameters" target="_blank" rel="noopener">Frame Parameters</a>).  </p>
</li>
<li><p>‘-d display’</p>
</li>
<li><p>‘–display=display’</p>
<p>Tell Emacs to open the given files on the X display display (assuming there is more than one X display available).  </p>
</li>
<li><p>‘-e’</p>
</li>
<li><p>‘–eval’</p>
<p>Tell Emacs to evaluate some Emacs Lisp code, instead of visiting some files. When this option is given, the arguments to emacsclient are interpreted as a list of expressions to evaluate, <em>not</em> as a list of files to visit.  </p>
</li>
<li><p>‘-f server-file’</p>
</li>
<li><p>‘–server-file=server-file’</p>
<p>Specify a server file (see <a href="https://www.gnu.org/software/emacs/manual/html_node/emacs/TCP-Emacs-server.html#TCP-Emacs-server" target="_blank" rel="noopener">TCP Emacs server</a>) for connecting to an Emacs server via TCP. Alternatively, you can set the EMACS_SERVER_FILE environment variable to point to the server file. (The command-line option overrides the environment variable.)An Emacs server usually uses a local socket to listen for connections, but also supports connections over TCP. To connect to a TCP Emacs server, emacsclient needs to read a server file containing the connection details of the Emacs server. The name of this file is specified with this option, either as a file name relative to ~/.emacs.d/server or as an absolute file name. See <a href="https://www.gnu.org/software/emacs/manual/html_node/emacs/TCP-Emacs-server.html#TCP-Emacs-server" target="_blank" rel="noopener">TCP Emacs server</a>.  </p>
</li>
<li><p>‘-n’</p>
</li>
<li><p>‘–no-wait’</p>
<p>Let emacsclient exit immediately, instead of waiting until all server buffers are finished. You can take as long as you like to edit the server buffers within Emacs, and they are <em>not</em> killed when you type C-x # in them.  </p>
</li>
<li><p>‘–parent-id id’</p>
<p>Open an emacsclient frame as a client frame in the parent X window with id id, via the XEmbed protocol. Currently, this option is mainly useful for developers.  </p>
</li>
<li><p>‘-q’</p>
</li>
<li><p>‘–quiet’</p>
<p>Do not let emacsclient display messages about waiting for Emacs or connecting to remote server sockets.  </p>
</li>
<li><p>‘-u’</p>
</li>
<li><p>‘–suppress-output’</p>
<p>Do not let emacsclient display results returned from the server. Mostly useful in combination with ‘-e’ when the evaluation performed is for side-effect rather than result.  </p>
</li>
<li><p>‘-s server-name’</p>
</li>
<li><p>‘–socket-name=server-name’</p>
<p>Connect to the Emacs server named server-name. (This option is not supported on MS-Windows.) The server name is given by the variable <code>server-name</code> on the Emacs server. If this option is omitted, emacsclient connects to the first server it finds. If you set <code>server-name</code> of the Emacs server to an absolute file name, give the same absolute file name as server-name to this option to instruct emacsclient to connect to that server.  </p>
</li>
<li><p>‘-t’</p>
</li>
<li><p>‘–tty’</p>
</li>
<li><p>‘-nw’</p>
<p>Create a new client frame on the current text terminal, instead of using an existing Emacs frame. This behaves just like the ‘-c’ option, described above, except that it creates a text terminal frame (see <a href="https://www.gnu.org/software/emacs/manual/html_node/emacs/Non_002dWindow-Terminals.html#Non_002dWindow-Terminals" target="_blank" rel="noopener">Non-Window Terminals</a>).On MS-Windows, ‘-t’ behaves just like ‘-c’ if the Emacs server is using the graphical display, but if the Emacs server is running on a text terminal, it creates a new frame in the current text terminal.  </p>
</li>
<li><p>‘-T tramp-prefix’</p>
</li>
<li><p>‘–tramp-prefix=tramp-prefix’</p>
<p>Set the prefix to add to filenames for Emacs to locate files on remote machines (see <a href="https://www.gnu.org/software/emacs/manual/html_node/emacs/Remote-Files.html#Remote-Files" target="_blank" rel="noopener">Remote Files</a>) using TRAMP (see <a href="https://www.gnu.org/software/emacs/manual/html_node/tramp/index.html#Top" target="_blank" rel="noopener">The Tramp Manual</a>). This is mostly useful in combination with using the Emacs server over TCP (see <a href="https://www.gnu.org/software/emacs/manual/html_node/emacs/TCP-Emacs-server.html#TCP-Emacs-server" target="_blank" rel="noopener">TCP Emacs server</a>). By ssh-forwarding the listening port and making the server-file available on a remote machine, programs on the remote machine can use emacsclient as the value for the EDITOR and similar environment variables, but instead of talking to an Emacs server on the remote machine, the files will be visited in the local Emacs session using TRAMP.Setting the environment variable EMACSCLIENT_TRAMP has the same effect as using the ‘-T’ option. If both are specified, the command-line option takes precedence.For example, assume two hosts, ‘local’ and ‘remote’, and that the local Emacs listens on tcp port 12345. Assume further that /home is on a shared file system, so that the server file ~/.emacs.d/server/server is readable on both hosts.</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">local</span>$ ssh -R12345:localhost:12345 remote</span><br><span class="line">remote$ <span class="built_in">export</span> EDITOR=<span class="string">"emacsclient \</span></span><br><span class="line"><span class="string">        --server-file=server \</span></span><br><span class="line"><span class="string">        --tramp=/ssh:remote:"</span></span><br><span class="line">remote$ <span class="variable">$EDITOR</span> /tmp/foo.txt <span class="comment">#Should open in local emacs.</span></span><br></pre></td></tr></table></figure>
</li>
</ul>
<p>The new graphical or text terminal frames created by the ‘-c’ or ‘-t’ options are considered client frames. Any new frame that you create from a client frame is also considered a client frame. If you type C-x C-c (<code>save-buffers-kill-terminal</code>) in a client frame, that command does not kill the Emacs session as it normally does (see <a href="https://www.gnu.org/software/emacs/manual/html_node/emacs/Exiting.html#Exiting" target="_blank" rel="noopener">Exiting</a>). Instead, Emacs deletes the client frame; furthermore, if the client frame has an emacsclient waiting to regain control (i.e., if you did not supply the ‘-n’ option), Emacs deletes all other frames of the same client, and marks the client’s server buffers as finished, as though you had typed C-x # in all of them. If it so happens that there are no remaining frames after the client frame(s) are deleted, the Emacs session exits.</p>
<p>As an exception, when Emacs is started as a daemon, all frames are considered client frames, and C-x C-c never kills Emacs. To kill a daemon session, type M-x kill-emacs.</p>
<p>Note that the ‘-t’ and ‘-n’ options are contradictory: ‘-t’ says to take control of the current text terminal to create a new client frame, while ‘-n’ says not to take control of the text terminal. If you supply both options, Emacs visits the specified files(s) in an existing frame rather than a new client frame, negating the effect of ‘-t’.</p>
<h2 id="40-Printing-Hard-Copies"><a href="#40-Printing-Hard-Copies" class="headerlink" title="40 Printing Hard Copies"></a>40 Printing Hard Copies</h2><blockquote>
<p>Device的部分.</p>
</blockquote>
<p>Emacs provides commands for printing hardcopies of either an entire buffer or part of one. You can invoke the printing commands directly, as detailed below, or using the ‘File’ menu on the menu bar.</p>
<p>Aside from the commands described in this section, you can also print hardcopies from Dired (see <a href="https://www.gnu.org/software/emacs/manual/html_node/emacs/Operating-on-Files.html#Operating-on-Files" target="_blank" rel="noopener">Operating on Files</a>) and the diary (see <a href="https://www.gnu.org/software/emacs/manual/html_node/emacs/Displaying-the-Diary.html#Displaying-the-Diary" target="_blank" rel="noopener">Displaying the Diary</a>). You can also “print” an Emacs buffer to HTML with the command M-x htmlfontify-buffer, which converts the current buffer to a HTML file, replacing Emacs faces with CSS-based markup. Furthermore, Org mode allows you to print Org files to a variety of formats, such as PDF (see <a href="https://www.gnu.org/software/emacs/manual/html_node/emacs/Org-Mode.html#Org-Mode" target="_blank" rel="noopener">Org Mode</a>).</p>
<ul>
<li><p>M-x print-buffer</p>
<p>Print hardcopy of current buffer with page headings containing the file name and page number.  </p>
</li>
<li><p>M-x lpr-buffer</p>
<p>Print hardcopy of current buffer without page headings.  </p>
</li>
<li><p>M-x print-region</p>
<p>Like <code>print-buffer</code> but print only the current region.  </p>
</li>
<li><p>M-x lpr-region</p>
<p>Like <code>lpr-buffer</code> but print only the current region.</p>
</li>
</ul>
<p>On most operating systems, the above hardcopy commands submit files for printing by calling the lpr program. To change the printer program, customize the variable <code>lpr-command</code>. To specify extra switches to give the printer program, customize the list variable <code>lpr-switches</code>. Its value should be a list of option strings, each of which should start with ‘-’ (e.g., the option string <code>&quot;-w80&quot;</code> specifies a line width of 80 columns). The default is the empty list, <code>nil</code>.</p>
<p>To specify the printer to use, set the variable <code>printer-name</code>. The default, <code>nil</code>, specifies the default printer. If you set it to a printer name (a string), that name is passed to lpr with the ‘-P’ switch; if you are not using lpr, you should specify the switch with <code>lpr-printer-switch</code>.</p>
<p>The variable <code>lpr-headers-switches</code> similarly specifies the extra switches to use to make page headers. The variable <code>lpr-add-switches</code> controls whether to supply ‘-T’ and ‘-J’ options (suitable for lpr) to the printer program: <code>nil</code> means don’t add them (this should be the value if your printer program is not compatible with lpr).</p>
<ul>
<li><a href="https://www.gnu.org/software/emacs/manual/html_node/emacs/PostScript.html#PostScript" target="_blank" rel="noopener">PostScript</a>: Printing buffers or regions as PostScript.</li>
<li><a href="https://www.gnu.org/software/emacs/manual/html_node/emacs/PostScript-Variables.html#PostScript-Variables" target="_blank" rel="noopener">PostScript Variables</a>: Customizing the PostScript printing commands.</li>
<li><a href="https://www.gnu.org/software/emacs/manual/html_node/emacs/Printing-Package.html#Printing-Package" target="_blank" rel="noopener">Printing</a></li>
</ul>
<h2 id="41-Sorting-Text"><a href="#41-Sorting-Text" class="headerlink" title="41 Sorting Text"></a>41 Sorting Text</h2><p>Emacs provides several commands for sorting text in the buffer. All operate on the contents of the region. They divide the text of the region into many sort records, identify a sort key for each record, and then reorder the records into the order determined by the sort keys. The records are ordered so that their keys are in alphabetical order, or, for numeric sorting, in numeric order. In alphabetic sorting, all upper-case letters ‘A’ through ‘Z’ come before lower-case ‘a’, in accordance with the ASCII character sequence (but <code>sort-fold-case</code>, described below, can change that).</p>
<p>The various sort commands differ in how they divide the text into sort records and in which part of each record is used as the sort key. Most of the commands make each line a separate sort record, but some commands use paragraphs or pages as sort records. Most of the sort commands use each entire sort record as its own sort key, but some use only a portion of the record as the sort key.</p>
<ul>
<li><p>M-x sort-lines</p>
<p>Divide the region into lines, and sort by comparing the entire text of a line. A numeric argument means sort into descending order.  </p>
</li>
<li><p>M-x sort-paragraphs</p>
<p>Divide the region into paragraphs, and sort by comparing the entire text of a paragraph (except for leading blank lines). A numeric argument means sort into descending order.  </p>
</li>
<li><p>M-x sort-pages</p>
<p>Divide the region into pages, and sort by comparing the entire text of a page (except for leading blank lines). A numeric argument means sort into descending order.  </p>
</li>
<li><p>M-x sort-fields</p>
<p>Divide the region into lines, and sort by comparing the contents of one field in each line. Fields are defined as separated by whitespace, so the first run of consecutive non-whitespace characters in a line constitutes field 1, the second such run constitutes field 2, etc.Specify which field to sort by with a numeric argument: 1 to sort by field 1, etc.; the default is 1. A negative argument means count fields from the right instead of from the left; thus, minus 1 means sort by the last field. If several lines have identical contents in the field being sorted, they keep the same relative order that they had in the original buffer.  </p>
</li>
<li><p>M-x sort-numeric-fields</p>
<p>Like M-x sort-fields except the specified field is converted to an integer for each line, and the numbers are compared. ‘10’ comes before ‘2’ when considered as text, but after it when considered as a number. By default, numbers are interpreted according to <code>sort-numeric-base</code>, but numbers beginning with ‘0x’ or ‘0’ are interpreted as hexadecimal and octal, respectively.  </p>
</li>
<li><p>M-x sort-columns</p>
<p>Like M-x sort-fields except that the text within each line used for comparison comes from a fixed range of columns. With a prefix argument, sort in reverse order. See below for more details on this command. </p>
</li>
<li><p>M-x reverse-region</p>
<p>Reverse the order of the lines in the region. This is useful for sorting into descending order by fields, since those sort commands do not have a feature for doing that.</p>
</li>
</ul>
<p>For example, if the buffer contains this:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">On systems where clash detection (locking of files being edited) is</span><br><span class="line">implemented, Emacs also checks the first time you modify a buffer</span><br><span class="line">whether the file has changed on disk since it was last visited or</span><br><span class="line">saved.  If it has, you are asked to confirm that you want to change</span><br><span class="line">the buffer.</span><br></pre></td></tr></table></figure>
<p>applying M-x sort-lines to the entire buffer produces this:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">On systems where clash detection (locking of files being edited) is</span><br><span class="line">implemented, Emacs also checks the first time you modify a buffer</span><br><span class="line">saved.  If it has, you are asked to confirm that you want to change</span><br><span class="line">the buffer.</span><br><span class="line">whether the file has changed on disk since it was last visited or</span><br></pre></td></tr></table></figure>
<p>where the upper-case ‘O’ sorts before all lower-case letters. If you use C-u 2 M-x sort-fields instead, you get this:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">implemented, Emacs also checks the first time you modify a buffer</span><br><span class="line">saved.  If it has, you are asked to confirm that you want to change</span><br><span class="line">the buffer.</span><br><span class="line">On systems where clash detection (locking of files being edited) is</span><br><span class="line">whether the file has changed on disk since it was last visited or</span><br></pre></td></tr></table></figure>
<p>where the sort keys were ‘Emacs’, ‘If’, ‘buffer’, ‘systems’ and ‘the’.</p>
<p>M-x sort-columns requires more explanation. You specify the columns by putting point at one of the columns and the mark at the other column. Because this means you cannot put point or the mark at the beginning of the first line of the text you want to sort, this command uses an unusual definition of “region”: all of the line point is in is considered part of the region, and so is all of the line the mark is in, as well as all the lines in between.</p>
<p>For example, to sort a table by information found in columns 10 to 15, you could put the mark on column 10 in the first line of the table, and point on column 15 in the last line of the table, and then run <code>sort-columns</code>. Equivalently, you could run it with the mark on column 15 in the first line and point on column 10 in the last line.</p>
<p>This can be thought of as sorting the rectangle specified by point and the mark, except that the text on each line to the left or right of the rectangle moves along with the text inside the rectangle. See <a href="https://www.gnu.org/software/emacs/manual/html_node/emacs/Rectangles.html#Rectangles" target="_blank" rel="noopener">Rectangles</a>.</p>
<p>Many of the sort commands ignore case differences when comparing, if <code>sort-fold-case</code> is non-<code>nil</code>.</p>
<h2 id="42-Editing-Pictures"><a href="#42-Editing-Pictures" class="headerlink" title="42 Editing Pictures"></a>42 Editing Pictures</h2><p>To edit a picture made out of text characters (for example, a picture of the division of a register into fields, as a comment in a program), use the command M-x picture-mode to enter Picture mode.</p>
<p>In Picture mode, editing is based on the quarter-plane model of text, according to which the text characters lie studded on an area that stretches infinitely far to the right and downward. The concept of the end of a line does not exist in this model; the most you can say is where the last nonblank character on the line is found.</p>
<p>Of course, Emacs really always considers text as a sequence of characters, and lines really do have ends. But Picture mode replaces the most frequently-used commands with variants that simulate the quarter-plane model of text. They do this by inserting spaces or by converting tabs to spaces.</p>
<p>Most of the basic editing commands of Emacs are redefined by Picture mode to do essentially the same thing but in a quarter-plane way. In addition, Picture mode defines various keys starting with the C-c prefix to run special picture editing commands.</p>
<p>One of these keys, C-c C-c, is particularly important. Often a picture is part of a larger file that is usually edited in some other major mode. Picture mode records the name of the previous major mode so you can use the C-c C-c command (<code>picture-mode-exit</code>) later to go back to that mode. C-c C-c also deletes spaces from the ends of lines, unless given a numeric argument.</p>
<p>The special commands of Picture mode all work in other modes (provided the picture library is loaded), but are not bound to keys except in Picture mode. The descriptions below talk of moving “one column” and so on, but all the picture mode commands handle numeric arguments as their normal equivalents do.</p>
<p>Turning on Picture mode runs the hook <code>picture-mode-hook</code>. Additional extensions to Picture mode can be found in artist.el.</p>
<ul>
<li><a href="https://www.gnu.org/software/emacs/manual/html_node/emacs/Basic-Picture.html#Basic-Picture" target="_blank" rel="noopener">Basic Picture</a>: Basic concepts and simple commands of Picture Mode.</li>
<li><a href="https://www.gnu.org/software/emacs/manual/html_node/emacs/Insert-in-Picture.html#Insert-in-Picture" target="_blank" rel="noopener">Insert in Picture</a>: Controlling direction of cursor motion after self-inserting characters.</li>
<li><a href="https://www.gnu.org/software/emacs/manual/html_node/emacs/Tabs-in-Picture.html#Tabs-in-Picture" target="_blank" rel="noopener">Tabs in Picture</a>: Various features for tab stops and indentation.</li>
<li><a href="https://www.gnu.org/software/emacs/manual/html_node/emacs/Rectangles-in-Picture.html#Rectangles-in-Picture" target="_blank" rel="noopener">Rectangles in Picture</a>: Clearing and superimposing rectangles.</li>
</ul>
<h2 id="43-Editing-Binary-Files"><a href="#43-Editing-Binary-Files" class="headerlink" title="43 Editing Binary Files"></a>43 Editing Binary Files</h2><p>There is a special major mode for editing binary files: Hexl mode. To use it, use M-x hexl-find-file instead of C-x C-f to visit the file. This command converts the file’s contents to hexadecimal and lets you edit the translation. When you save the file, it is converted automatically back to binary.</p>
<p>You can also use M-x hexl-mode to translate an existing buffer into hex. This is useful if you visit a file normally and then discover it is a binary file.</p>
<p>Ordinary text characters overwrite in Hexl mode. This is to reduce the risk of accidentally spoiling the alignment of data in the file. There are special commands for insertion. Here is a list of the commands of Hexl mode:</p>
<ul>
<li><p>C-M-d</p>
<p>Insert a byte with a code typed in decimal.  </p>
</li>
<li><p>C-M-o</p>
<p>Insert a byte with a code typed in octal.  </p>
</li>
<li><p>C-M-x</p>
<p>Insert a byte with a code typed in hex.  </p>
</li>
<li><p>C-x [</p>
<p>Move to the beginning of a 1k-byte page.  </p>
</li>
<li><p>C-x ]</p>
<p>Move to the end of a 1k-byte page.  </p>
</li>
<li><p>M-g</p>
<p>Move to an address specified in hex.  </p>
</li>
<li><p>M-j</p>
<p>Move to an address specified in decimal.  </p>
</li>
<li><p>C-c C-c</p>
<p>Leave Hexl mode, going back to the major mode this buffer had before you invoked <code>hexl-mode</code>.</p>
</li>
</ul>
<p>Other Hexl commands let you insert strings (sequences) of binary bytes, move by <code>short</code>s or <code>int</code>s, etc.; type C-h a hexl-<ret> for details.</ret></p>
<h2 id="44-Saving-Emacs-Sessions"><a href="#44-Saving-Emacs-Sessions" class="headerlink" title="44 Saving Emacs Sessions"></a>44 Saving Emacs Sessions</h2><p>Use the desktop library to save the state of Emacs from one session to another. Once you save the Emacs desktop—the buffers, their file names, major modes, buffer positions, and so on—then subsequent Emacs sessions reload the saved desktop. By default, the desktop also tries to save the frame and window configuration. To disable this, set <code>desktop-restore-frames</code> to <code>nil</code>. (See that variable’s documentation for some related options that you can customize to fine-tune this behavior.)</p>
<p>Information about buffers visiting remote files is not saved by default. Customize the variable <code>desktop-files-not-to-save</code> to change this.</p>
<p>When the desktop restores the frame and window configuration, it uses the recorded values of frame parameters, disregarding any settings for those parameters you have in your init file (see <a href="https://www.gnu.org/software/emacs/manual/html_node/emacs/Init-File.html#Init-File" target="_blank" rel="noopener">Init File</a>). This means that frame parameters such as fonts and faces for the restored frames will come from the desktop file, where they were saved when you exited your previous Emacs session; any settings for those parameters in your init file will be ignored. To disable this, customize the value of <code>frameset-filter-alist</code> to filter out the frame parameters you don’t want to be restored.</p>
<p>You can save the desktop manually with the command M-x desktop-save. You can also enable automatic saving of the desktop when you exit Emacs, and automatic restoration of the last saved desktop when Emacs starts: use the Customization buffer (see <a href="https://www.gnu.org/software/emacs/manual/html_node/emacs/Easy-Customization.html#Easy-Customization" target="_blank" rel="noopener">Easy Customization</a>) to set <code>desktop-save-mode</code> to <code>t</code> for future sessions, or add this line in your init file (see <a href="https://www.gnu.org/software/emacs/manual/html_node/emacs/Init-File.html#Init-File" target="_blank" rel="noopener">Init File</a>):</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">(desktop-save-mode 1)</span><br></pre></td></tr></table></figure>
<p>If you turn on <code>desktop-save-mode</code> in your init file, then when Emacs starts, it looks for a saved desktop in the current directory. (More precisely, it looks in the directories specified by <code>desktop-path</code>, and uses the first desktop it finds.) Thus, you can have separate saved desktops in different directories, and the starting directory determines which one Emacs reloads. You can save the current desktop and reload one saved in another directory by typing M-x desktop-change-dir. Typing M-x desktop-revert reverts to the desktop previously reloaded.</p>
<p>Specify the option ‘–no-desktop’ on the command line when you don’t want it to reload any saved desktop. This turns off <code>desktop-save-mode</code> for the current session. Starting Emacs with the ‘–no-init-file’ option also disables desktop reloading, since it bypasses the init file, where <code>desktop-save-mode</code> is usually turned on.</p>
<p>By default, all the buffers in the desktop are restored in one go. However, this may be slow if there are a lot of buffers in the desktop. You can specify the maximum number of buffers to restore immediately with the variable <code>desktop-restore-eager</code>; the remaining buffers are restored lazily, when Emacs is idle.</p>
<p>Type M-x desktop-clear to empty the Emacs desktop. This kills all buffers except for internal ones, and clears the global variables listed in <code>desktop-globals-to-clear</code>. If you want this to preserve certain buffers, customize the variable <code>desktop-clear-preserve-buffers-regexp</code>, whose value is a regular expression matching the names of buffers not to kill.</p>
<p>If you want to save minibuffer history from one session to another, use the <code>savehist</code> library.</p>
<p>While Emacs runs with <code>desktop-save-mode</code> turned on, it by default auto-saves the desktop whenever any of it changes. The variable <code>desktop-auto-save-timeout</code> determines how frequently Emacs checks for modifications to your desktop.</p>
<p>The file in which Emacs saves the desktop is locked while the session runs, to avoid inadvertently overwriting it from another Emacs session. That lock is normally removed when Emacs exits, but if Emacs or your system crashes, the lock stays, and when you restart Emacs, it will by default ask you whether to use the locked desktop file. You can avoid the question by customizing the variable <code>desktop-load-locked-desktop</code> to either <code>nil</code>, which means never load the desktop in this case, or <code>t</code>, which means load the desktop without asking.</p>
<p>When Emacs starts in daemon mode, it cannot ask you any questions, so if it finds the desktop file locked, it will not load it, unless <code>desktop-load-locked-desktop</code> is <code>t</code>. Note that restoring the desktop in daemon mode is somewhat problematic for other reasons: e.g., the daemon cannot use GUI features, so parameters such as frame position, size, and decorations cannot be restored. For that reason, you may wish to delay restoring the desktop in daemon mode until the first client connects, by calling <code>desktop-read</code> in a hook function that you add to <code>after-make-frame-functions</code> (see <a href="https://www.gnu.org/software/emacs/manual/html_node/elisp/Creating-Frames.html#Creating-Frames" target="_blank" rel="noopener">Creating Frames</a>).</p>
<h2 id="45-Recursive-Editing-Levels"><a href="#45-Recursive-Editing-Levels" class="headerlink" title="45 Recursive Editing Levels"></a>45 Recursive Editing Levels</h2><p>A recursive edit is a situation in which you are using Emacs commands to perform arbitrary editing while in the middle of another Emacs command. For example, when you type C-rinside of a <code>query-replace</code>, you enter a recursive edit in which you can change the current buffer. On exiting from the recursive edit, you go back to the <code>query-replace</code>. See <a href="https://www.gnu.org/software/emacs/manual/html_node/emacs/Query-Replace.html#Query-Replace" target="_blank" rel="noopener">Query Replace</a>.</p>
<p>Exiting the recursive edit means returning to the unfinished command, which continues execution. The command to exit is C-M-c (<code>exit-recursive-edit</code>).</p>
<p>You can also abort the recursive edit. This is like exiting, but also quits the unfinished command immediately. Use the command C-] (<code>abort-recursive-edit</code>) to do this. See <a href="https://www.gnu.org/software/emacs/manual/html_node/emacs/Quitting.html#Quitting" target="_blank" rel="noopener">Quitting</a>.</p>
<p>The mode line shows you when you are in a recursive edit by displaying square brackets around the parentheses that always surround the major and minor mode names. Every window’s mode line shows this in the same way, since being in a recursive edit is true of Emacs as a whole rather than any particular window or buffer.</p>
<p>It is possible to be in recursive edits within recursive edits. For example, after typing C-r in a <code>query-replace</code>, you may type a command that enters the debugger. This begins a recursive editing level for the debugger, within the recursive editing level for C-r. Mode lines display a pair of square brackets for each recursive editing level currently in progress.</p>
<p>Exiting the inner recursive edit (such as with the debugger c command) resumes the command running in the next level up. When that command finishes, you can then use C-M-c to exit another recursive editing level, and so on. Exiting applies to the innermost level only. Aborting also gets out of only one level of recursive edit; it returns immediately to the command level of the previous recursive edit. If you wish, you can then abort the next recursive editing level.</p>
<p>Alternatively, the command M-x top-level aborts all levels of recursive edits, returning immediately to the top-level command reader. It also exits the minibuffer, if it is active.</p>
<p>The text being edited inside the recursive edit need not be the same text that you were editing at top level. It depends on what the recursive edit is for. If the command that invokes the recursive edit selects a different buffer first, that is the buffer you will edit recursively. In any case, you can switch buffers within the recursive edit in the normal manner (as long as the buffer-switching keys have not been rebound). You could probably do all the rest of your editing inside the recursive edit, visiting files and all. But this could have surprising effects (such as stack overflow) from time to time. So remember to exit or abort the recursive edit when you no longer need it.</p>
<p>In general, we try to minimize the use of recursive editing levels in GNU Emacs. This is because they constrain you to go back in a particular order—from the innermost level toward the top level. When possible, we present different activities in separate buffers so that you can switch between them as you please. Some commands switch to a new major mode which provides a command to switch back. These approaches give you more flexibility to go back to unfinished tasks in the order you choose.</p>
<h2 id="46-Hyperlinking-and-Web-Navigation-Features"><a href="#46-Hyperlinking-and-Web-Navigation-Features" class="headerlink" title="46 Hyperlinking and Web Navigation Features"></a>46 Hyperlinking and Web Navigation Features</h2><p>The following subsections describe convenience features for handling URLs and other types of links occurring in Emacs buffer text.</p>
<ul>
<li><a href="https://www.gnu.org/software/emacs/manual/html_node/emacs/EWW.html#EWW" target="_blank" rel="noopener">EWW</a>: A web browser in Emacs.</li>
<li><a href="https://www.gnu.org/software/emacs/manual/html_node/emacs/Embedded-WebKit-Widgets.html#Embedded-WebKit-Widgets" target="_blank" rel="noopener">Embedded WebKit Widgets</a>: Embedding browser widgets in Emacs buffers.</li>
<li><a href="https://www.gnu.org/software/emacs/manual/html_node/emacs/Browse_002dURL.html#Browse_002dURL" target="_blank" rel="noopener">Browse-URL</a>: Following URLs.</li>
<li><a href="https://www.gnu.org/software/emacs/manual/html_node/emacs/Goto-Address-mode.html#Goto-Address-mode" target="_blank" rel="noopener">Goto Address mode</a>: Activating URLs.</li>
<li><a href="https://www.gnu.org/software/emacs/manual/html_node/emacs/FFAP.html#FFAP" target="_blank" rel="noopener">FFAP</a>: Finding files etc. at point.</li>
</ul>
<h2 id="47-Games-and-Other-Amusements"><a href="#47-Games-and-Other-Amusements" class="headerlink" title="47 Games and Other Amusements"></a>47 Games and Other Amusements</h2><p>The <code>animate</code> package makes text dance (e.g., M-x animate-birthday-present).</p>
<p>M-x blackbox, M-x mpuz and M-x 5x5 are puzzles. <code>blackbox</code> challenges you to determine the location of objects inside a box by tomography. <code>mpuz</code> displays a multiplication puzzle with letters standing for digits in a code that you must guess—to guess a value, type a letter and then the digit you think it stands for. The aim of <code>5x5</code> is to fill in all the squares.</p>
<p>M-x bubbles is a game in which the object is to remove as many bubbles as you can in the smallest number of moves.</p>
<p>M-x decipher helps you to cryptanalyze a buffer which is encrypted in a simple monoalphabetic substitution cipher.</p>
<p>M-x dissociated-press scrambles the text in the current Emacs buffer, word by word or character by character, writing its output to a buffer named <em>Dissociation</em>. A positive argument tells it to operate character by character, and specifies the number of overlap characters. A negative argument tells it to operate word by word, and specifies the number of overlap words. Dissociated Press produces results fairly like those of a Markov chain, but is however, an independent, ignoriginal invention; it techniquitously copies several consecutive characters from the sample text between random jumps, unlike a Markov chain which would jump randomly after each word or character. Keep dissociwords out of your documentation, if you want it to be well userenced and properbose.</p>
<p>M-x dunnet runs a text-based adventure game.</p>
<p>If you want a little more personal involvement, try M-x gomoku, which plays the game Go Moku with you.</p>
<p>If you are a little bit bored, you can try M-x hanoi. If you are considerably bored, give it a numeric argument. If you are very, very bored, try an argument of 9. Sit back and watch.</p>
<p>M-x life runs Conway’s Game of Life cellular automaton.</p>
<p>M-x morse-region converts the text in the region to Morse code; M-x unmorse-region converts it back. M-x nato-region converts the text in the region to NATO phonetic alphabet; M-x denato-region converts it back.</p>
<p>M-x pong, M-x snake and M-x tetris are implementations of the well-known Pong, Snake and Tetris games.</p>
<p>M-x solitaire plays a game of solitaire in which you jump pegs across other pegs.</p>
<p>The command M-x zone plays games with the display when Emacs is idle.</p>
<p>“Real Programmers” deploy M-x butterfly, which uses butterflies to flip a bit on the drive platter, see <a href="https://xkcd.com/378" target="_blank" rel="noopener">https://xkcd.com/378</a>.</p>
<p>Finally, if you find yourself frustrated, try describing your problems to the famous psychotherapist Eliza. Just do M-x doctor. End each input by typing <ret> twice.</ret></p>
<h2 id="48-Emacs-Lisp-Packages"><a href="#48-Emacs-Lisp-Packages" class="headerlink" title="48 Emacs Lisp Packages"></a>48 Emacs Lisp Packages</h2><p>Emacs includes a facility that lets you easily download and install packages that implement additional features. Each package is a separate Emacs Lisp program, sometimes including other components such as an Info manual.</p>
<p>M-x list-packages brings up a buffer named <em>Packages</em> with a list of all packages. You can install or uninstall packages via this buffer. See <a href="https://www.gnu.org/software/emacs/manual/html_node/emacs/Package-Menu.html#Package-Menu" target="_blank" rel="noopener">Package Menu</a>.</p>
<p>The command C-h P (<code>describe-package</code>) prompts for the name of a package, and displays a help buffer describing the attributes of the package and the features that it implements.</p>
<p>By default, Emacs downloads packages from a package archive maintained by the Emacs developers and hosted by the GNU project. Optionally, you can also download packages from archives maintained by third parties. See <a href="https://www.gnu.org/software/emacs/manual/html_node/emacs/Package-Installation.html#Package-Installation" target="_blank" rel="noopener">Package Installation</a>.</p>
<p>For information about turning an Emacs Lisp program into an installable package, See <a href="https://www.gnu.org/software/emacs/manual/html_node/elisp/Packaging.html#Packaging" target="_blank" rel="noopener">Packaging</a>.</p>
<ul>
<li><a href="https://www.gnu.org/software/emacs/manual/html_node/emacs/Package-Menu.html#Package-Menu" target="_blank" rel="noopener">Package Menu</a>: Buffer for viewing and managing packages.</li>
<li><a href="https://www.gnu.org/software/emacs/manual/html_node/emacs/Package-Installation.html#Package-Installation" target="_blank" rel="noopener">Package Installation</a>: Options for package installation.</li>
<li><a href="https://www.gnu.org/software/emacs/manual/html_node/emacs/Package-Files.html#Package-Files" target="_blank" rel="noopener">Package Files</a>: Where packages are installed.</li>
</ul>
<h2 id="49-Customization"><a href="#49-Customization" class="headerlink" title="49 Customization"></a>49 Customization</h2><p>This chapter describes some simple methods to customize the behavior of Emacs.</p>
<p>Apart from the methods described here, see <a href="https://www.gnu.org/software/emacs/manual/html_node/emacs/X-Resources.html#X-Resources" target="_blank" rel="noopener">X Resources</a> for information about using X resources to customize Emacs, and see <a href="https://www.gnu.org/software/emacs/manual/html_node/emacs/Keyboard-Macros.html#Keyboard-Macros" target="_blank" rel="noopener">Keyboard Macros</a> for information about recording and replaying keyboard macros. Making more far-reaching and open-ended changes involves writing Emacs Lisp code; see <a href="https://www.gnu.org/software/emacs/manual/html_node/elisp/index.html#Top" target="_blank" rel="noopener">Emacs Lisp</a>.</p>
<ul>
<li><a href="https://www.gnu.org/software/emacs/manual/html_node/emacs/Easy-Customization.html#Easy-Customization" target="_blank" rel="noopener">Easy Customization</a>: Convenient way to browse and change settings.</li>
<li><a href="https://www.gnu.org/software/emacs/manual/html_node/emacs/Variables.html#Variables" target="_blank" rel="noopener">Variables</a>: Many Emacs commands examine Emacs variables to decide what to do; by setting variables, you can control their functioning.</li>
<li><a href="https://www.gnu.org/software/emacs/manual/html_node/emacs/Key-Bindings.html#Key-Bindings" target="_blank" rel="noopener">Key Bindings</a>: The keymaps say what command each key runs. By changing them, you can redefine keys.</li>
<li><a href="https://www.gnu.org/software/emacs/manual/html_node/emacs/Init-File.html#Init-File" target="_blank" rel="noopener">Init File</a>: How to write common customizations in the initialization file.</li>
<li><a href="https://www.gnu.org/software/emacs/manual/html_node/emacs/Authentication.html#Authentication" target="_blank" rel="noopener">Authentication</a>: Keeping persistent authentication information.</li>
</ul>
<h3 id="49-4-The-Emacs-Initialization-File"><a href="#49-4-The-Emacs-Initialization-File" class="headerlink" title="49.4 The Emacs Initialization File"></a>49.4 The Emacs Initialization File</h3><p>When Emacs is started, it normally tries to load a Lisp program from an initialization file, or init file for short. This file, if it exists, specifies how to initialize Emacs for you. Emacs looks for your init file using the filenames ~/.emacs, ~/.emacs.el, or ~/.emacs.d/init.el; you can choose to use any one of these three names (see <a href="https://www.gnu.org/software/emacs/manual/html_node/emacs/Find-Init.html#Find-Init" target="_blank" rel="noopener">Find Init</a>). Here, ~/ stands for your home directory.</p>
<p>You can use the command line switch ‘-q’ to prevent loading your init file, and ‘-u’ (or ‘–user’) to specify a different user’s init file (see <a href="https://www.gnu.org/software/emacs/manual/html_node/emacs/Initial-Options.html#Initial-Options" target="_blank" rel="noopener">Initial Options</a>).</p>
<p>There can also be a default init file, which is the library named default.el, found via the standard search path for libraries. The Emacs distribution contains no such library; your site may create one for local customizations. If this library exists, it is loaded whenever you start Emacs (except when you specify ‘-q’). But your init file, if any, is loaded first; if it sets<code>inhibit-default-init</code> non-<code>nil</code>, then default is not loaded.</p>
<p>Your site may also have a site startup file; this is named site-start.el, if it exists. Like default.el, Emacs finds this file via the standard search path for Lisp libraries. Emacs loads this library before it loads your init file. To inhibit loading of this library, use the option ‘–no-site-file’. See <a href="https://www.gnu.org/software/emacs/manual/html_node/emacs/Initial-Options.html#Initial-Options" target="_blank" rel="noopener">Initial Options</a>. We recommend against using site-start.elfor changes that some users may not like. It is better to put them in default.el, so that users can more easily override them.</p>
<p>You can place default.el and site-start.el in any of the directories which Emacs searches for Lisp libraries. The variable <code>load-path</code> (see <a href="https://www.gnu.org/software/emacs/manual/html_node/emacs/Lisp-Libraries.html#Lisp-Libraries" target="_blank" rel="noopener">Lisp Libraries</a>) specifies these directories. Many sites put these files in a subdirectory named site-lisp in the Emacs installation directory, such as /usr/local/share/emacs/site-lisp.</p>
<p>Byte-compiling your init file is not recommended (see <a href="https://www.gnu.org/software/emacs/manual/html_node/elisp/Byte-Compilation.html#Byte-Compilation" target="_blank" rel="noopener">Byte Compilation</a>). It generally does not speed up startup very much, and often leads to problems when you forget to recompile the file. A better solution is to use the Emacs server to reduce the number of times you have to start Emacs (see <a href="https://www.gnu.org/software/emacs/manual/html_node/emacs/Emacs-Server.html#Emacs-Server" target="_blank" rel="noopener">Emacs Server</a>). If your init file defines many functions, consider moving them to a separate (byte-compiled) file that you load in your init file.</p>
<p>If you are going to write actual Emacs Lisp programs that go beyond minor customization, you should read the Emacs Lisp Reference Manual. See <a href="https://www.gnu.org/software/emacs/manual/html_node/elisp/index.html#Top" target="_blank" rel="noopener">Emacs Lisp</a>.</p>
<ul>
<li><a href="https://www.gnu.org/software/emacs/manual/html_node/emacs/Init-Syntax.html#Init-Syntax" target="_blank" rel="noopener">Init Syntax</a>: Syntax of constants in Emacs Lisp.</li>
<li><a href="https://www.gnu.org/software/emacs/manual/html_node/emacs/Init-Examples.html#Init-Examples" target="_blank" rel="noopener">Init Examples</a>: How to do some things with an init file.</li>
<li><a href="https://www.gnu.org/software/emacs/manual/html_node/emacs/Terminal-Init.html#Terminal-Init" target="_blank" rel="noopener">Terminal Init</a>: Each terminal type can have an init file.</li>
<li><a href="https://www.gnu.org/software/emacs/manual/html_node/emacs/Find-Init.html#Find-Init" target="_blank" rel="noopener">Find Init</a>: How Emacs finds the init file.</li>
<li><a href="https://www.gnu.org/software/emacs/manual/html_node/emacs/Init-Non_002dASCII.html#Init-Non_002dASCII" target="_blank" rel="noopener">Init Non-ASCII</a>: Using non-ASCII characters in an init file.</li>
</ul>
<h2 id="50-Quitting-and-Aborting"><a href="#50-Quitting-and-Aborting" class="headerlink" title="50 Quitting and Aborting"></a>50 Quitting and Aborting</h2><ul>
<li><p>C-g</p>
</li>
<li><p>C-<break> (MS-DOS only)</break></p>
<p>Quit: cancel running or partially typed command.  </p>
</li>
<li><p>C-]</p>
<p>Abort innermost recursive editing level and cancel the command which invoked it (<code>abort-recursive-edit</code>).  </p>
</li>
<li><p><esc> <esc> <esc></esc></esc></esc></p>
<p>Either quit or abort, whichever makes sense (<code>keyboard-escape-quit</code>).  </p>
</li>
<li><p>M-x top-level</p>
<p>Abort all recursive editing levels that are currently executing.  </p>
</li>
<li><p>C-/</p>
</li>
<li><p>C-x u</p>
</li>
<li><p>C-_</p>
<p>Cancel a previously made change in the buffer contents (<code>undo</code>).</p>
</li>
</ul>
<p>There are two ways of canceling a command before it has finished: quitting with C-g, and aborting with C-] or M-x top-level. Quitting cancels a partially typed command, or one which is still running. Aborting exits a recursive editing level and cancels the command that invoked the recursive edit (see <a href="https://www.gnu.org/software/emacs/manual/html_node/emacs/Recursive-Edit.html#Recursive-Edit" target="_blank" rel="noopener">Recursive Edit</a>).</p>
<p>Quitting with C-g is the way to get rid of a partially typed command, or a numeric argument that you don’t want. Furthermore, if you are in the middle of a command that is running, C-g stops the command in a relatively safe way. For example, if you quit out of a kill command that is taking a long time, either your text will <em>all</em> still be in the buffer, or it will <em>all</em> be in the kill ring, or maybe both. If the region is active, C-g deactivates the mark, unless Transient Mark mode is off (see <a href="https://www.gnu.org/software/emacs/manual/html_node/emacs/Disabled-Transient-Mark.html#Disabled-Transient-Mark" target="_blank" rel="noopener">Disabled Transient Mark</a>). If you are in the middle of an incremental search, C-g behaves specially; it may take two successive C-g characters to get out of a search. See <a href="https://www.gnu.org/software/emacs/manual/html_node/emacs/Incremental-Search.html#Incremental-Search" target="_blank" rel="noopener">Incremental Search</a>, for details.</p>
<p>On MS-DOS, the character C-<break> serves as a quit character like C-g. The reason is that it is not feasible, on MS-DOS, to recognize C-g while a command is running, between interactions with the user. By contrast, it <em>is</em> feasible to recognize C-<break> at all times. See <a href="https://www.gnu.org/software/emacs/manual/html_node/emacs/MS_002dDOS-Keyboard.html#MS_002dDOS-Keyboard" target="_blank" rel="noopener">MS-DOS Keyboard</a>.</break></break></p>
<p>C-g works by setting the variable <code>quit-flag</code> to <code>t</code> the instant C-g is typed; Emacs Lisp checks this variable frequently, and quits if it is non-<code>nil</code>. C-g is only actually executed as a command if you type it while Emacs is waiting for input. In that case, the command it runs is <code>keyboard-quit</code>.</p>
<p>On a text terminal, if you quit with C-g a second time before the first C-g is recognized, you activate the emergency-escape feature and return to the shell. See <a href="https://www.gnu.org/software/emacs/manual/html_node/emacs/Emergency-Escape.html#Emergency-Escape" target="_blank" rel="noopener">Emergency Escape</a>.</p>
<p>There are some situations where you cannot quit. When Emacs is waiting for the operating system to do something, quitting is impossible unless special pains are taken for the particular system call within Emacs where the waiting occurs. We have done this for the system calls that users are likely to want to quit from, but it’s possible you will encounter a case not handled. In one very common case—waiting for file input or output using NFS—Emacs itself knows how to quit, but many NFS implementations simply do not allow user programs to stop waiting for NFS when the NFS server is hung.</p>
<p>Aborting with C-] (<code>abort-recursive-edit</code>) is used to get out of a recursive editing level and cancel the command which invoked it. Quitting with C-g does not do this, and could not do this, because it is used to cancel a partially typed command <em>within</em> the recursive editing level. Both operations are useful. For example, if you are in a recursive edit and type C-u 8to enter a numeric argument, you can cancel that argument with C-g and remain in the recursive edit.</p>
<p>The sequence <esc> <esc> <esc> (<code>keyboard-escape-quit</code>) can either quit or abort. (We defined it this way because <esc> means “get out” in many PC programs.) It can cancel a prefix argument, clear a selected region, or get out of a Query Replace, like C-g. It can get out of the minibuffer or a recursive edit, like C-]. It can also get out of splitting the frame into multiple windows, as with C-x 1. One thing it cannot do, however, is stop a command that is running. That’s because it executes as an ordinary command, and Emacs doesn’t notice it until it is ready for the next command.</esc></esc></esc></esc></p>
<p>The command M-x top-level is equivalent to enough C-] commands to get you out of all the levels of recursive edits that you are in; it also exits the minibuffer if it is active. C-]gets you out one level at a time, but M-x top-level goes out all levels at once. Both C-] and M-x top-level are like all other commands, and unlike C-g, in that they take effect only when Emacs is ready for a command. C-] is an ordinary key and has its meaning only because of its binding in the keymap. See <a href="https://www.gnu.org/software/emacs/manual/html_node/emacs/Recursive-Edit.html#Recursive-Edit" target="_blank" rel="noopener">Recursive Edit</a>.</p>
<p>C-/ (<code>undo</code>) is not strictly speaking a way of canceling a command, but you can think of it as canceling a command that already finished executing. See <a href="https://www.gnu.org/software/emacs/manual/html_node/emacs/Undo.html#Undo" target="_blank" rel="noopener">Undo</a>, for more information about the undo facility.</p>

          
        
      
    </div>

    

    
    
    

    

    
      
    
    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://alphaalgorithms.github.io/2019/05/22/emacs-document-structure/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Gabriel">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="DummyHead">
    </span>

    
      <header class="post-header">

        
        
          <h2 class="post-title" itemprop="name headline">
                
                
                <a href="/2019/05/22/emacs-document-structure/" class="post-title-link" itemprop="url">2.Orgmode Document Strucure</a>
              
            
          </h2>
        

        <div class="post-meta">
          <span class="post-time">

            
            
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              

              
                
              

              <time title="Created: 2019-05-22 09:51:35 / Modified: 11:16:26" itemprop="dateCreated datePublished" datetime="2019-05-22T09:51:35+08:00">2019-05-22</time>
            

            
              

              
            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/linux-emacs-orgmode/" itemprop="url" rel="index"><span itemprop="name">linux - emacs - orgmode</span></a></span>

                
                
              
            </span>
          

          
            
            
              
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <span class="post-meta-item-icon">
                  <i class="fa fa-comment-o"></i>
                </span>
            
                <span class="post-meta-item-text">Comments: </span>
                <a href="/2019/05/22/emacs-document-structure/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count disqus-comment-count" data-disqus-identifier="2019/05/22/emacs-document-structure/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <hr>
<p>Org is an outliner. Outlines allow a document to be organized in a hierarchical structure, which, least for me, is the best representation of notes and thoughts. An overview of this structure is achieved by folding, i.e., hiding large parts of the document to show only the general document structure and the parts currently being worked on. Org greatly simplifies the use of outlines by compressing the entire show and hide functionalities into a single command, <code>org-cycle</code>, which is bound to the TAB key.</p>
<table>
<thead>
<tr>
<th>• <a href="https://orgmode.org/manual/Headlines.html#Headlines" target="_blank" rel="noopener">Headlines</a>:</th>
<th>How to typeset Org tree headlines.</th>
</tr>
</thead>
<tbody>
<tr>
<td>• <a href="https://orgmode.org/manual/Visibility-Cycling.html#Visibility-Cycling" target="_blank" rel="noopener">Visibility Cycling</a>:</td>
<td>Show and hide, much simplified.</td>
</tr>
<tr>
<td>• <a href="https://orgmode.org/manual/Motion.html#Motion" target="_blank" rel="noopener">Motion</a>:</td>
<td>Jumping to other headlines.</td>
</tr>
<tr>
<td>• <a href="https://orgmode.org/manual/Structure-Editing.html#Structure-Editing" target="_blank" rel="noopener">Structure Editing</a>:</td>
<td>Changing sequence and level of headlines.</td>
</tr>
<tr>
<td>• <a href="https://orgmode.org/manual/Sparse-Trees.html#Sparse-Trees" target="_blank" rel="noopener">Sparse Trees</a>:</td>
<td>Matches embedded in context.</td>
</tr>
<tr>
<td>• <a href="https://orgmode.org/manual/Plain-Lists.html#Plain-Lists" target="_blank" rel="noopener">Plain Lists</a>:</td>
<td>Additional structure within an entry.</td>
</tr>
<tr>
<td>• <a href="https://orgmode.org/manual/Drawers.html#Drawers" target="_blank" rel="noopener">Drawers</a>:</td>
<td>Tucking stuff away.</td>
</tr>
<tr>
<td>• <a href="https://orgmode.org/manual/Blocks.html#Blocks" target="_blank" rel="noopener">Blocks</a>:</td>
<td>Folding blocks.</td>
</tr>
<tr>
<td>• <a href="https://orgmode.org/manual/Creating-Footnotes.html#Creating-Footnotes" target="_blank" rel="noopener">Creating Footnotes</a>:</td>
<td>How footnotes are defined in Org’s syntax.</td>
</tr>
</tbody>
</table>
<h2 id="2-1-Headlines"><a href="#2-1-Headlines" class="headerlink" title="2.1 Headlines"></a>2.1 Headlines</h2><blockquote>
<p>最大的收获便是:<br>org-cycle-separator-lines 此功能可以控制.</p>
</blockquote>
<p>Headlines define the structure of an outline tree. The headlines in Org start with one or more stars, on the left margin<a href="https://orgmode.org/manual/Headlines.html#FOOT3" target="_blank" rel="noopener">3</a>. For example:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">* Top level headline</span><br><span class="line">** Second level</span><br><span class="line">*** Third level</span><br><span class="line">    some text</span><br><span class="line">*** Third level</span><br><span class="line">    more text</span><br><span class="line">* Another top level headline</span><br></pre></td></tr></table></figure>
<p>The name defined in <code>org-footnote-section</code> is reserved. Do not use it as a title for your own headings.</p>
<p>Some people find the many stars too noisy and would prefer an outline that has whitespace followed by a single star as headline starters. See <a href="https://orgmode.org/manual/Clean-View.html#Clean-View" target="_blank" rel="noopener">Clean View</a>.</p>
<p>An empty line after the end of a subtree is considered part of it and is hidden when the subtree is folded. However, if you leave at least two empty lines, one empty line remains visible after folding the subtree, in order to structure the collapsed view. See the variable <code>org-cycle-separator-lines</code> to modify this behavior.</p>
<blockquote>
<p>See the variables <code>org-special-ctrl-a/e</code>, <code>org-special-ctrl-k</code>, and <code>org-ctrl-k-protect-subtree</code> to configure special behavior of C-a, C-e, and C-k in headlines. Note also that clocking only works with headings indented less than 30 stars.</p>
</blockquote>
<h2 id="2-2-Visibility-Cycling"><a href="#2-2-Visibility-Cycling" class="headerlink" title="2.2 Visibility Cycling"></a>2.2 Visibility Cycling</h2><table>
<thead>
<tr>
<th>• <a href="https://orgmode.org/manual/Global-and-local-cycling.html#Global-and-local-cycling" target="_blank" rel="noopener">Global and local cycling</a>:</th>
<th>Cycling through various visibility states.</th>
</tr>
</thead>
<tbody>
<tr>
<td>• <a href="https://orgmode.org/manual/Initial-visibility.html#Initial-visibility" target="_blank" rel="noopener">Initial visibility</a>:</td>
<td>Setting the initial visibility state.</td>
</tr>
<tr>
<td>• <a href="https://orgmode.org/manual/Catching-invisible-edits.html#Catching-invisible-edits" target="_blank" rel="noopener">Catching invisible edits</a>:</td>
<td>Preventing mistakes when editing invisible parts.</td>
</tr>
</tbody>
</table>
<h3 id="2-2-1-Global-and-local-cycling"><a href="#2-2-1-Global-and-local-cycling" class="headerlink" title="2.2.1 Global and local cycling"></a>2.2.1 Global and local cycling</h3><blockquote>
<p>Tab and S-Tab, 其余无关紧要.</p>
</blockquote>
<p>Outlines make it possible to hide parts of the text in the buffer. Org uses just two commands, bound to TAB and S-TAB to change the visibility in the buffer.</p>
<ul>
<li><p>TAB (<code>org-cycle</code>)</p>
<p><em>Subtree cycling</em>: Rotate current subtree among the states,</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">,-&gt; FOLDED -&gt; CHILDREN -&gt; SUBTREE --.</span><br><span class="line"><span class="string">'----------------------------------------------------'</span></span><br><span class="line"><span class="comment">#有意思的一点, display的是subtree</span></span><br></pre></td></tr></table></figure>
<p>Point must be on a headline for this to work<a href="https://orgmode.org/manual/Global-and-local-cycling.html#FOOT4" target="_blank" rel="noopener">4</a>.</p>
</li>
<li><p>S-TAB (<code>org-global-cycle</code>)</p>
</li>
<li><p>C-u TAB</p>
<p><em>Global cycling</em>: Rotate the entire buffer among the states, </p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">,-&gt; OVERVIEW -&gt; CONTENTS -&gt; SHOW ALL --.</span><br><span class="line"><span class="string">'---------------------------------------------------------'</span></span><br><span class="line"><span class="comment">#棒呀.</span></span><br></pre></td></tr></table></figure>
<p>When S-TAB is called with a numeric prefix argument N, the CONTENTS view up to headlines of level N are shown. Note that inside tables (see <a href="https://orgmode.org/manual/Tables.html#Tables" target="_blank" rel="noopener">Tables</a>), S-TAB jumps to the previous field instead.You can run global cycling using TAB only if point is at the very beginning of the buffer, but not on a headline, and <code>org-cycle-global-at-bob</code> is set to a non-<code>nil</code> value.</p>
<blockquote>
<p>前面两个足够, 后面的用不到. </p>
</blockquote>
</li>
<li><p>C-u C-u TAB (<code>org-set-startup-visibility</code>)</p>
<p>Switch back to the startup visibility of the buffer (see <a href="https://orgmode.org/manual/Initial-visibility.html#Initial-visibility" target="_blank" rel="noopener">Initial visibility</a>).</p>
</li>
<li><p>C-u C-u C-u TAB (<code>outline-show-all</code>)</p>
<p>Show all, including drawers.</p>
</li>
<li><p>C-c C-r (<code>org-reveal</code>)</p>
<p>Reveal context around point, showing the current entry, the following heading and the hierarchy above. Useful for working near a location that has been exposed by a sparse tree command (see <a href="https://orgmode.org/manual/Sparse-Trees.html#Sparse-Trees" target="_blank" rel="noopener">Sparse Trees</a>) or an agenda command (see <a href="https://orgmode.org/manual/Agenda-Commands.html#Agenda-Commands" target="_blank" rel="noopener">Agenda Commands</a>). With a prefix argument show, on each level, all sibling headings. With a double prefix argument, also show the entire subtree of the parent.</p>
</li>
<li><p>C-c C-k (<code>outline-show-branches</code>)</p>
<p>Expose all the headings of the subtree, CONTENTS view for just one subtree.</p>
</li>
<li><p>C-c TAB (<code>outline-show-children</code>)</p>
<p>Expose all direct children of the subtree. With a numeric prefix argument N, expose all children down to level N.</p>
</li>
<li><p>C-c C-x b (<code>org-tree-to-indirect-buffer</code>)</p>
<p>Show the current subtree in an indirect buffer<a href="https://orgmode.org/manual/Global-and-local-cycling.html#FOOT5" target="_blank" rel="noopener">5</a>. With a numeric prefix argument, N, go up to level N and then take that tree. If N is negative then go up that many levels. With a C-u prefix, do not remove the previously used indirect buffer.</p>
</li>
<li><p>C-c C-x v (<code>org-copy-visible</code>)</p>
<p>Copy the <em>visible</em> text in the region into the kill ring.</p>
</li>
</ul>
<blockquote>
<ol>
<li>See, however, the option <code>org-cycle-emulate-tab</code>.</li>
<li>The indirect buffer contains the entire buffer, but is narrowed to the current tree. Editing the indirect buffer also changes the original buffer, but without affecting visibility in that buffer. For more information about indirect buffers, see <a href="http://www.gnu.org/software/emacs/manual/html_node/emacs/Indirect-Buffers.html#Indirect-Buffers" target="_blank" rel="noopener">(emacs)GNU Emacs Manual</a>.</li>
</ol>
</blockquote>
<h3 id="2-2-2-Initial-visibility"><a href="#2-2-2-Initial-visibility" class="headerlink" title="2.2.2 Initial visibility"></a>2.2.2 Initial visibility</h3><p>When Emacs first visits an Org file, the global state is set to OVERVIEW, i.e., only the top level headlines are visible<a href="https://orgmode.org/manual/Initial-visibility.html#FOOT6" target="_blank" rel="noopener">6</a>. This can be configured through the variable <code>org-startup-folded</code>, or on a per-file basis by adding one of the following lines anywhere in the buffer:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">#+STARTUP: overview</span><br><span class="line">#+STARTUP: content</span><br><span class="line">#+STARTUP: showall</span><br><span class="line">#+STARTUP: showeverything</span><br></pre></td></tr></table></figure>
<p>Furthermore, any entries with a ‘VISIBILITY’ property (see <a href="https://orgmode.org/manual/Properties-and-Columns.html#Properties-and-Columns" target="_blank" rel="noopener">Properties and Columns</a>) get their visibility adapted accordingly. Allowed values for this property are ‘folded’, ‘children’, ‘content’, and ‘all’.</p>
<ul>
<li><p>C-u C-u TAB (<code>org-set-startup-visibility</code>)</p>
<p>Switch back to the startup visibility of the buffer, i.e., whatever is requested by startup options and ‘VISIBILITY’ properties in individual entries.</p>
</li>
</ul>
<h3 id="2-2-3-Catching-invisible-edits"><a href="#2-2-3-Catching-invisible-edits" class="headerlink" title="2.2.3 Catching invisible edits"></a>2.2.3 Catching invisible edits</h3><p>Sometimes you may inadvertently edit an invisible part of the buffer and be confused on what has been edited and how to undo the mistake. Setting <code>org-catch-invisible-edits</code> to non-<code>nil</code> helps preventing this. See the docstring of this option on how Org should catch invisible edits and process them.</p>
<h2 id="2-3-Motion"><a href="#2-3-Motion" class="headerlink" title="2.3 Motion"></a>2.3 Motion</h2><p>The following commands jump to other headlines in the buffer.</p>
<ul>
<li><p>C-c C-n (<code>outline-next-visible-heading</code>)</p>
<p>Next heading.</p>
</li>
<li><p>C-c C-p (<code>outline-previous-visible-heading</code>)</p>
<p>Previous heading.</p>
</li>
<li><p>C-c C-f (<code>org-forward-same-level</code>)</p>
<p>Next heading same level.</p>
</li>
<li><p>C-c C-b (<code>org-backward-same-level</code>)</p>
<p>Previous heading same level.</p>
</li>
<li><p>C-c C-u (<code>outline-up-heading</code>)</p>
<p>Backward to higher level heading.</p>
</li>
<li><p>C-c C-j (<code>org-goto</code>)</p>
<p>Jump to a different place without changing the current outline visibility. Shows the document structure in a temporary buffer, where you can use the following keys to find your destination:TABCycle visibility.DOWN / nnnnnnnnUPNext/previous visible headline.RETSelect this location./Do a Sparse-tree searchThe following keys work if you turn off <code>org-goto-auto-isearch</code>n / pNext/previous visible headline.f / bNext/previous headline same level.uOne level up.0 … 9Digit argument.qQuit.See also the variable <code>org-goto-interface</code>.</p>
</li>
</ul>
<blockquote>
<p>没啥用, 不必要如此精确的操作. </p>
</blockquote>
<h2 id="2-4-Structure-Editing"><a href="#2-4-Structure-Editing" class="headerlink" title="2.4 Structure Editing"></a>2.4 Structure Editing</h2><blockquote>
<p>不必要,  最基本的操作可以解决问题. </p>
</blockquote>
<ul>
<li><p>M-RET (<code>org-meta-return</code>)</p>
<p>Insert a new heading, item or row.If the command is used at the <em>beginning</em> of a line, and if there is a heading or a plain list item (see <a href="https://orgmode.org/manual/Plain-Lists.html#Plain-Lists" target="_blank" rel="noopener">Plain Lists</a>) at point, the new heading/item is created <em>before</em> the current line. When used at the beginning of a regular line of text, turn that line into a heading.When this command is used in the middle of a line, the line is split and the rest of the line becomes the new item or headline. If you do not want the line to be split, customize <code>org-M-RET-may-split-line</code>.Calling the command with a C-u prefix unconditionally inserts a new heading at the end of the current subtree, thus preserving its contents. With a double C-u C-u prefix, the new heading is created at the end of the parent subtree instead.</p>
</li>
<li><p>C-RET (<code>org-insert-heading-respect-content</code>)</p>
<p>Insert a new heading at the end of the current subtree.</p>
</li>
<li><p>M-S-RET (<code>org-insert-todo-heading</code>)</p>
<p>Insert new TODO entry with same level as current heading. See also the variable <code>org-treat-insert-todo-heading-as-state-change</code>.</p>
</li>
<li><p>C-S-RET (<code>org-insert-todo-heading-respect-content</code>)</p>
<p>Insert new TODO entry with same level as current heading. Like C-RET, the new headline is inserted after the current subtree.</p>
</li>
<li><p>TAB (<code>org-cycle</code>)</p>
<p>In a new entry with no text yet, the first TAB demotes the entry to become a child of the previous one. The next TAB makes it a parent, and so on, all the way to top level. Yet another TAB, and you are back to the initial level.</p>
</li>
<li><p>M-LEFT (<code>org-do-promote</code>)</p>
<p>Promote current heading by one level.</p>
</li>
<li><p>M-RIGHT (<code>org-do-demote</code>)</p>
<p>Demote current heading by one level.</p>
</li>
<li><p>M-S-LEFT (<code>org-promote-subtree</code>)</p>
<p>Promote the current subtree by one level.</p>
</li>
<li><p>M-S-RIGHT (<code>org-demote-subtree</code>)</p>
<p>Demote the current subtree by one level.</p>
</li>
<li><p>M-UP (<code>org-move-subtree-up</code>)</p>
<p>Move subtree up, i.e., swap with previous subtree of same level.</p>
</li>
<li><p>M-DOWN (<code>org-move-subtree-down</code>)</p>
<p>Move subtree down, i.e., swap with next subtree of same level.</p>
</li>
<li><p>C-c @ (<code>org-mark-subtree</code>)</p>
<p>Mark the subtree at point. Hitting repeatedly marks subsequent subtrees of the same level as the marked subtree.</p>
</li>
<li><p>C-c C-x C-w (<code>org-cut-subtree</code>)</p>
<p>Kill subtree, i.e., remove it from buffer but save in kill ring. With a numeric prefix argument N, kill N sequential subtrees.</p>
</li>
<li><p>C-c C-x M-w (<code>org-copy-subtree</code>)</p>
<p>Copy subtree to kill ring. With a numeric prefix argument N, copy the N sequential subtrees.</p>
</li>
<li><p>C-c C-x C-y (<code>org-paste-subtree</code>)</p>
<p>Yank subtree from kill ring. This does modify the level of the subtree to make sure the tree fits in nicely at the yank position. The yank level can also be specified with a numeric prefix argument, or by yanking after a headline marker like ‘<em>**</em>’.</p>
</li>
<li><p>C-y (<code>org-yank</code>)</p>
<p>Depending on the variables <code>org-yank-adjusted-subtrees</code> and <code>org-yank-folded-subtrees</code>, Org’s internal <code>yank</code> command pastes subtrees folded and in a clever way, using the same command as C-c C-x C-y. With the default settings, no level adjustment takes place, but the yanked tree is folded unless doing so would swallow text previously visible. Any prefix argument to this command forces a normal <code>yank</code> to be executed, with the prefix passed along. A good way to force a normal yank is C-u C-y. If you use <code>yank-pop</code> after a yank, it yanks previous kill items plainly, without adjustment and folding.</p>
</li>
<li><p>C-c C-x c (<code>org-clone-subtree-with-time-shift</code>)</p>
<p>Clone a subtree by making a number of sibling copies of it. You are prompted for the number of copies to make, and you can also specify if any timestamps in the entry should be shifted. This can be useful, for example, to create a number of tasks related to a series of lectures to prepare. For more details, see the docstring of the command <code>org-clone-subtree-with-time-shift</code>.</p>
</li>
<li><p>C-c C-w (<code>org-refile</code>)</p>
<p>Refile entry or region to a different location. See <a href="https://orgmode.org/manual/Refile-and-Copy.html#Refile-and-Copy" target="_blank" rel="noopener">Refile and Copy</a>.</p>
</li>
<li><p>C-c ^ (<code>org-sort</code>)</p>
<p>Sort same-level entries. When there is an active region, all entries in the region are sorted. Otherwise the children of the current headline are sorted. The command prompts for the sorting method, which can be alphabetically, numerically, by time—first timestamp with active preferred, creation time, scheduled time, deadline time—by priority, by TODO keyword—in the sequence the keywords have been defined in the setup—or by the value of a property. Reverse sorting is possible as well. You can also supply your own function to extract the sorting key. With a C-u prefix, sorting is case-sensitive.</p>
</li>
<li><p>C-x n s (<code>org-narrow-to-subtree</code>)</p>
<p>Narrow buffer to current subtree.</p>
</li>
<li><p>C-x n b (<code>org-narrow-to-block</code>)</p>
<p>Narrow buffer to current block.</p>
</li>
<li><p>C-x n w (<code>widen</code>)</p>
<p>Widen buffer to remove narrowing.</p>
</li>
<li><p>C-c * (<code>org-toggle-heading</code>)</p>
<p>Turn a normal line or plain list item into a headline—so that it becomes a subheading at its location. Also turn a headline into a normal line by removing the stars. If there is an active region, turn all lines in the region into headlines. If the first line in the region was an item, turn only the item lines into headlines. Finally, if the first line is a headline, remove the stars from all headlines in the region.</p>
</li>
</ul>
<p>When there is an active region—i.e., when Transient Mark mode is active—promotion and demotion work on all headlines in the region. To select a region of headlines, it is best to place both point and mark at the beginning of a line, mark at the beginning of the first headline, and point at the line just after the last headline to change. Note that when point is inside a table (see <a href="https://orgmode.org/manual/Tables.html#Tables" target="_blank" rel="noopener">Tables</a>), the Meta-Cursor keys have different functionality.</p>
<h2 id="2-5-Sparse-Trees"><a href="#2-5-Sparse-Trees" class="headerlink" title="2.5 Sparse Trees"></a>2.5 Sparse Trees</h2><p>An important feature of Org mode is the ability to construct <em>sparse trees</em> for selected information in an outline tree, so that the entire document is folded as much as possible, but the selected information is made visible along with the headline structure above it<a href="https://orgmode.org/manual/Sparse-Trees.html#FOOT7" target="_blank" rel="noopener">7</a>. Just try it out and you will see immediately how it works.</p>
<p>Org mode contains several commands creating such trees, all these commands can be accessed through a dispatcher:</p>
<ul>
<li><p>C-c / (<code>org-sparse-tree</code>)</p>
<p>This prompts for an extra key to select a sparse-tree creating command.</p>
</li>
<li><p>C-c / r or C-c / / (<code>org-occur</code>)</p>
<p>Prompts for a regexp and shows a sparse tree with all matches. If the match is in a headline, the headline is made visible. If the match is in the body of an entry, headline and body are made visible. In order to provide minimal context, also the full hierarchy of headlines above the match is shown, as well as the headline following the match. Each match is also highlighted; the highlights disappear when the buffer is changed by an editing command, or by pressing C-c C-c<a href="https://orgmode.org/manual/Sparse-Trees.html#FOOT8" target="_blank" rel="noopener">8</a>. When called with a C-u prefix argument, previous highlights are kept, so several calls to this command can be stacked.</p>
</li>
<li><p>M-g n or M-g M-n (<code>next-error</code>)</p>
<p>Jump to the next sparse tree match in this buffer.</p>
</li>
<li><p>M-g p or M-g M-p (<code>previous-error</code>) (M-g g就是go的含义)</p>
<p>Jump to the previous sparse tree match in this buffer.</p>
</li>
</ul>
<p>For frequently used sparse trees of specific search strings, you can use the variable <code>org-agenda-custom-commands</code> to define fast keyboard access to specific sparse trees. These commands will then be accessible through the agenda dispatcher (see <a href="https://orgmode.org/manual/Agenda-Dispatcher.html#Agenda-Dispatcher" target="_blank" rel="noopener">Agenda Dispatcher</a>). For example:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">(setq org-agenda-custom-commands</span><br><span class="line">      &apos;((&quot;f&quot; occur-tree &quot;FIXME&quot;)))</span><br></pre></td></tr></table></figure>
<p>defines the key f as a shortcut for creating a sparse tree matching the string ‘FIXME’.</p>
<p>The other sparse tree commands select headings based on TODO keywords, tags, or properties and are discussed later in this manual.</p>
<p>To print a sparse tree, you can use the Emacs command <code>ps-print-buffer-with-faces</code> which does not print invisible parts of the document. Or you can use the command C-c C-e v to export only the visible part of the document and print the resulting file.</p>
<blockquote>
<ol>
<li>See also the variable <code>org-show-context-detail</code> to decide how much context is shown around each match.</li>
<li>This depends on the option <code>org-remove-highlights-with-change</code>.</li>
</ol>
</blockquote>
<h2 id="2-6-Plain-Lists"><a href="#2-6-Plain-Lists" class="headerlink" title="2.6 Plain Lists"></a>2.6 Plain Lists</h2><blockquote>
<p>关键的是几个转换的命令,<br>C-c C-* Turn全部, 尤其是checkbox, 日后将会常用</p>
</blockquote>
<p>Within an entry of the outline tree, hand-formatted lists can provide additional structure. They also provide a way to create lists of checkboxes (see <a href="https://orgmode.org/manual/Checkboxes.html#Checkboxes" target="_blank" rel="noopener">Checkboxes</a>). Org supports editing such lists, and every exporter (see <a href="https://orgmode.org/manual/Exporting.html#Exporting" target="_blank" rel="noopener">Exporting</a>) can parse and format them.</p>
<p>Org knows ordered lists, unordered lists, and description lists.</p>
<ul>
<li><em>Unordered</em> list items start with ‘-’, ‘+’, or ‘*’<a href="https://orgmode.org/manual/Plain-Lists.html#FOOT9" target="_blank" rel="noopener">9</a> as bullets.</li>
<li><em>Ordered</em> list items start with a numeral followed by either a period or a right parenthesis<a href="https://orgmode.org/manual/Plain-Lists.html#FOOT10" target="_blank" rel="noopener">10</a>, such as ‘1.’ or ‘1)’<a href="https://orgmode.org/manual/Plain-Lists.html#FOOT11" target="_blank" rel="noopener">11</a> If you want a list to start with a different value—e.g., 20—start the text of the item with ‘[@20]’<a href="https://orgmode.org/manual/Plain-Lists.html#FOOT12" target="_blank" rel="noopener">12</a>. Those constructs can be used in any item of the list in order to enforce a particular numbering.</li>
<li><em>Description</em> list items are unordered list items, and contain the separator ‘::’ to distinguish the description <em>term</em> from the description.</li>
</ul>
<p>Items belonging to the same list must have the same indentation on the first line. In particular, if an ordered list reaches number ‘10.’, then the 2-digit numbers must be written left-aligned with the other numbers in the list. An item ends before the next line that is less or equally indented than its bullet/number.</p>
<p>A list ends whenever every item has ended, which means before any line less or equally indented than items at top level. It also ends before two blank lines. In that case, all items are closed. Here is an example:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">* Lord of the Rings</span><br><span class="line">My favorite scenes are (in this order)</span><br><span class="line">1. The attack of the Rohirrim</span><br><span class="line">2. Eowyn&apos;s fight with the witch king</span><br><span class="line">   + this was already my favorite scene in the book</span><br><span class="line">   + I really like Miranda Otto.</span><br><span class="line">3. Peter Jackson being shot by Legolas</span><br><span class="line">   - on DVD only</span><br><span class="line">   He makes a really funny face when it happens.</span><br><span class="line">But in the end, no individual scenes matter but the film as a whole.</span><br><span class="line">Important actors in this film are:</span><br><span class="line">- Elijah Wood :: He plays Frodo</span><br><span class="line">- Sean Astin :: He plays Sam, Frodo&apos;s friend. I still remember him</span><br><span class="line">     very well from his role as Mikey Walsh in /The Goonies/.</span><br></pre></td></tr></table></figure>
<p>Org supports these lists by tuning filling and wrapping commands to deal with them correctly, and by exporting them properly (see <a href="https://orgmode.org/manual/Exporting.html#Exporting" target="_blank" rel="noopener">Exporting</a>). Since indentation is what governs the structure of these lists, many structural constructs like ‘#+BEGIN_’ blocks can be indented to signal that they belong to a particular item.</p>
<p>If you find that using a different bullet for a sub-list—than that used for the current list-level—improves readability, customize the variable <code>org-list-demote-modify-bullet</code>. To get a greater difference of indentation between items and theirs sub-items, customize <code>org-list-indent-offset</code>.</p>
<p>The following commands act on items when point is in the first line of an item—the line with the bullet or number. Some of them imply the application of automatic rules to keep list structure intact. If some of these actions get in your way, configure <code>org-list-automatic-rules</code> to disable them individually.</p>
<ul>
<li><p>TAB (<code>org-cycle</code>)</p>
<p>Items can be folded just like headline levels. Normally this works only if point is on a plain list item. For more details, see the variable <code>org-cycle-include-plain-lists</code>. If this variable is set to <code>integrate</code>, plain list items are treated like low-level headlines. The level of an item is then given by the indentation of the bullet/number. Items are always subordinate to real headlines, however; the hierarchies remain completely separated. In a new item with no text yet, the first TAB demotes the item to become a child of the previous one. Subsequent TABs move the item to meaningful levels in the list and eventually get it back to its initial position.</p>
</li>
<li><p>M-RET (<code>org-insert-heading</code>)</p>
<p>Insert new item at current level. With a prefix argument, force a new heading (see <a href="https://orgmode.org/manual/Structure-Editing.html#Structure-Editing" target="_blank" rel="noopener">Structure Editing</a>). If this command is used in the middle of an item, that item is <em>split</em> in two, and the second part becomes the new item<a href="https://orgmode.org/manual/Plain-Lists.html#FOOT13" target="_blank" rel="noopener">13</a>. If this command is executed <em>before item’s body</em>, the new item is created <em>before</em> the current one.</p>
</li>
<li><p>M-S-RET</p>
<p>Insert a new item with a checkbox (see <a href="https://orgmode.org/manual/Checkboxes.html#Checkboxes" target="_blank" rel="noopener">Checkboxes</a>).</p>
</li>
<li><p>S-UP</p>
</li>
<li><p>S-DOWN</p>
<p>Jump to the previous/next item in the current list, but only if <code>org-support-shift-select</code> is off<a href="https://orgmode.org/manual/Plain-Lists.html#FOOT14" target="_blank" rel="noopener">14</a>. If not, you can still use paragraph jumping commands like C-UP and C-DOWN to quite similar effect.</p>
</li>
<li><p>M-UP</p>
</li>
<li><p>M-DOWN</p>
<p>Move the item including subitems up/down<a href="https://orgmode.org/manual/Plain-Lists.html#FOOT15" target="_blank" rel="noopener">15</a>, i.e., swap with previous/next item of same indentation. If the list is ordered, renumbering is automatic.</p>
</li>
<li><p>M-LEFT</p>
</li>
<li><p>M-RIGHT</p>
<p>Decrease/increase the indentation of an item, leaving children alone.</p>
</li>
<li><p>M-S-LEFT</p>
</li>
<li><p>M-S-RIGHT</p>
<p>Decrease/increase the indentation of the item, including subitems. Initially, the item tree is selected based on current indentation. When these commands are executed several times in direct succession, the initially selected region is used, even if the new indentation would imply a different hierarchy. To use the new hierarchy, break the command chain by moving point.As a special case, using this command on the very first item of a list moves the whole list. This behavior can be disabled by configuring <code>org-list-automatic-rules</code>. The global indentation of a list has no influence on the text <em>after</em> the list.</p>
</li>
<li><p>C-c C-c</p>
<p>If there is a checkbox (see <a href="https://orgmode.org/manual/Checkboxes.html#Checkboxes" target="_blank" rel="noopener">Checkboxes</a>) in the item line, toggle the state of the checkbox. In any case, verify bullets and indentation consistency in the whole list.</p>
</li>
<li><p>C-c -</p>
<p>Cycle the entire list level through the different itemize/enumerate bullets (‘-’, ‘+’, ‘*’, ‘1.’, ‘1)’) or a subset of them, depending on <code>org-plain-list-ordered-item-terminator</code>, the type of list, and its indentation. With a numeric prefix argument N, select the Nth bullet from this list. If there is an active region when calling this, selected text is changed into an item. With a prefix argument, all lines are converted to list items. If the first line already was a list item, any item marker is removed from the list. Finally, even without an active region, a normal line is converted into a list item.</p>
</li>
<li><p>C-c *</p>
<p>Turn a plain list item into a headline—so that it becomes a subheading at its location. See <a href="https://orgmode.org/manual/Structure-Editing.html#Structure-Editing" target="_blank" rel="noopener">Structure Editing</a>, for a detailed explanation.</p>
</li>
<li><p>C-c C-*</p>
<p>Turn the whole plain list into a subtree of the current heading. Checkboxes (see <a href="https://orgmode.org/manual/Checkboxes.html#Checkboxes" target="_blank" rel="noopener">Checkboxes</a>) become TODO, respectively DONE, keywords when unchecked, respectively checked.</p>
</li>
<li><p>S-LEFT</p>
</li>
<li><p>S-RIGHT</p>
<p>This command also cycles bullet styles when point is in on the bullet or anywhere in an item line, details depending on <code>org-support-shift-select</code>.</p>
</li>
<li><p>C-c ^</p>
<p>Sort the plain list. Prompt for the sorting method: numerically, alphabetically, by time, or by custom function.</p>
</li>
</ul>
<h2 id="2-7-Drawers"><a href="#2-7-Drawers" class="headerlink" title="2.7 Drawers"></a>2.7 Drawers</h2><blockquote>
<p>最重要的基本概念之一．</p>
</blockquote>
<p>Sometimes you want to keep information associated with an entry, but you normally do not want to see it. For this, Org mode has <em>drawers</em>. They can contain anything but a headline and another drawer. Drawers look like this:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">** This is a headline</span><br><span class="line">Still outside the drawer</span><br><span class="line">:DRAWERNAME:</span><br><span class="line">This is inside the drawer.</span><br><span class="line">:END:</span><br><span class="line">After the drawer.</span><br></pre></td></tr></table></figure>
<p>You can interactively insert a drawer at point by calling <code>org-insert-drawer</code>, which is bound to C-c C-x d. With an active region, this command puts the region inside the drawer. With a prefix argument, this command calls <code>org-insert-property-drawer</code>, which creates a ‘PROPERTIES’ drawer right below the current headline. Org mode uses this special drawer for storing properties (see<a href="https://orgmode.org/manual/Properties-and-Columns.html#Properties-and-Columns" target="_blank" rel="noopener">Properties and Columns</a>). You cannot use it for anything else.</p>
<p>Completion over drawer keywords is also possible using M-TAB<a href="https://orgmode.org/manual/Drawers.html#FOOT16" target="_blank" rel="noopener">16</a>.</p>
<p>Visibility cycling (see <a href="https://orgmode.org/manual/Visibility-Cycling.html#Visibility-Cycling" target="_blank" rel="noopener">Visibility Cycling</a>) on the headline hides and shows the entry, but keep the drawer collapsed to a single line. In order to look inside the drawer, you need to move point to the drawer line and press TAB there.</p>
<p>You can also arrange for state change notes (see <a href="https://orgmode.org/manual/Tracking-TODO-state-changes.html#Tracking-TODO-state-changes" target="_blank" rel="noopener">Tracking TODO state changes</a>) and clock times (see <a href="https://orgmode.org/manual/Clocking-Work-Time.html#Clocking-Work-Time" target="_blank" rel="noopener">Clocking Work Time</a>) to be stored in a ‘LOGBOOK’ drawer. If you want to store a quick note there, in a similar way to state changes, use</p>
<ul>
<li><p>C-c C-z</p>
<p>Add a time-stamped note to the ‘LOGBOOK’ drawer.</p>
<blockquote>
<p>　手动插入便可．</p>
</blockquote>
</li>
</ul>
<p>##　2.8 Blocks</p>
<blockquote>
<p>了解其formal概念是block即可.<br>文本编辑中的基本概念. 与HTML贯通起来. </p>
</blockquote>
<p>Org mode uses ‘#+BEGIN’ … ‘#+END’ blocks for various purposes from including source code examples (see <a href="https://orgmode.org/manual/Literal-Examples.html#Literal-Examples" target="_blank" rel="noopener">Literal Examples</a>) to capturing time logging information (see <a href="https://orgmode.org/manual/Clocking-Work-Time.html#Clocking-Work-Time" target="_blank" rel="noopener">Clocking Work Time</a>). These blocks can be folded and unfolded by pressing TAB in the ‘#+BEGIN’ line. You can also get all blocks folded at startup by configuring the variable <code>org-hide-block-startup</code> or on a per-file basis by using</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">#+STARTUP: hideblocks</span><br><span class="line">#+STARTUP: nohideblocks</span><br></pre></td></tr></table></figure>
<h2 id="2-9-Creating-Footnotes"><a href="#2-9-Creating-Footnotes" class="headerlink" title="2.9 Creating Footnotes"></a>2.9 Creating Footnotes</h2><blockquote>
<p>构建方式与markdown不同.</p>
</blockquote>
<p>Org mode supports the creation of footnotes.</p>
<p>A footnote is started by a footnote marker in square brackets in column 0, no indentation allowed. It ends at the next footnote definition, headline, or after two consecutive empty lines. The footnote reference is simply the marker in square brackets, inside text. Markers always start with ‘fn:’. For example:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">The Org homepage[fn:1] now looks a lot better than it used to.</span><br><span class="line">...</span><br><span class="line">[fn:1] The link is: https://orgmode.org</span><br></pre></td></tr></table></figure>
<p>Org mode extends the number-based syntax to <em>named</em> footnotes and optional inline definition. Here are the valid references:</p>
<ul>
<li><p>‘[fn:NAME]’</p>
<p>A named footnote reference, where NAME is a unique label word, or, for simplicity of automatic creation, a number.</p>
</li>
<li><p>‘[fn:: This is the inline definition of this footnote]’</p>
<p>A LaTeX-like anonymous footnote where the definition is given directly at the reference point.</p>
</li>
<li><p>‘[fn:NAME: a definition]’</p>
<p>An inline definition of a footnote, which also specifies a name for the note. Since Org allows multiple references to the same note, you can then use ‘[fn:NAME]’ to create additional references.</p>
</li>
</ul>
<p>Footnote labels can be created automatically, or you can create names yourself. This is handled by the variable <code>org-footnote-auto-label</code> and its corresponding ‘STARTUP’ keywords. See the docstring of that variable for details.</p>
<p>The following command handles footnotes:</p>
<ul>
<li><p>C-c C-x f</p>
<p>The footnote action command.When point is on a footnote reference, jump to the definition. When it is at a definition, jump to the—first—reference.Otherwise, create a new footnote. Depending on the variable <code>org-footnote-define-inline</code><a href="https://orgmode.org/manual/Creating-Footnotes.html#FOOT17" target="_blank" rel="noopener">17</a>, the definition is placed right into the text as part of the reference, or separately into the location determined by the variable <code>org-footnote-section</code>.When this command is called with a prefix argument, a menu of additional options is offered:sSort the footnote definitions by reference sequence.rRenumber the simple ‘fn:N’ footnotes.SShort for first r, then s action.nRename all footnotes into a ‘fn:1’ … ‘fn:n’ sequence.dDelete the footnote at point, including definition and references.Depending on the variable <code>org-footnote-auto-adjust</code><a href="https://orgmode.org/manual/Creating-Footnotes.html#FOOT18" target="_blank" rel="noopener">18</a>, renumbering and sorting footnotes can be automatic after each insertion or deletion.</p>
</li>
<li><p>C-c C-c</p>
<p>If point is on a footnote reference, jump to the definition. If it is at the definition, jump back to the reference. When called at a footnote location with a prefix argument, offer the same menu as C-c C-x f.</p>
</li>
<li><p>C-c C-o or mouse-1/2</p>
<p>Footnote labels are also links to the corresponding definition or reference, and you can use the usual commands to follow these links.</p>
</li>
</ul>

          
        
      
    </div>

    

    
    
    

    

    
      
    
    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://alphaalgorithms.github.io/2019/05/22/emacs-properties-and-columns/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Gabriel">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="DummyHead">
    </span>

    
      <header class="post-header">

        
        
          <h2 class="post-title" itemprop="name headline">
                
                
                <a href="/2019/05/22/emacs-properties-and-columns/" class="post-title-link" itemprop="url">7.Orgmode Properties and Columns</a>
              
            
          </h2>
        

        <div class="post-meta">
          <span class="post-time">

            
            
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              

              
                
              

              <time title="Created: 2019-05-22 00:34:50 / Modified: 05:49:03" itemprop="dateCreated datePublished" datetime="2019-05-22T00:34:50+08:00">2019-05-22</time>
            

            
              

              
            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/linux-emacs-orgmode/" itemprop="url" rel="index"><span itemprop="name">linux - emacs - orgmode</span></a></span>

                
                
              
            </span>
          

          
            
            
              
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <span class="post-meta-item-icon">
                  <i class="fa fa-comment-o"></i>
                </span>
            
                <span class="post-meta-item-text">Comments: </span>
                <a href="/2019/05/22/emacs-properties-and-columns/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count disqus-comment-count" data-disqus-identifier="2019/05/22/emacs-properties-and-columns/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>A property is a key-value pair associated with an entry. Properties can be set so they are associated with a single entry, with every entry in a tree, or with every entry in an Org file.</p>
<p>There are two main applications for properties in Org mode. First, properties are like tags, but with a value. Imagine maintaining a file where you document bugs and plan releases for a piece of software. Instead of using tags like ‘release_1’, ‘release_2’, you can use a property, say ‘Release’, that in different subtrees has different values, such as ‘1.0’ or ‘2.0’. Second, you can use properties to implement (very basic) database capabilities in an Org buffer. Imagine keeping track of your music CDs, where properties could be things such as the album, artist, date of release, number of tracks, and so on.</p>
<p>Properties can be conveniently edited and viewed in column view (see <a href="https://orgmode.org/manual/Column-View.html#Column-View" target="_blank" rel="noopener">Column View</a>).</p>
<table>
<thead>
<tr>
<th>• <a href="https://orgmode.org/manual/Property-Syntax.html#Property-Syntax" target="_blank" rel="noopener">Property Syntax</a>:</th>
<th>How properties are spelled out.</th>
</tr>
</thead>
<tbody>
<tr>
<td>• <a href="https://orgmode.org/manual/Special-Properties.html#Special-Properties" target="_blank" rel="noopener">Special Properties</a>:</td>
<td>Access to other Org mode features.</td>
</tr>
<tr>
<td>• <a href="https://orgmode.org/manual/Property-Searches.html#Property-Searches" target="_blank" rel="noopener">Property Searches</a>:</td>
<td>Matching property values.</td>
</tr>
<tr>
<td>• <a href="https://orgmode.org/manual/Property-Inheritance.html#Property-Inheritance" target="_blank" rel="noopener">Property Inheritance</a>:</td>
<td>Passing values down a tree.</td>
</tr>
<tr>
<td>• <a href="https://orgmode.org/manual/Column-View.html#Column-View" target="_blank" rel="noopener">Column View</a>:</td>
<td>Tabular viewing and editing.</td>
</tr>
</tbody>
</table>
<h2 id="7-1-Property-Syntax"><a href="#7-1-Property-Syntax" class="headerlink" title="7.1 Property Syntax"></a>7.1 Property Syntax</h2><blockquote>
<p>这里先看一眼就完事.</p>
</blockquote>
<p>Properties are key–value pairs. When they are associated with a single entry or with a tree they need to be inserted into a special drawer (see <a href="https://orgmode.org/manual/Drawers.html#Drawers" target="_blank" rel="noopener">Drawers</a>) with the name ‘PROPERTIES’, which has to be located right below a headline, and its planning line (see <a href="https://orgmode.org/manual/Deadlines-and-Scheduling.html#Deadlines-and-Scheduling" target="_blank" rel="noopener">Deadlines and Scheduling</a>) when applicable. Each property is specified on a single line, with the key—surrounded by colons—first, and the value after it. Keys are case-insensitive. Here is an example:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">* CD collection</span><br><span class="line">** Classic</span><br><span class="line">*** Goldberg Variations</span><br><span class="line">    :PROPERTIES:</span><br><span class="line">    :Title:     Goldberg Variations</span><br><span class="line">    :Composer:  J.S. Bach</span><br><span class="line">    :Artist:    Glenn Gould</span><br><span class="line">    :Publisher: Deutsche Grammophon</span><br><span class="line">    :NDisks:    1</span><br><span class="line">    :END:</span><br></pre></td></tr></table></figure>
<p>Depending on the value of <code>org-use-property-inheritance</code>, a property set this way is associated either with a single entry, or with the sub-tree defined by the entry, see <a href="https://orgmode.org/manual/Property-Inheritance.html#Property-Inheritance" target="_blank" rel="noopener">Property Inheritance</a>.</p>
<p>You may define the allowed values for a particular property ‘Xyz’ by setting a property ‘Xyz_ALL’. This special property is <em>inherited</em>, so if you set it in a level 1 entry, it applies to the entire tree. When allowed values are defined, setting the corresponding property becomes easier and is less prone to typing errors. For the example with the CD collection, we can pre-define publishers and the number of disks in a box like this:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">* CD collection</span><br><span class="line">  :PROPERTIES:</span><br><span class="line">  :NDisks_ALL:  1 2 3 4</span><br><span class="line">  :Publisher_ALL: &quot;Deutsche Grammophon&quot; Philips EMI</span><br><span class="line">  :END:</span><br></pre></td></tr></table></figure>
<p>If you want to set properties that can be inherited by any entry in a file, use a line like:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">#+PROPERTY: NDisks_ALL 1 2 3 4</span><br></pre></td></tr></table></figure>
<p>If you want to add to the value of an existing property, append a ‘+’ to the property name. The following results in the property ‘var’ having the value ‘foo=1 bar=2’.</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">#+PROPERTY: var  foo=1</span><br><span class="line">#+PROPERTY: var+ bar=2</span><br></pre></td></tr></table></figure>
<p>It is also possible to add to the values of inherited properties. The following results in the ‘Genres’ property having the value ‘Classic Baroque’ under the ‘Goldberg Variations’ subtree.</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">* CD collection</span><br><span class="line">** Classic</span><br><span class="line">    :PROPERTIES:</span><br><span class="line">    :Genres: Classic</span><br><span class="line">    :END:</span><br><span class="line">*** Goldberg Variations</span><br><span class="line">    :PROPERTIES:</span><br><span class="line">    :Title:     Goldberg Variations</span><br><span class="line">    :Composer:  J.S. Bach</span><br><span class="line">    :Artist:    Glenn Gould</span><br><span class="line">    :Publisher: Deutsche Grammophon</span><br><span class="line">    :NDisks:    1</span><br><span class="line">    :Genres+:   Baroque</span><br><span class="line">    :END:</span><br></pre></td></tr></table></figure>
<p>Note that a property can only have one entry per drawer.</p>
<p>Property values set with the global variable <code>org-global-properties</code> can be inherited by all entries in all Org files.</p>
<p>The following commands help to work with properties:</p>
<ul>
<li><p>M-TAB (<code>pcomplete</code>)</p>
<p>After an initial colon in a line, complete property keys. All keys used in the current file are offered as possible completions.</p>
</li>
<li><p>C-c C-x p (<code>org-set-property</code>)</p>
<p>Set a property. This prompts for a property name and a value. If necessary, the property drawer is created as well.</p>
</li>
<li><p>C-u M-x org-insert-drawer</p>
<p>Insert a property drawer into the current entry. The drawer is inserted early in the entry, but after the lines with planning information like deadlines.</p>
</li>
<li><p>C-c C-c (<code>org-property-action</code>)</p>
<p>With point in a property drawer, this executes property commands.</p>
</li>
<li><p>C-c C-c s (<code>org-set-property</code>)</p>
<p>Set a property in the current entry. Both the property and the value can be inserted using completion.</p>
</li>
<li><p>S-RIGHT (<code>org-property-next-allowed-values</code>)</p>
</li>
<li><p>S-LEFT (<code>org-property-previous-allowed-value</code>)</p>
<p>Switch property at point to the next/previous allowed value.</p>
</li>
<li><p>C-c C-c d (<code>org-delete-property</code>)</p>
<p>Remove a property from the current entry.</p>
</li>
<li><p>C-c C-c D (<code>org-delete-property-globally</code>)</p>
<p>Globally remove a property, from all entries in the current file.</p>
</li>
<li><p>C-c C-c c (<code>org-compute-property-at-point</code>)</p>
<p>Compute the property at point, using the operator and scope from the nearest column format definition.</p>
</li>
</ul>
<h2 id="7-2-Special-Properties"><a href="#7-2-Special-Properties" class="headerlink" title="7.2 Special Properties"></a>7.2 Special Properties</h2><blockquote>
<p>reserved properties, 看一样便可, </p>
</blockquote>
<p>  Special properties provide an alternative access method to Org mode features, like the TODO state or the priority of an entry, discussed in the previous chapters. This interface exists so that you can include these states in a column view (see <a href="https://orgmode.org/manual/Column-View.html#Column-View" target="_blank" rel="noopener">Column View</a>), or to use them in queries. The following property names are special and should not be used as keys in the properties drawer:</p>
<table>
<thead>
<tr>
<th>‘ALLTAGS’</th>
<th>All tags, including inherited ones.</th>
</tr>
</thead>
<tbody>
<tr>
<td>‘BLOCKED’</td>
<td><code>t</code> if task is currently blocked by children or siblings.</td>
</tr>
<tr>
<td>‘CATEGORY’</td>
<td>The category of an entry.</td>
</tr>
<tr>
<td>‘CLOCKSUM’</td>
<td>The sum of CLOCK intervals in the subtree. <code>org-clock-sum</code></td>
</tr>
<tr>
<td></td>
<td>must be run first to compute the values in the current buffer.</td>
</tr>
<tr>
<td>‘CLOCKSUM_T’</td>
<td>The sum of CLOCK intervals in the subtree for today.</td>
</tr>
<tr>
<td></td>
<td><code>org-clock-sum-today</code> must be run first to compute the</td>
</tr>
<tr>
<td></td>
<td>values in the current buffer.</td>
</tr>
<tr>
<td>‘CLOSED’</td>
<td>When was this entry closed?</td>
</tr>
<tr>
<td>‘DEADLINE’</td>
<td>The deadline time string, without the angular brackets.</td>
</tr>
<tr>
<td>‘FILE’</td>
<td>The filename the entry is located in.</td>
</tr>
<tr>
<td>‘ITEM’</td>
<td>The headline of the entry.</td>
</tr>
<tr>
<td>‘PRIORITY’</td>
<td>The priority of the entry, a string with a single letter.</td>
</tr>
<tr>
<td>‘SCHEDULED’</td>
<td>The scheduling timestamp, without the angular brackets.</td>
</tr>
<tr>
<td>‘TAGS’</td>
<td>The tags defined directly in the headline.</td>
</tr>
<tr>
<td>‘TIMESTAMP’</td>
<td>The first keyword-less timestamp in the entry.</td>
</tr>
<tr>
<td>‘TIMESTAMP_IA’</td>
<td>The first inactive timestamp in the entry.</td>
</tr>
<tr>
<td>‘TODO’</td>
<td>The TODO keyword of the entry.</td>
</tr>
</tbody>
</table>
<h2 id="7-3-Property-Searches"><a href="#7-3-Property-Searches" class="headerlink" title="7.3 Property Searches"></a>7.3 Property Searches</h2><blockquote>
<p>search是至关重要的一点.</p>
</blockquote>
<p>To create sparse trees and special lists with selection based on properties, the same commands are used as for tag searches (see <a href="https://orgmode.org/manual/Tag-Searches.html#Tag-Searches" target="_blank" rel="noopener">Tag Searches</a>).</p>
<ul>
<li><p>C-c / m or C-c \ (<code>org-match-sparse-tree</code>)</p>
<p>Create a sparse tree with all matching entries. With a C-u prefix argument, ignore headlines that are not a TODO line.</p>
</li>
<li><p>M-x org-agenda m, <code>org-tags-view</code></p>
<p>Create a global list of tag/property matches from all agenda files.</p>
</li>
<li><p>M-x org-agenda M (<code>org-tags-view</code>)</p>
<p>Create a global list of tag matches from all agenda files, but check only TODO items and force checking of subitems (see the option <code>org-tags-match-list-sublevels</code>).</p>
</li>
</ul>
<p>The syntax for the search string is described in <a href="https://orgmode.org/manual/Matching-tags-and-properties.html#Matching-tags-and-properties" target="_blank" rel="noopener">Matching tags and properties</a>.</p>
<p>There is also a special command for creating sparse trees based on a single property:</p>
<ul>
<li><p>C-c / p</p>
<p>Create a sparse tree based on the value of a property. This first prompts for the name of a property, and then for a value. A sparse tree is created with all entries that define this property with the given value. If you enclose the value in curly braces, it is interpreted as a regular expression and matched against the property valu</p>
</li>
</ul>
<h2 id="7-4-Property-Inheritance"><a href="#7-4-Property-Inheritance" class="headerlink" title="7.4 Property Inheritance"></a>7.4 Property Inheritance</h2><blockquote>
<p>有点意思了, 能将全部的内容打穿. </p>
</blockquote>
<p>The outline structure of Org documents lends itself to an inheritance model of properties: if the parent in a tree has a certain property, the children can inherit this property. Org mode does not turn this on by default, because it can slow down property searches significantly and is often not needed. However, if you find inheritance useful, you can turn it on by setting the variable <code>org-use-property-inheritance</code>. It may be set to <code>t</code> to make all properties inherited from the parent, to a list of properties that should be inherited, or to a regular expression that matches inherited properties. If a property has the value <code>nil</code>, this is interpreted as an explicit un-define of the property, so that inheritance search stops at this value and returns <code>nil</code>.</p>
<p>Org mode has a few properties for which inheritance is hard-coded, at least for the special applications for which they are used:</p>
<ul>
<li><p><code>COLUMNS</code></p>
<p>The ‘COLUMNS’ property defines the format of column view (see <a href="https://orgmode.org/manual/Column-View.html#Column-View" target="_blank" rel="noopener">Column View</a>). It is inherited in the sense that the level where a ‘COLUMNS’ property is defined is used as the starting point for a column view table, independently of the location in the subtree from where columns view is turned on.</p>
</li>
<li><p><code>CATEGORY</code></p>
<p>For agenda view, a category set through a ‘CATEGORY’ property applies to the entire subtree.</p>
</li>
<li><p><code>ARCHIVE</code></p>
<p>For archiving, the ‘ARCHIVE’ property may define the archive location for the entire subtree (see <a href="https://orgmode.org/manual/Moving-subtrees.html#Moving-subtrees" target="_blank" rel="noopener">Moving subtrees</a>).</p>
</li>
<li><p><code>LOGGING</code></p>
<p>The ‘LOGGING’ property may define logging settings for an entry or a subtree (see <a href="https://orgmode.org/manual/Tracking-TODO-state-changes.html#Tracking-TODO-state-changes" target="_blank" rel="noopener">Tracking TODO state changes</a>).</p>
</li>
</ul>
<h2 id="7-5-Column-View"><a href="#7-5-Column-View" class="headerlink" title="7.5 Column View"></a>7.5 Column View</h2><p>A great way to view and edit properties in an outline tree is <em>column view</em>. In column view, each outline node is turned into a table row. Columns in this table provide access to properties of the entries. Org mode implements columns by overlaying a tabular structure over the headline of each item. While the headlines have been turned into a table row, you can still change the visibility of the outline tree. For example, you get a compact table by switching to “contents” view—S-TAB S-TAB, or simply c while column view is active—but you can still open, read, and edit the entry below each headline. Or, you can switch to column view after executing a sparse tree command and in this way get a table only for the selected items. Column view also works in agenda buffers (see <a href="https://orgmode.org/manual/Agenda-Views.html#Agenda-Views" target="_blank" rel="noopener">Agenda Views</a>) where queries have collected selected items, possibly from a number of files.</p>
<table>
<thead>
<tr>
<th>• <a href="https://orgmode.org/manual/Defining-columns.html#Defining-columns" target="_blank" rel="noopener">Defining columns</a>:</th>
<th>The COLUMNS format property.</th>
</tr>
</thead>
<tbody>
<tr>
<td>• <a href="https://orgmode.org/manual/Using-column-view.html#Using-column-view" target="_blank" rel="noopener">Using column view</a>:</td>
<td>How to create and use column view.</td>
</tr>
<tr>
<td>• <a href="https://orgmode.org/manual/Capturing-column-view.html#Capturing-column-view" target="_blank" rel="noopener">Capturing column view</a>:</td>
<td>A dynamic block for column view.</td>
</tr>
</tbody>
</table>
<h3 id="7-5-1-Defining-columns"><a href="#7-5-1-Defining-columns" class="headerlink" title="7.5.1 Defining columns"></a>7.5.1 Defining columns</h3><p>Setting up a column view first requires defining the columns. This is done by defining a column format line.</p>
<table>
<thead>
<tr>
<th>• <a href="https://orgmode.org/manual/Scope-of-column-definitions.html#Scope-of-column-definitions" target="_blank" rel="noopener">Scope of column definitions</a>:</th>
<th>Where defined, where valid?</th>
</tr>
</thead>
<tbody>
<tr>
<td>• <a href="https://orgmode.org/manual/Column-attributes.html#Column-attributes" target="_blank" rel="noopener">Column attributes</a>:</td>
<td>Appearance and content of a column.</td>
</tr>
</tbody>
</table>
<blockquote>
<p>有点复杂, 不知道有啥用. </p>
</blockquote>
<h4 id="7-5-1-1-Scope-of-column-definitions"><a href="#7-5-1-1-Scope-of-column-definitions" class="headerlink" title="7.5.1.1 Scope of column definitions"></a>7.5.1.1 Scope of column definitions</h4><p>To define a column format for an entire file, use a line like:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">#+COLUMNS: %25ITEM %TAGS %PRIORITY %TODO</span><br></pre></td></tr></table></figure>
<p>To specify a format that only applies to a specific tree, add a ‘COLUMNS’ property to the top node of that tree, for example:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">** Top node for columns view</span><br><span class="line">   :PROPERTIES:</span><br><span class="line">   :COLUMNS: %25ITEM %TAGS %PRIORITY %TODO</span><br><span class="line">   :END:</span><br></pre></td></tr></table></figure>
<p>If a ‘COLUMNS’ property is present in an entry, it defines columns for the entry itself, and for the entire subtree below it. Since the column definition is part of the hierarchical structure of the document, you can define columns on level 1 that are general enough for all sublevels, and more specific columns further down, when you edit a deeper part of the tree.</p>
<h4 id="7-5-1-2-Column-attributes"><a href="#7-5-1-2-Column-attributes" class="headerlink" title="7.5.1.2 Column attributes"></a>7.5.1.2 Column attributes</h4><p>A column definition sets the attributes of a column. The general definition looks like this:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">%[WIDTH]PROPERTY[(TITLE)][&#123;SUMMARY-TYPE&#125;]</span><br></pre></td></tr></table></figure>
<p>Except for the percent sign and the property name, all items are optional. The individual parts have the following meaning:</p>
<ul>
<li><p>WIDTH</p>
<p>An integer specifying the width of the column in characters. If omitted, the width is determined automatically.</p>
</li>
<li><p>PROPERTY</p>
<p>The property that should be edited in this column. Special properties representing meta data are allowed here as well (see <a href="https://orgmode.org/manual/Special-Properties.html#Special-Properties" target="_blank" rel="noopener">Special Properties</a>).</p>
</li>
<li><p>TITLE</p>
<p>The header text for the column. If omitted, the property name is used.</p>
</li>
<li><p>SUMMARY-TYPE</p>
<p>The summary type. If specified, the column values for parent nodes are computed from the children<a href="https://orgmode.org/manual/Column-attributes.html#FOOT57" target="_blank" rel="noopener">57</a>.Supported summary types are:‘+’Sum numbers in this column.‘+;%.1f’Like ‘+’, but format result with ‘%.1f’.‘$’Currency, short for ‘+;%.2f’.‘min’Smallest number in column.‘max’Largest number.‘mean’Arithmetic mean of numbers.‘X’Checkbox status, ‘[X]’ if all children are ‘[X]’.‘X/’Checkbox status, ‘[n/m]’.‘X%’Checkbox status, ‘[n%]’.‘:’Sum times, HH:MM, plain numbers are hours.‘:min’Smallest time value in column.‘:max’Largest time value.‘:mean’Arithmetic mean of time values.‘@min’Minimum age<a href="https://orgmode.org/manual/Column-attributes.html#FOOT58" target="_blank" rel="noopener">58</a> (in days/hours/mins/seconds).‘@max’Maximum age (in days/hours/mins/seconds).‘@mean’Arithmetic mean of ages (in days/hours/mins/seconds).‘est+’Add low-high estimates.You can also define custom summary types by setting <code>org-columns-summary-types</code>.</p>
</li>
</ul>
<p>The ‘est+’ summary type requires further explanation. It is used for combining estimates, expressed as low-high ranges. For example, instead of estimating a particular task will take 5 days, you might estimate it as 5–6 days if you’re fairly confident you know how much work is required, or 1–10 days if you do not really know what needs to be done. Both ranges average at 5.5 days, but the first represents a more predictable delivery.</p>
<p>When combining a set of such estimates, simply adding the lows and highs produces an unrealistically wide result. Instead, ‘est+’ adds the statistical mean and variance of the subtasks, generating a final estimate from the sum. For example, suppose you had ten tasks, each of which was estimated at 0.5 to 2 days of work. Straight addition produces an estimate of 5 to 20 days, representing what to expect if everything goes either extremely well or extremely poorly. In contrast, ‘est+’ estimates the full job more realistically, at 10–15 days.</p>
<p>Here is an example for a complete columns definition, along with allowed values<a href="https://orgmode.org/manual/Column-attributes.html#FOOT59" target="_blank" rel="noopener">59</a>.</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">:COLUMNS:  %25ITEM %9Approved(Approved?)&#123;X&#125; %Owner %11Status \</span><br><span class="line">                   %10Time_Estimate&#123;:&#125; %CLOCKSUM %CLOCKSUM_T</span><br><span class="line">:Owner_ALL:    Tammy Mark Karl Lisa Don</span><br><span class="line">:Status_ALL:   &quot;In progress&quot; &quot;Not started yet&quot; &quot;Finished&quot; &quot;&quot;</span><br><span class="line">:Approved_ALL: &quot;[ ]&quot; &quot;[X]&quot;</span><br></pre></td></tr></table></figure>
<p>The first column, ‘%25ITEM’, means the first 25 characters of the item itself, i.e., of the headline. You probably always should start the column definition with the ‘ITEM’ specifier. The other specifiers create columns ‘Owner’ with a list of names as allowed values, for ‘Status’ with four different possible values, and for a checkbox field ‘Approved’. When no width is given after the ‘%’ character, the column is exactly as wide as it needs to be in order to fully display all values. The ‘Approved’ column does have a modified title (‘Approved?’, with a question mark). Summaries are created for the ‘Time_Estimate’ column by adding time duration expressions like HH:MM, and for the ‘Approved’ column, by providing an ‘[X]’ status if all children have been checked. The ‘CLOCKSUM’ and ‘CLOCKSUM_T’ columns are special, they lists the sums of CLOCK intervals in the subtree, either for all clocks or just for today.</p>
<h3 id="7-5-2-Using-column-view"><a href="#7-5-2-Using-column-view" class="headerlink" title="7.5.2 Using column view"></a>7.5.2 Using column view</h3><blockquote>
<p>平白叙述, 没有应用实例. </p>
</blockquote>
<h4 id="Turning-column-view-on-or-off"><a href="#Turning-column-view-on-or-off" class="headerlink" title="Turning column view on or off"></a>Turning column view on or off</h4><ul>
<li><p>C-c C-x C-c (<code>org-columns</code>)</p>
<p>Turn on column view. If point is before the first headline in the file, column view is turned on for the entire file, using the ‘#+COLUMNS’ definition. If point is somewhere inside the outline, this command searches the hierarchy, up from point, for a ‘COLUMNS’ property that defines a format. When one is found, the column view table is established for the tree starting at the entry that contains the ‘COLUMNS’ property. If no such property is found, the format is taken from the ‘#+COLUMNS’ line or from the variable <code>org-columns-default-format</code>, and column view is established for the current entry and its subtree.</p>
</li>
<li><p>r or g (<code>org-columns-redo</code>)</p>
<p>Recreate the column view, to include recent changes made in the buffer.</p>
</li>
<li><p>q (<code>org-columns-quit</code>)</p>
<p>Exit column view.</p>
</li>
</ul>
<h4 id="Editing-values"><a href="#Editing-values" class="headerlink" title="Editing values"></a>Editing values</h4><ul>
<li><p>LEFT, RIGHT, UP, DOWN</p>
<p>Move through the column view from field to field.</p>
</li>
<li><p>1..9,0</p>
<p>Directly select the Nth allowed value, 0 selects the 10th value.</p>
</li>
<li><p>n or S-RIGHT (<code>org-columns-next-allowed-value</code>)</p>
</li>
<li><p>p or S-LEFT (<code>org-columns-previous-allowed-value</code>)</p>
<p>Switch to the next/previous allowed value of the field. For this, you have to have specified allowed values for a property.</p>
</li>
<li><p>e (<code>org-columns-edit-value</code>)</p>
<p>Edit the property at point. For the special properties, this invokes the same interface that you normally use to change that property. For example, the tag completion or fast selection interface pops up when editing a ‘TAGS’ property.</p>
</li>
<li><p>C-c C-c (<code>org-columns-set-tags-or-toggle</code>)<br>n<br>When there is a checkbox at point, toggle it.</p>
</li>
<li><p>v (<code>org-columns-show-value</code>)</p>
<p>View the full value of this property. This is useful if the width of the column is smaller than that of the value.</p>
</li>
<li><p>a (<code>org-columns-edit-allowed</code>)</p>
<p>Edit the list of allowed values for this property. If the list is found in the hierarchy, the modified values is stored there. If no list is found, the new value is stored in the first entry that is part of the current column view.</p>
</li>
</ul>
<h4 id="Modifying-column-view-on-the-fly"><a href="#Modifying-column-view-on-the-fly" class="headerlink" title="Modifying column view on-the-fly"></a>Modifying column view on-the-fly</h4><ul>
<li><p>&lt; (<code>org-columns-narrow</code>)</p>
</li>
<li><blockquote>
<p>(<code>org-columns-widen</code>)</p>
</blockquote>
<p>Make the column narrower/wider by one character.</p>
</li>
<li><p>S-M-RIGHT (<code>org-columns-new</code>)</p>
<p>Insert a new column, to the left of the current column.</p>
</li>
<li><p>S-M-LEFT (<code>org-columns-delete</code>)</p>
<p>Delete the current column.</p>
</li>
</ul>
<h3 id="7-5-3-Capturing-column-view"><a href="#7-5-3-Capturing-column-view" class="headerlink" title="7.5.3 Capturing column view"></a>7.5.3 Capturing column view</h3><blockquote>
<p>弄得这么负责, 有啥鸟用. </p>
</blockquote>
<p>Since column view is just an overlay over a buffer, it cannot be exported or printed directly. If you want to capture a column view, use a ‘columnview’ dynamic block (see <a href="https://orgmode.org/manual/Dynamic-Blocks.html#Dynamic-Blocks" target="_blank" rel="noopener">Dynamic Blocks</a>). The frame of this block looks like this:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">* The column view</span><br><span class="line">#+BEGIN: columnview :hlines 1 :id &quot;label&quot;</span><br><span class="line">#+END:</span><br></pre></td></tr></table></figure>
<p>This dynamic block has the following parameters:</p>
<ul>
<li><p>‘:id’</p>
<p>This is the most important parameter. Column view is a feature that is often localized to a certain (sub)tree, and the capture block might be at a different location in the file. To identify the tree whose view to capture, you can use four values:‘local’Use the tree in which the capture block is located.‘global’Make a global view, including all headings in the file.‘file:FILENAME’Run column view at the top of the FILENAME file.‘LABEL’Call column view in the tree that has an ‘ID’ property with the value LABEL. You can use M-x org-id-copy to create a globally unique ID for the current entry and copy it to the kill-ring.</p>
</li>
<li><p>‘:hlines’</p>
<p>When <code>t</code>, insert an hline after every line. When a number N, insert an hline before each headline with level <code>&lt;= N</code>.</p>
</li>
<li><p>‘:vlines’</p>
<p>When non-<code>nil</code>, force column groups to get vertical lines.</p>
</li>
<li><p>‘:maxlevel’</p>
<p>When set to a number, do not capture entries below this level.</p>
</li>
<li><p>‘:skip-empty-rows’</p>
<p>When non-<code>nil</code>, skip rows where the only non-empty specifier of the column view is ‘ITEM’.</p>
</li>
<li><p>‘:indent’</p>
<p>When non-<code>nil</code>, indent each ‘ITEM’ field according to its level.</p>
</li>
<li><p>‘:format’</p>
<p>Specify a column attribute (see <a href="https://orgmode.org/manual/Column-attributes.html#Column-attributes" target="_blank" rel="noopener">Column attributes</a>) for the dynamic block.</p>
</li>
</ul>
<p>The following commands insert or update the dynamic block:</p>
<ul>
<li><p>C-c C-x i (<code>org-insert-columns-dblock</code>)</p>
<p>Insert a dynamic block capturing a column view. Prompt for the scope or ID of the view.</p>
</li>
<li><p>C-c C-c C-c C-x C-u (<code>org-dblock-update</code>)</p>
<p>Update dynamic block at point. point needs to be in the ‘#+BEGIN’ line of the dynamic block.</p>
</li>
<li><p>C-u C-c C-x C-u (<code>org-update-all-dblocks</code>)</p>
<p>Update all dynamic blocks (see <a href="https://orgmode.org/manual/Dynamic-Blocks.html#Dynamic-Blocks" target="_blank" rel="noopener">Dynamic Blocks</a>). This is useful if you have several clock table blocks, column-capturing blocks or other dynamic blocks in a buffer.</p>
</li>
</ul>
<p>You can add formulas to the column view table and you may add plotting instructions in front of the table—these survive an update of the block. If there is a ‘TBLFM’ keyword after the table, the table is recalculated automatically after an update.</p>
<p>An alternative way to capture and process property values into a table is provided by Eric Schulte’s ‘org-collector.el’, which is a contributed package<a href="https://orgmode.org/manual/Capturing-column-view.html#FOOT60" target="_blank" rel="noopener">60</a>. It provides a general API to collect properties from entries in a certain scope, and arbitrary Lisp expressions to process these values before inserting them into a table or a dynamic block.</p>

          
        
      
    </div>

    

    
    
    

    

    
      
    
    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
  </section>

  
  <nav class="pagination">
    <span class="page-number current">1</span><a class="page-number" href="/page/2/">2</a><a class="page-number" href="/page/3/">3</a><a class="extend next" rel="next" href="/page/2/"><i class="fa fa-angle-right" aria-label="Next page"></i></a>
  </nav>



          </div>
          

        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    <div class="sidebar-inner">

      

      

      <div class="site-overview-wrap sidebar-panel sidebar-panel-active">
        <div class="site-overview">
          <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
            
              <p class="site-author-name" itemprop="name">Gabriel</p>
              <div class="site-description motion-element" itemprop="description"></div>
          </div>

          
            <nav class="site-state motion-element">
              
                <div class="site-state-item site-state-posts">
                
                  <a href="/archives/">
                
                    <span class="site-state-item-count">22</span>
                    <span class="site-state-item-name">posts</span>
                  </a>
                </div>
              

              
                
                
                <div class="site-state-item site-state-categories">
                  
                    
                      <a href="/categories/">
                    
                  
                    
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                    <span class="site-state-item-count">16</span>
                    <span class="site-state-item-name">categories</span>
                  </a>
                </div>
              

              
                
                
                <div class="site-state-item site-state-tags">
                  
                    
                      <a href="/tags/">
                    
                  
                    
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                    <span class="site-state-item-count">26</span>
                    <span class="site-state-item-name">tags</span>
                  </a>
                </div>
              
            </nav>
          

          

          

          
            <div class="links-of-author motion-element">
              
                <span class="links-of-author-item">
                  
                  
                    
                  
                  
                    
                  
                  <a href="https://github.com/AlphaAlgorithms" title="GitHub &rarr; https://github.com/AlphaAlgorithms" rel="noopener" target="_blank"><i class="fa fa-fw fa-github"></i>GitHub</a>
                </span>
              
            </div>
          

          

          
          

          
            
          
          

        </div>
      </div>

      

      

    </div>
  </aside>
  


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright">&copy; <span itemprop="copyrightYear">2019</span>
  <span class="with-love" id="animate">
    <i class="fa fa-user"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Gabriel</span>

  

  
</div>


  <div class="powered-by">Powered by <a href="https://hexo.io" class="theme-link" rel="noopener" target="_blank">Hexo</a> v3.8.0</div>



  <span class="post-meta-divider">|</span>



  <div class="theme-info">Theme – <a href="https://theme-next.org" class="theme-link" rel="noopener" target="_blank">NexT.Mist</a> v7.1.1</div>




        








        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
      </div>
    

    

    

    
  </div>

  

<script>
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>


























  
  <script src="/lib/jquery/index.js?v=2.1.3"></script>

  
  <script src="/lib/velocity/velocity.min.js?v=1.2.1"></script>

  
  <script src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>


  


  <script src="/js/utils.js?v=7.1.1"></script>

  <script src="/js/motion.js?v=7.1.1"></script>



  
  


  <script src="/js/schemes/muse.js?v=7.1.1"></script>




  

  


  <script src="/js/next-boot.js?v=7.1.1"></script>


  

  

  

  
  
  <script id="dsq-count-scr" src="https://alphaalgorithms.disqus.com/count.js" async></script>







  




  

  

  

  

  

  

  

  

  

  

  

  

  

  

</body>
</html>
