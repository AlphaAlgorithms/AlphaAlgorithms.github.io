<!DOCTYPE html>












  


<html class="theme-next mist use-motion" lang>
<head><meta name="generator" content="Hexo 3.8.0">
  <meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
























<link rel="stylesheet" href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2">

<link rel="stylesheet" href="/css/main.css?v=7.1.1">


  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png?v=7.1.1">


  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png?v=7.1.1">


  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png?v=7.1.1">


  <link rel="mask-icon" href="/images/logo.svg?v=7.1.1" color="#222">







<script id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Mist',
    version: '7.1.1',
    sidebar: {"position":"left","display":"post","offset":12,"onmobile":false,"dimmer":false},
    back2top: true,
    back2top_sidebar: false,
    fancybox: false,
    fastclick: false,
    lazyload: false,
    tabs: true,
    motion: {"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>


  




  <meta property="og:type" content="website">
<meta property="og:title" content="DummyHead">
<meta property="og:url" content="https://alphaalgorithms.github.io/index.html">
<meta property="og:site_name" content="DummyHead">
<meta property="og:locale" content="default">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="DummyHead">





  
  
  <link rel="canonical" href="https://alphaalgorithms.github.io/">



<script id="page.configurations">
  CONFIG.page = {
    sidebar: "",
  };
</script>

  <title>DummyHead</title>
  












  <noscript>
  <style>
  .use-motion .motion-element,
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-title { opacity: initial; }

  .use-motion .logo,
  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>

</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="default">

  
  
    
  

  <div class="container sidebar-position-left 
  page-home">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta">
    

    <div class="custom-logo-site-title">
      <a href="/" class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">DummyHead</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
    
    
  </div>

  <div class="site-nav-toggle">
    <button aria-label="Toggle navigation bar">
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>



<nav class="site-nav">
  
    <ul id="menu" class="menu">
      
        
        
        
          
          <li class="menu-item menu-item-home menu-item-active">

    
    
    
      
    

    
      
    

    <a href="/" rel="section"><i class="menu-item-icon fa fa-fw fa-home"></i> <br>Home</a>

  </li>
        
        
        
          
          <li class="menu-item menu-item-tags">

    
    
    
      
    

    
      
    

    <a href="/tags/" rel="section"><i class="menu-item-icon fa fa-fw fa-tags"></i> <br>Tags<span class="badge">19</span></a>

  </li>
        
        
        
          
          <li class="menu-item menu-item-categories">

    
    
    
      
    

    
      
    

    <a href="/categories/" rel="section"><i class="menu-item-icon fa fa-fw fa-th"></i> <br>Categories<span class="badge">8</span></a>

  </li>
        
        
        
          
          <li class="menu-item menu-item-archives">

    
    
    
      
    

    
      
    

    <a href="/archives/" rel="section"><i class="menu-item-icon fa fa-fw fa-archive"></i> <br>Archives<span class="badge">14</span></a>

  </li>

      
      
    </ul>
  

  
    

  

  
</nav>



  



</div>
    </header>

    


    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          
          <div id="content" class="content">
            
  <section id="posts" class="posts-expand">
    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://alphaalgorithms.github.io/2019/05/22/emacs-document-structure/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Gabriel">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="DummyHead">
    </span>

    
      <header class="post-header">

        
        
          <h2 class="post-title" itemprop="name headline">
                
                
                <a href="/2019/05/22/emacs-document-structure/" class="post-title-link" itemprop="url">2.Document Strucure</a>
              
            
          </h2>
        

        <div class="post-meta">
          <span class="post-time">

            
            
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              

              
                
              

              <time title="Created: 2019-05-22 09:51:35 / Modified: 10:46:49" itemprop="dateCreated datePublished" datetime="2019-05-22T09:51:35+08:00">2019-05-22</time>
            

            
              

              
            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/linux-emacs-orgmode/" itemprop="url" rel="index"><span itemprop="name">linux - emacs - orgmode</span></a></span>

                
                
              
            </span>
          

          
            
            
              
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <span class="post-meta-item-icon">
                  <i class="fa fa-comment-o"></i>
                </span>
            
                <span class="post-meta-item-text">Comments: </span>
                <a href="/2019/05/22/emacs-document-structure/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count disqus-comment-count" data-disqus-identifier="2019/05/22/emacs-document-structure/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <hr>
<p>Org is an outliner. Outlines allow a document to be organized in a hierarchical structure, which, least for me, is the best representation of notes and thoughts. An overview of this structure is achieved by folding, i.e., hiding large parts of the document to show only the general document structure and the parts currently being worked on. Org greatly simplifies the use of outlines by compressing the entire show and hide functionalities into a single command, <code>org-cycle</code>, which is bound to the TAB key.</p>
<table>
<thead>
<tr>
<th>• <a href="https://orgmode.org/manual/Headlines.html#Headlines" target="_blank" rel="noopener">Headlines</a>:</th>
<th>How to typeset Org tree headlines.</th>
</tr>
</thead>
<tbody>
<tr>
<td>• <a href="https://orgmode.org/manual/Visibility-Cycling.html#Visibility-Cycling" target="_blank" rel="noopener">Visibility Cycling</a>:</td>
<td>Show and hide, much simplified.</td>
</tr>
<tr>
<td>• <a href="https://orgmode.org/manual/Motion.html#Motion" target="_blank" rel="noopener">Motion</a>:</td>
<td>Jumping to other headlines.</td>
</tr>
<tr>
<td>• <a href="https://orgmode.org/manual/Structure-Editing.html#Structure-Editing" target="_blank" rel="noopener">Structure Editing</a>:</td>
<td>Changing sequence and level of headlines.</td>
</tr>
<tr>
<td>• <a href="https://orgmode.org/manual/Sparse-Trees.html#Sparse-Trees" target="_blank" rel="noopener">Sparse Trees</a>:</td>
<td>Matches embedded in context.</td>
</tr>
<tr>
<td>• <a href="https://orgmode.org/manual/Plain-Lists.html#Plain-Lists" target="_blank" rel="noopener">Plain Lists</a>:</td>
<td>Additional structure within an entry.</td>
</tr>
<tr>
<td>• <a href="https://orgmode.org/manual/Drawers.html#Drawers" target="_blank" rel="noopener">Drawers</a>:</td>
<td>Tucking stuff away.</td>
</tr>
<tr>
<td>• <a href="https://orgmode.org/manual/Blocks.html#Blocks" target="_blank" rel="noopener">Blocks</a>:</td>
<td>Folding blocks.</td>
</tr>
<tr>
<td>• <a href="https://orgmode.org/manual/Creating-Footnotes.html#Creating-Footnotes" target="_blank" rel="noopener">Creating Footnotes</a>:</td>
<td>How footnotes are defined in Org’s syntax.</td>
</tr>
</tbody>
</table>
<h2 id="2-1-Headlines"><a href="#2-1-Headlines" class="headerlink" title="2.1 Headlines"></a>2.1 Headlines</h2><blockquote>
<p>最大的收获便是:<br>org-cycle-separator-lines 此功能可以控制.</p>
</blockquote>
<p>Headlines define the structure of an outline tree. The headlines in Org start with one or more stars, on the left margin<a href="https://orgmode.org/manual/Headlines.html#FOOT3" target="_blank" rel="noopener">3</a>. For example:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">* Top level headline</span><br><span class="line">** Second level</span><br><span class="line">*** Third level</span><br><span class="line">    some text</span><br><span class="line">*** Third level</span><br><span class="line">    more text</span><br><span class="line">* Another top level headline</span><br></pre></td></tr></table></figure>
<p>The name defined in <code>org-footnote-section</code> is reserved. Do not use it as a title for your own headings.</p>
<p>Some people find the many stars too noisy and would prefer an outline that has whitespace followed by a single star as headline starters. See <a href="https://orgmode.org/manual/Clean-View.html#Clean-View" target="_blank" rel="noopener">Clean View</a>.</p>
<p>An empty line after the end of a subtree is considered part of it and is hidden when the subtree is folded. However, if you leave at least two empty lines, one empty line remains visible after folding the subtree, in order to structure the collapsed view. See the variable <code>org-cycle-separator-lines</code> to modify this behavior.</p>
<blockquote>
<p>See the variables <code>org-special-ctrl-a/e</code>, <code>org-special-ctrl-k</code>, and <code>org-ctrl-k-protect-subtree</code> to configure special behavior of C-a, C-e, and C-k in headlines. Note also that clocking only works with headings indented less than 30 stars.</p>
</blockquote>
<h2 id="2-2-Visibility-Cycling"><a href="#2-2-Visibility-Cycling" class="headerlink" title="2.2 Visibility Cycling"></a>2.2 Visibility Cycling</h2><table>
<thead>
<tr>
<th>• <a href="https://orgmode.org/manual/Global-and-local-cycling.html#Global-and-local-cycling" target="_blank" rel="noopener">Global and local cycling</a>:</th>
<th>Cycling through various visibility states.</th>
</tr>
</thead>
<tbody>
<tr>
<td>• <a href="https://orgmode.org/manual/Initial-visibility.html#Initial-visibility" target="_blank" rel="noopener">Initial visibility</a>:</td>
<td>Setting the initial visibility state.</td>
</tr>
<tr>
<td>• <a href="https://orgmode.org/manual/Catching-invisible-edits.html#Catching-invisible-edits" target="_blank" rel="noopener">Catching invisible edits</a>:</td>
<td>Preventing mistakes when editing invisible parts.</td>
</tr>
</tbody>
</table>
<h3 id="2-2-1-Global-and-local-cycling"><a href="#2-2-1-Global-and-local-cycling" class="headerlink" title="2.2.1 Global and local cycling"></a>2.2.1 Global and local cycling</h3><blockquote>
<p>Tab and S-Tab, 其余无关紧要.</p>
</blockquote>
<p>Outlines make it possible to hide parts of the text in the buffer. Org uses just two commands, bound to TAB and S-TAB to change the visibility in the buffer.</p>
<ul>
<li><p>TAB (<code>org-cycle</code>)</p>
<p><em>Subtree cycling</em>: Rotate current subtree among the states,</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">,-&gt; FOLDED -&gt; CHILDREN -&gt; SUBTREE --.</span><br><span class="line"><span class="string">'----------------------------------------------------'</span></span><br><span class="line"><span class="comment">#有意思的一点, display的是subtree</span></span><br></pre></td></tr></table></figure>
<p>Point must be on a headline for this to work<a href="https://orgmode.org/manual/Global-and-local-cycling.html#FOOT4" target="_blank" rel="noopener">4</a>.</p>
</li>
<li><p>S-TAB (<code>org-global-cycle</code>)</p>
</li>
<li><p>C-u TAB</p>
<p><em>Global cycling</em>: Rotate the entire buffer among the states, </p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">,-&gt; OVERVIEW -&gt; CONTENTS -&gt; SHOW ALL --.</span><br><span class="line"><span class="string">'---------------------------------------------------------'</span></span><br><span class="line"><span class="comment">#棒呀.</span></span><br></pre></td></tr></table></figure>
<p>When S-TAB is called with a numeric prefix argument N, the CONTENTS view up to headlines of level N are shown. Note that inside tables (see <a href="https://orgmode.org/manual/Tables.html#Tables" target="_blank" rel="noopener">Tables</a>), S-TAB jumps to the previous field instead.You can run global cycling using TAB only if point is at the very beginning of the buffer, but not on a headline, and <code>org-cycle-global-at-bob</code> is set to a non-<code>nil</code> value.</p>
<blockquote>
<p>前面两个足够, 后面的用不到. </p>
</blockquote>
</li>
<li><p>C-u C-u TAB (<code>org-set-startup-visibility</code>)</p>
<p>Switch back to the startup visibility of the buffer (see <a href="https://orgmode.org/manual/Initial-visibility.html#Initial-visibility" target="_blank" rel="noopener">Initial visibility</a>).</p>
</li>
<li><p>C-u C-u C-u TAB (<code>outline-show-all</code>)</p>
<p>Show all, including drawers.</p>
</li>
<li><p>C-c C-r (<code>org-reveal</code>)</p>
<p>Reveal context around point, showing the current entry, the following heading and the hierarchy above. Useful for working near a location that has been exposed by a sparse tree command (see <a href="https://orgmode.org/manual/Sparse-Trees.html#Sparse-Trees" target="_blank" rel="noopener">Sparse Trees</a>) or an agenda command (see <a href="https://orgmode.org/manual/Agenda-Commands.html#Agenda-Commands" target="_blank" rel="noopener">Agenda Commands</a>). With a prefix argument show, on each level, all sibling headings. With a double prefix argument, also show the entire subtree of the parent.</p>
</li>
<li><p>C-c C-k (<code>outline-show-branches</code>)</p>
<p>Expose all the headings of the subtree, CONTENTS view for just one subtree.</p>
</li>
<li><p>C-c TAB (<code>outline-show-children</code>)</p>
<p>Expose all direct children of the subtree. With a numeric prefix argument N, expose all children down to level N.</p>
</li>
<li><p>C-c C-x b (<code>org-tree-to-indirect-buffer</code>)</p>
<p>Show the current subtree in an indirect buffer<a href="https://orgmode.org/manual/Global-and-local-cycling.html#FOOT5" target="_blank" rel="noopener">5</a>. With a numeric prefix argument, N, go up to level N and then take that tree. If N is negative then go up that many levels. With a C-u prefix, do not remove the previously used indirect buffer.</p>
</li>
<li><p>C-c C-x v (<code>org-copy-visible</code>)</p>
<p>Copy the <em>visible</em> text in the region into the kill ring.</p>
</li>
</ul>
<blockquote>
<ol>
<li>See, however, the option <code>org-cycle-emulate-tab</code>.</li>
<li>The indirect buffer contains the entire buffer, but is narrowed to the current tree. Editing the indirect buffer also changes the original buffer, but without affecting visibility in that buffer. For more information about indirect buffers, see <a href="http://www.gnu.org/software/emacs/manual/html_node/emacs/Indirect-Buffers.html#Indirect-Buffers" target="_blank" rel="noopener">(emacs)GNU Emacs Manual</a>.</li>
</ol>
</blockquote>
<h3 id="2-2-2-Initial-visibility"><a href="#2-2-2-Initial-visibility" class="headerlink" title="2.2.2 Initial visibility"></a>2.2.2 Initial visibility</h3><p>When Emacs first visits an Org file, the global state is set to OVERVIEW, i.e., only the top level headlines are visible<a href="https://orgmode.org/manual/Initial-visibility.html#FOOT6" target="_blank" rel="noopener">6</a>. This can be configured through the variable <code>org-startup-folded</code>, or on a per-file basis by adding one of the following lines anywhere in the buffer:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">#+STARTUP: overview</span><br><span class="line">#+STARTUP: content</span><br><span class="line">#+STARTUP: showall</span><br><span class="line">#+STARTUP: showeverything</span><br></pre></td></tr></table></figure>
<p>Furthermore, any entries with a ‘VISIBILITY’ property (see <a href="https://orgmode.org/manual/Properties-and-Columns.html#Properties-and-Columns" target="_blank" rel="noopener">Properties and Columns</a>) get their visibility adapted accordingly. Allowed values for this property are ‘folded’, ‘children’, ‘content’, and ‘all’.</p>
<ul>
<li><p>C-u C-u TAB (<code>org-set-startup-visibility</code>)</p>
<p>Switch back to the startup visibility of the buffer, i.e., whatever is requested by startup options and ‘VISIBILITY’ properties in individual entries.</p>
</li>
</ul>
<h3 id="2-2-3-Catching-invisible-edits"><a href="#2-2-3-Catching-invisible-edits" class="headerlink" title="2.2.3 Catching invisible edits"></a>2.2.3 Catching invisible edits</h3><p>Sometimes you may inadvertently edit an invisible part of the buffer and be confused on what has been edited and how to undo the mistake. Setting <code>org-catch-invisible-edits</code> to non-<code>nil</code> helps preventing this. See the docstring of this option on how Org should catch invisible edits and process them.</p>
<h2 id="2-3-Motion"><a href="#2-3-Motion" class="headerlink" title="2.3 Motion"></a>2.3 Motion</h2><p>The following commands jump to other headlines in the buffer.</p>
<ul>
<li><p>C-c C-n (<code>outline-next-visible-heading</code>)</p>
<p>Next heading.</p>
</li>
<li><p>C-c C-p (<code>outline-previous-visible-heading</code>)</p>
<p>Previous heading.</p>
</li>
<li><p>C-c C-f (<code>org-forward-same-level</code>)</p>
<p>Next heading same level.</p>
</li>
<li><p>C-c C-b (<code>org-backward-same-level</code>)</p>
<p>Previous heading same level.</p>
</li>
<li><p>C-c C-u (<code>outline-up-heading</code>)</p>
<p>Backward to higher level heading.</p>
</li>
<li><p>C-c C-j (<code>org-goto</code>)</p>
<p>Jump to a different place without changing the current outline visibility. Shows the document structure in a temporary buffer, where you can use the following keys to find your destination:TABCycle visibility.DOWN / nnnnnnnnUPNext/previous visible headline.RETSelect this location./Do a Sparse-tree searchThe following keys work if you turn off <code>org-goto-auto-isearch</code>n / pNext/previous visible headline.f / bNext/previous headline same level.uOne level up.0 … 9Digit argument.qQuit.See also the variable <code>org-goto-interface</code>.</p>
</li>
</ul>
<blockquote>
<p>没啥用, 不必要如此精确的操作. </p>
</blockquote>
<h2 id="2-4-Structure-Editing"><a href="#2-4-Structure-Editing" class="headerlink" title="2.4 Structure Editing"></a>2.4 Structure Editing</h2><blockquote>
<p>不必要,  最基本的操作可以解决问题. </p>
</blockquote>
<ul>
<li><p>M-RET (<code>org-meta-return</code>)</p>
<p>Insert a new heading, item or row.If the command is used at the <em>beginning</em> of a line, and if there is a heading or a plain list item (see <a href="https://orgmode.org/manual/Plain-Lists.html#Plain-Lists" target="_blank" rel="noopener">Plain Lists</a>) at point, the new heading/item is created <em>before</em> the current line. When used at the beginning of a regular line of text, turn that line into a heading.When this command is used in the middle of a line, the line is split and the rest of the line becomes the new item or headline. If you do not want the line to be split, customize <code>org-M-RET-may-split-line</code>.Calling the command with a C-u prefix unconditionally inserts a new heading at the end of the current subtree, thus preserving its contents. With a double C-u C-u prefix, the new heading is created at the end of the parent subtree instead.</p>
</li>
<li><p>C-RET (<code>org-insert-heading-respect-content</code>)</p>
<p>Insert a new heading at the end of the current subtree.</p>
</li>
<li><p>M-S-RET (<code>org-insert-todo-heading</code>)</p>
<p>Insert new TODO entry with same level as current heading. See also the variable <code>org-treat-insert-todo-heading-as-state-change</code>.</p>
</li>
<li><p>C-S-RET (<code>org-insert-todo-heading-respect-content</code>)</p>
<p>Insert new TODO entry with same level as current heading. Like C-RET, the new headline is inserted after the current subtree.</p>
</li>
<li><p>TAB (<code>org-cycle</code>)</p>
<p>In a new entry with no text yet, the first TAB demotes the entry to become a child of the previous one. The next TAB makes it a parent, and so on, all the way to top level. Yet another TAB, and you are back to the initial level.</p>
</li>
<li><p>M-LEFT (<code>org-do-promote</code>)</p>
<p>Promote current heading by one level.</p>
</li>
<li><p>M-RIGHT (<code>org-do-demote</code>)</p>
<p>Demote current heading by one level.</p>
</li>
<li><p>M-S-LEFT (<code>org-promote-subtree</code>)</p>
<p>Promote the current subtree by one level.</p>
</li>
<li><p>M-S-RIGHT (<code>org-demote-subtree</code>)</p>
<p>Demote the current subtree by one level.</p>
</li>
<li><p>M-UP (<code>org-move-subtree-up</code>)</p>
<p>Move subtree up, i.e., swap with previous subtree of same level.</p>
</li>
<li><p>M-DOWN (<code>org-move-subtree-down</code>)</p>
<p>Move subtree down, i.e., swap with next subtree of same level.</p>
</li>
<li><p>C-c @ (<code>org-mark-subtree</code>)</p>
<p>Mark the subtree at point. Hitting repeatedly marks subsequent subtrees of the same level as the marked subtree.</p>
</li>
<li><p>C-c C-x C-w (<code>org-cut-subtree</code>)</p>
<p>Kill subtree, i.e., remove it from buffer but save in kill ring. With a numeric prefix argument N, kill N sequential subtrees.</p>
</li>
<li><p>C-c C-x M-w (<code>org-copy-subtree</code>)</p>
<p>Copy subtree to kill ring. With a numeric prefix argument N, copy the N sequential subtrees.</p>
</li>
<li><p>C-c C-x C-y (<code>org-paste-subtree</code>)</p>
<p>Yank subtree from kill ring. This does modify the level of the subtree to make sure the tree fits in nicely at the yank position. The yank level can also be specified with a numeric prefix argument, or by yanking after a headline marker like ‘<em>**</em>’.</p>
</li>
<li><p>C-y (<code>org-yank</code>)</p>
<p>Depending on the variables <code>org-yank-adjusted-subtrees</code> and <code>org-yank-folded-subtrees</code>, Org’s internal <code>yank</code> command pastes subtrees folded and in a clever way, using the same command as C-c C-x C-y. With the default settings, no level adjustment takes place, but the yanked tree is folded unless doing so would swallow text previously visible. Any prefix argument to this command forces a normal <code>yank</code> to be executed, with the prefix passed along. A good way to force a normal yank is C-u C-y. If you use <code>yank-pop</code> after a yank, it yanks previous kill items plainly, without adjustment and folding.</p>
</li>
<li><p>C-c C-x c (<code>org-clone-subtree-with-time-shift</code>)</p>
<p>Clone a subtree by making a number of sibling copies of it. You are prompted for the number of copies to make, and you can also specify if any timestamps in the entry should be shifted. This can be useful, for example, to create a number of tasks related to a series of lectures to prepare. For more details, see the docstring of the command <code>org-clone-subtree-with-time-shift</code>.</p>
</li>
<li><p>C-c C-w (<code>org-refile</code>)</p>
<p>Refile entry or region to a different location. See <a href="https://orgmode.org/manual/Refile-and-Copy.html#Refile-and-Copy" target="_blank" rel="noopener">Refile and Copy</a>.</p>
</li>
<li><p>C-c ^ (<code>org-sort</code>)</p>
<p>Sort same-level entries. When there is an active region, all entries in the region are sorted. Otherwise the children of the current headline are sorted. The command prompts for the sorting method, which can be alphabetically, numerically, by time—first timestamp with active preferred, creation time, scheduled time, deadline time—by priority, by TODO keyword—in the sequence the keywords have been defined in the setup—or by the value of a property. Reverse sorting is possible as well. You can also supply your own function to extract the sorting key. With a C-u prefix, sorting is case-sensitive.</p>
</li>
<li><p>C-x n s (<code>org-narrow-to-subtree</code>)</p>
<p>Narrow buffer to current subtree.</p>
</li>
<li><p>C-x n b (<code>org-narrow-to-block</code>)</p>
<p>Narrow buffer to current block.</p>
</li>
<li><p>C-x n w (<code>widen</code>)</p>
<p>Widen buffer to remove narrowing.</p>
</li>
<li><p>C-c * (<code>org-toggle-heading</code>)</p>
<p>Turn a normal line or plain list item into a headline—so that it becomes a subheading at its location. Also turn a headline into a normal line by removing the stars. If there is an active region, turn all lines in the region into headlines. If the first line in the region was an item, turn only the item lines into headlines. Finally, if the first line is a headline, remove the stars from all headlines in the region.</p>
</li>
</ul>
<p>When there is an active region—i.e., when Transient Mark mode is active—promotion and demotion work on all headlines in the region. To select a region of headlines, it is best to place both point and mark at the beginning of a line, mark at the beginning of the first headline, and point at the line just after the last headline to change. Note that when point is inside a table (see <a href="https://orgmode.org/manual/Tables.html#Tables" target="_blank" rel="noopener">Tables</a>), the Meta-Cursor keys have different functionality.</p>
<h2 id="2-5-Sparse-Trees"><a href="#2-5-Sparse-Trees" class="headerlink" title="2.5 Sparse Trees"></a>2.5 Sparse Trees</h2><p>An important feature of Org mode is the ability to construct <em>sparse trees</em> for selected information in an outline tree, so that the entire document is folded as much as possible, but the selected information is made visible along with the headline structure above it<a href="https://orgmode.org/manual/Sparse-Trees.html#FOOT7" target="_blank" rel="noopener">7</a>. Just try it out and you will see immediately how it works.</p>
<p>Org mode contains several commands creating such trees, all these commands can be accessed through a dispatcher:</p>
<ul>
<li><p>C-c / (<code>org-sparse-tree</code>)</p>
<p>This prompts for an extra key to select a sparse-tree creating command.</p>
</li>
<li><p>C-c / r or C-c / / (<code>org-occur</code>)</p>
<p>Prompts for a regexp and shows a sparse tree with all matches. If the match is in a headline, the headline is made visible. If the match is in the body of an entry, headline and body are made visible. In order to provide minimal context, also the full hierarchy of headlines above the match is shown, as well as the headline following the match. Each match is also highlighted; the highlights disappear when the buffer is changed by an editing command, or by pressing C-c C-c<a href="https://orgmode.org/manual/Sparse-Trees.html#FOOT8" target="_blank" rel="noopener">8</a>. When called with a C-u prefix argument, previous highlights are kept, so several calls to this command can be stacked.</p>
</li>
<li><p>M-g n or M-g M-n (<code>next-error</code>)</p>
<p>Jump to the next sparse tree match in this buffer.</p>
</li>
<li><p>M-g p or M-g M-p (<code>previous-error</code>) (M-g g就是go的含义)</p>
<p>Jump to the previous sparse tree match in this buffer.</p>
</li>
</ul>
<p>For frequently used sparse trees of specific search strings, you can use the variable <code>org-agenda-custom-commands</code> to define fast keyboard access to specific sparse trees. These commands will then be accessible through the agenda dispatcher (see <a href="https://orgmode.org/manual/Agenda-Dispatcher.html#Agenda-Dispatcher" target="_blank" rel="noopener">Agenda Dispatcher</a>). For example:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">(setq org-agenda-custom-commands</span><br><span class="line">      &apos;((&quot;f&quot; occur-tree &quot;FIXME&quot;)))</span><br></pre></td></tr></table></figure>
<p>defines the key f as a shortcut for creating a sparse tree matching the string ‘FIXME’.</p>
<p>The other sparse tree commands select headings based on TODO keywords, tags, or properties and are discussed later in this manual.</p>
<p>To print a sparse tree, you can use the Emacs command <code>ps-print-buffer-with-faces</code> which does not print invisible parts of the document. Or you can use the command C-c C-e v to export only the visible part of the document and print the resulting file.</p>
<blockquote>
<ol>
<li>See also the variable <code>org-show-context-detail</code> to decide how much context is shown around each match.</li>
<li>This depends on the option <code>org-remove-highlights-with-change</code>.</li>
</ol>
</blockquote>
<h2 id="2-6-Plain-Lists"><a href="#2-6-Plain-Lists" class="headerlink" title="2.6 Plain Lists"></a>2.6 Plain Lists</h2><blockquote>
<p>关键的是几个转换的命令,<br>C-c C-* Turn全部, 尤其是checkbox, 日后将会常用</p>
</blockquote>
<p>Within an entry of the outline tree, hand-formatted lists can provide additional structure. They also provide a way to create lists of checkboxes (see <a href="https://orgmode.org/manual/Checkboxes.html#Checkboxes" target="_blank" rel="noopener">Checkboxes</a>). Org supports editing such lists, and every exporter (see <a href="https://orgmode.org/manual/Exporting.html#Exporting" target="_blank" rel="noopener">Exporting</a>) can parse and format them.</p>
<p>Org knows ordered lists, unordered lists, and description lists.</p>
<ul>
<li><em>Unordered</em> list items start with ‘-’, ‘+’, or ‘*’<a href="https://orgmode.org/manual/Plain-Lists.html#FOOT9" target="_blank" rel="noopener">9</a> as bullets.</li>
<li><em>Ordered</em> list items start with a numeral followed by either a period or a right parenthesis<a href="https://orgmode.org/manual/Plain-Lists.html#FOOT10" target="_blank" rel="noopener">10</a>, such as ‘1.’ or ‘1)’<a href="https://orgmode.org/manual/Plain-Lists.html#FOOT11" target="_blank" rel="noopener">11</a> If you want a list to start with a different value—e.g., 20—start the text of the item with ‘[@20]’<a href="https://orgmode.org/manual/Plain-Lists.html#FOOT12" target="_blank" rel="noopener">12</a>. Those constructs can be used in any item of the list in order to enforce a particular numbering.</li>
<li><em>Description</em> list items are unordered list items, and contain the separator ‘::’ to distinguish the description <em>term</em> from the description.</li>
</ul>
<p>Items belonging to the same list must have the same indentation on the first line. In particular, if an ordered list reaches number ‘10.’, then the 2-digit numbers must be written left-aligned with the other numbers in the list. An item ends before the next line that is less or equally indented than its bullet/number.</p>
<p>A list ends whenever every item has ended, which means before any line less or equally indented than items at top level. It also ends before two blank lines. In that case, all items are closed. Here is an example:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">* Lord of the Rings</span><br><span class="line">My favorite scenes are (in this order)</span><br><span class="line">1. The attack of the Rohirrim</span><br><span class="line">2. Eowyn&apos;s fight with the witch king</span><br><span class="line">   + this was already my favorite scene in the book</span><br><span class="line">   + I really like Miranda Otto.</span><br><span class="line">3. Peter Jackson being shot by Legolas</span><br><span class="line">   - on DVD only</span><br><span class="line">   He makes a really funny face when it happens.</span><br><span class="line">But in the end, no individual scenes matter but the film as a whole.</span><br><span class="line">Important actors in this film are:</span><br><span class="line">- Elijah Wood :: He plays Frodo</span><br><span class="line">- Sean Astin :: He plays Sam, Frodo&apos;s friend. I still remember him</span><br><span class="line">     very well from his role as Mikey Walsh in /The Goonies/.</span><br></pre></td></tr></table></figure>
<p>Org supports these lists by tuning filling and wrapping commands to deal with them correctly, and by exporting them properly (see <a href="https://orgmode.org/manual/Exporting.html#Exporting" target="_blank" rel="noopener">Exporting</a>). Since indentation is what governs the structure of these lists, many structural constructs like ‘#+BEGIN_’ blocks can be indented to signal that they belong to a particular item.</p>
<p>If you find that using a different bullet for a sub-list—than that used for the current list-level—improves readability, customize the variable <code>org-list-demote-modify-bullet</code>. To get a greater difference of indentation between items and theirs sub-items, customize <code>org-list-indent-offset</code>.</p>
<p>The following commands act on items when point is in the first line of an item—the line with the bullet or number. Some of them imply the application of automatic rules to keep list structure intact. If some of these actions get in your way, configure <code>org-list-automatic-rules</code> to disable them individually.</p>
<ul>
<li><p>TAB (<code>org-cycle</code>)</p>
<p>Items can be folded just like headline levels. Normally this works only if point is on a plain list item. For more details, see the variable <code>org-cycle-include-plain-lists</code>. If this variable is set to <code>integrate</code>, plain list items are treated like low-level headlines. The level of an item is then given by the indentation of the bullet/number. Items are always subordinate to real headlines, however; the hierarchies remain completely separated. In a new item with no text yet, the first TAB demotes the item to become a child of the previous one. Subsequent TABs move the item to meaningful levels in the list and eventually get it back to its initial position.</p>
</li>
<li><p>M-RET (<code>org-insert-heading</code>)</p>
<p>Insert new item at current level. With a prefix argument, force a new heading (see <a href="https://orgmode.org/manual/Structure-Editing.html#Structure-Editing" target="_blank" rel="noopener">Structure Editing</a>). If this command is used in the middle of an item, that item is <em>split</em> in two, and the second part becomes the new item<a href="https://orgmode.org/manual/Plain-Lists.html#FOOT13" target="_blank" rel="noopener">13</a>. If this command is executed <em>before item’s body</em>, the new item is created <em>before</em> the current one.</p>
</li>
<li><p>M-S-RET</p>
<p>Insert a new item with a checkbox (see <a href="https://orgmode.org/manual/Checkboxes.html#Checkboxes" target="_blank" rel="noopener">Checkboxes</a>).</p>
</li>
<li><p>S-UP</p>
</li>
<li><p>S-DOWN</p>
<p>Jump to the previous/next item in the current list, but only if <code>org-support-shift-select</code> is off<a href="https://orgmode.org/manual/Plain-Lists.html#FOOT14" target="_blank" rel="noopener">14</a>. If not, you can still use paragraph jumping commands like C-UP and C-DOWN to quite similar effect.</p>
</li>
<li><p>M-UP</p>
</li>
<li><p>M-DOWN</p>
<p>Move the item including subitems up/down<a href="https://orgmode.org/manual/Plain-Lists.html#FOOT15" target="_blank" rel="noopener">15</a>, i.e., swap with previous/next item of same indentation. If the list is ordered, renumbering is automatic.</p>
</li>
<li><p>M-LEFT</p>
</li>
<li><p>M-RIGHT</p>
<p>Decrease/increase the indentation of an item, leaving children alone.</p>
</li>
<li><p>M-S-LEFT</p>
</li>
<li><p>M-S-RIGHT</p>
<p>Decrease/increase the indentation of the item, including subitems. Initially, the item tree is selected based on current indentation. When these commands are executed several times in direct succession, the initially selected region is used, even if the new indentation would imply a different hierarchy. To use the new hierarchy, break the command chain by moving point.As a special case, using this command on the very first item of a list moves the whole list. This behavior can be disabled by configuring <code>org-list-automatic-rules</code>. The global indentation of a list has no influence on the text <em>after</em> the list.</p>
</li>
<li><p>C-c C-c</p>
<p>If there is a checkbox (see <a href="https://orgmode.org/manual/Checkboxes.html#Checkboxes" target="_blank" rel="noopener">Checkboxes</a>) in the item line, toggle the state of the checkbox. In any case, verify bullets and indentation consistency in the whole list.</p>
</li>
<li><p>C-c -</p>
<p>Cycle the entire list level through the different itemize/enumerate bullets (‘-’, ‘+’, ‘*’, ‘1.’, ‘1)’) or a subset of them, depending on <code>org-plain-list-ordered-item-terminator</code>, the type of list, and its indentation. With a numeric prefix argument N, select the Nth bullet from this list. If there is an active region when calling this, selected text is changed into an item. With a prefix argument, all lines are converted to list items. If the first line already was a list item, any item marker is removed from the list. Finally, even without an active region, a normal line is converted into a list item.</p>
</li>
<li><p>C-c *</p>
<p>Turn a plain list item into a headline—so that it becomes a subheading at its location. See <a href="https://orgmode.org/manual/Structure-Editing.html#Structure-Editing" target="_blank" rel="noopener">Structure Editing</a>, for a detailed explanation.</p>
</li>
<li><p>C-c C-*</p>
<p>Turn the whole plain list into a subtree of the current heading. Checkboxes (see <a href="https://orgmode.org/manual/Checkboxes.html#Checkboxes" target="_blank" rel="noopener">Checkboxes</a>) become TODO, respectively DONE, keywords when unchecked, respectively checked.</p>
</li>
<li><p>S-LEFT</p>
</li>
<li><p>S-RIGHT</p>
<p>This command also cycles bullet styles when point is in on the bullet or anywhere in an item line, details depending on <code>org-support-shift-select</code>.</p>
</li>
<li><p>C-c ^</p>
<p>Sort the plain list. Prompt for the sorting method: numerically, alphabetically, by time, or by custom function.</p>
</li>
</ul>
<h2 id="2-7-Drawers"><a href="#2-7-Drawers" class="headerlink" title="2.7 Drawers"></a>2.7 Drawers</h2><blockquote>
<p>最重要的基本概念之一．</p>
</blockquote>
<p>Sometimes you want to keep information associated with an entry, but you normally do not want to see it. For this, Org mode has <em>drawers</em>. They can contain anything but a headline and another drawer. Drawers look like this:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">** This is a headline</span><br><span class="line">Still outside the drawer</span><br><span class="line">:DRAWERNAME:</span><br><span class="line">This is inside the drawer.</span><br><span class="line">:END:</span><br><span class="line">After the drawer.</span><br></pre></td></tr></table></figure>
<p>You can interactively insert a drawer at point by calling <code>org-insert-drawer</code>, which is bound to C-c C-x d. With an active region, this command puts the region inside the drawer. With a prefix argument, this command calls <code>org-insert-property-drawer</code>, which creates a ‘PROPERTIES’ drawer right below the current headline. Org mode uses this special drawer for storing properties (see<a href="https://orgmode.org/manual/Properties-and-Columns.html#Properties-and-Columns" target="_blank" rel="noopener">Properties and Columns</a>). You cannot use it for anything else.</p>
<p>Completion over drawer keywords is also possible using M-TAB<a href="https://orgmode.org/manual/Drawers.html#FOOT16" target="_blank" rel="noopener">16</a>.</p>
<p>Visibility cycling (see <a href="https://orgmode.org/manual/Visibility-Cycling.html#Visibility-Cycling" target="_blank" rel="noopener">Visibility Cycling</a>) on the headline hides and shows the entry, but keep the drawer collapsed to a single line. In order to look inside the drawer, you need to move point to the drawer line and press TAB there.</p>
<p>You can also arrange for state change notes (see <a href="https://orgmode.org/manual/Tracking-TODO-state-changes.html#Tracking-TODO-state-changes" target="_blank" rel="noopener">Tracking TODO state changes</a>) and clock times (see <a href="https://orgmode.org/manual/Clocking-Work-Time.html#Clocking-Work-Time" target="_blank" rel="noopener">Clocking Work Time</a>) to be stored in a ‘LOGBOOK’ drawer. If you want to store a quick note there, in a similar way to state changes, use</p>
<ul>
<li><p>C-c C-z</p>
<p>Add a time-stamped note to the ‘LOGBOOK’ drawer.</p>
<blockquote>
<p>　手动插入便可．</p>
</blockquote>
</li>
</ul>
<p>##　2.8 Blocks</p>
<blockquote>
<p>了解其formal概念是block即可.<br>文本编辑中的基本概念. 与HTML贯通起来. </p>
</blockquote>
<p>Org mode uses ‘#+BEGIN’ … ‘#+END’ blocks for various purposes from including source code examples (see <a href="https://orgmode.org/manual/Literal-Examples.html#Literal-Examples" target="_blank" rel="noopener">Literal Examples</a>) to capturing time logging information (see <a href="https://orgmode.org/manual/Clocking-Work-Time.html#Clocking-Work-Time" target="_blank" rel="noopener">Clocking Work Time</a>). These blocks can be folded and unfolded by pressing TAB in the ‘#+BEGIN’ line. You can also get all blocks folded at startup by configuring the variable <code>org-hide-block-startup</code> or on a per-file basis by using</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">#+STARTUP: hideblocks</span><br><span class="line">#+STARTUP: nohideblocks</span><br></pre></td></tr></table></figure>
<h2 id="2-9-Creating-Footnotes"><a href="#2-9-Creating-Footnotes" class="headerlink" title="2.9 Creating Footnotes"></a>2.9 Creating Footnotes</h2><blockquote>
<p>构建方式与markdown不同.</p>
</blockquote>
<p>Org mode supports the creation of footnotes.</p>
<p>A footnote is started by a footnote marker in square brackets in column 0, no indentation allowed. It ends at the next footnote definition, headline, or after two consecutive empty lines. The footnote reference is simply the marker in square brackets, inside text. Markers always start with ‘fn:’. For example:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">The Org homepage[fn:1] now looks a lot better than it used to.</span><br><span class="line">...</span><br><span class="line">[fn:1] The link is: https://orgmode.org</span><br></pre></td></tr></table></figure>
<p>Org mode extends the number-based syntax to <em>named</em> footnotes and optional inline definition. Here are the valid references:</p>
<ul>
<li><p>‘[fn:NAME]’</p>
<p>A named footnote reference, where NAME is a unique label word, or, for simplicity of automatic creation, a number.</p>
</li>
<li><p>‘[fn:: This is the inline definition of this footnote]’</p>
<p>A LaTeX-like anonymous footnote where the definition is given directly at the reference point.</p>
</li>
<li><p>‘[fn:NAME: a definition]’</p>
<p>An inline definition of a footnote, which also specifies a name for the note. Since Org allows multiple references to the same note, you can then use ‘[fn:NAME]’ to create additional references.</p>
</li>
</ul>
<p>Footnote labels can be created automatically, or you can create names yourself. This is handled by the variable <code>org-footnote-auto-label</code> and its corresponding ‘STARTUP’ keywords. See the docstring of that variable for details.</p>
<p>The following command handles footnotes:</p>
<ul>
<li><p>C-c C-x f</p>
<p>The footnote action command.When point is on a footnote reference, jump to the definition. When it is at a definition, jump to the—first—reference.Otherwise, create a new footnote. Depending on the variable <code>org-footnote-define-inline</code><a href="https://orgmode.org/manual/Creating-Footnotes.html#FOOT17" target="_blank" rel="noopener">17</a>, the definition is placed right into the text as part of the reference, or separately into the location determined by the variable <code>org-footnote-section</code>.When this command is called with a prefix argument, a menu of additional options is offered:sSort the footnote definitions by reference sequence.rRenumber the simple ‘fn:N’ footnotes.SShort for first r, then s action.nRename all footnotes into a ‘fn:1’ … ‘fn:n’ sequence.dDelete the footnote at point, including definition and references.Depending on the variable <code>org-footnote-auto-adjust</code><a href="https://orgmode.org/manual/Creating-Footnotes.html#FOOT18" target="_blank" rel="noopener">18</a>, renumbering and sorting footnotes can be automatic after each insertion or deletion.</p>
</li>
<li><p>C-c C-c</p>
<p>If point is on a footnote reference, jump to the definition. If it is at the definition, jump back to the reference. When called at a footnote location with a prefix argument, offer the same menu as C-c C-x f.</p>
</li>
<li><p>C-c C-o or mouse-1/2</p>
<p>Footnote labels are also links to the corresponding definition or reference, and you can use the usual commands to follow these links.</p>
</li>
</ul>

          
        
      
    </div>

    

    
    
    

    

    
      
    
    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://alphaalgorithms.github.io/2019/05/22/emacs-properties-and-columns/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Gabriel">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="DummyHead">
    </span>

    
      <header class="post-header">

        
        
          <h2 class="post-title" itemprop="name headline">
                
                
                <a href="/2019/05/22/emacs-properties-and-columns/" class="post-title-link" itemprop="url">7.Orgmode Properties and Columns</a>
              
            
          </h2>
        

        <div class="post-meta">
          <span class="post-time">

            
            
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              

              
                
              

              <time title="Created: 2019-05-22 00:34:50 / Modified: 05:49:03" itemprop="dateCreated datePublished" datetime="2019-05-22T00:34:50+08:00">2019-05-22</time>
            

            
              

              
            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/linux-emacs-orgmode/" itemprop="url" rel="index"><span itemprop="name">linux - emacs - orgmode</span></a></span>

                
                
              
            </span>
          

          
            
            
              
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <span class="post-meta-item-icon">
                  <i class="fa fa-comment-o"></i>
                </span>
            
                <span class="post-meta-item-text">Comments: </span>
                <a href="/2019/05/22/emacs-properties-and-columns/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count disqus-comment-count" data-disqus-identifier="2019/05/22/emacs-properties-and-columns/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>A property is a key-value pair associated with an entry. Properties can be set so they are associated with a single entry, with every entry in a tree, or with every entry in an Org file.</p>
<p>There are two main applications for properties in Org mode. First, properties are like tags, but with a value. Imagine maintaining a file where you document bugs and plan releases for a piece of software. Instead of using tags like ‘release_1’, ‘release_2’, you can use a property, say ‘Release’, that in different subtrees has different values, such as ‘1.0’ or ‘2.0’. Second, you can use properties to implement (very basic) database capabilities in an Org buffer. Imagine keeping track of your music CDs, where properties could be things such as the album, artist, date of release, number of tracks, and so on.</p>
<p>Properties can be conveniently edited and viewed in column view (see <a href="https://orgmode.org/manual/Column-View.html#Column-View" target="_blank" rel="noopener">Column View</a>).</p>
<table>
<thead>
<tr>
<th>• <a href="https://orgmode.org/manual/Property-Syntax.html#Property-Syntax" target="_blank" rel="noopener">Property Syntax</a>:</th>
<th>How properties are spelled out.</th>
</tr>
</thead>
<tbody>
<tr>
<td>• <a href="https://orgmode.org/manual/Special-Properties.html#Special-Properties" target="_blank" rel="noopener">Special Properties</a>:</td>
<td>Access to other Org mode features.</td>
</tr>
<tr>
<td>• <a href="https://orgmode.org/manual/Property-Searches.html#Property-Searches" target="_blank" rel="noopener">Property Searches</a>:</td>
<td>Matching property values.</td>
</tr>
<tr>
<td>• <a href="https://orgmode.org/manual/Property-Inheritance.html#Property-Inheritance" target="_blank" rel="noopener">Property Inheritance</a>:</td>
<td>Passing values down a tree.</td>
</tr>
<tr>
<td>• <a href="https://orgmode.org/manual/Column-View.html#Column-View" target="_blank" rel="noopener">Column View</a>:</td>
<td>Tabular viewing and editing.</td>
</tr>
</tbody>
</table>
<h2 id="7-1-Property-Syntax"><a href="#7-1-Property-Syntax" class="headerlink" title="7.1 Property Syntax"></a>7.1 Property Syntax</h2><blockquote>
<p>这里先看一眼就完事.</p>
</blockquote>
<p>Properties are key–value pairs. When they are associated with a single entry or with a tree they need to be inserted into a special drawer (see <a href="https://orgmode.org/manual/Drawers.html#Drawers" target="_blank" rel="noopener">Drawers</a>) with the name ‘PROPERTIES’, which has to be located right below a headline, and its planning line (see <a href="https://orgmode.org/manual/Deadlines-and-Scheduling.html#Deadlines-and-Scheduling" target="_blank" rel="noopener">Deadlines and Scheduling</a>) when applicable. Each property is specified on a single line, with the key—surrounded by colons—first, and the value after it. Keys are case-insensitive. Here is an example:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">* CD collection</span><br><span class="line">** Classic</span><br><span class="line">*** Goldberg Variations</span><br><span class="line">    :PROPERTIES:</span><br><span class="line">    :Title:     Goldberg Variations</span><br><span class="line">    :Composer:  J.S. Bach</span><br><span class="line">    :Artist:    Glenn Gould</span><br><span class="line">    :Publisher: Deutsche Grammophon</span><br><span class="line">    :NDisks:    1</span><br><span class="line">    :END:</span><br></pre></td></tr></table></figure>
<p>Depending on the value of <code>org-use-property-inheritance</code>, a property set this way is associated either with a single entry, or with the sub-tree defined by the entry, see <a href="https://orgmode.org/manual/Property-Inheritance.html#Property-Inheritance" target="_blank" rel="noopener">Property Inheritance</a>.</p>
<p>You may define the allowed values for a particular property ‘Xyz’ by setting a property ‘Xyz_ALL’. This special property is <em>inherited</em>, so if you set it in a level 1 entry, it applies to the entire tree. When allowed values are defined, setting the corresponding property becomes easier and is less prone to typing errors. For the example with the CD collection, we can pre-define publishers and the number of disks in a box like this:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">* CD collection</span><br><span class="line">  :PROPERTIES:</span><br><span class="line">  :NDisks_ALL:  1 2 3 4</span><br><span class="line">  :Publisher_ALL: &quot;Deutsche Grammophon&quot; Philips EMI</span><br><span class="line">  :END:</span><br></pre></td></tr></table></figure>
<p>If you want to set properties that can be inherited by any entry in a file, use a line like:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">#+PROPERTY: NDisks_ALL 1 2 3 4</span><br></pre></td></tr></table></figure>
<p>If you want to add to the value of an existing property, append a ‘+’ to the property name. The following results in the property ‘var’ having the value ‘foo=1 bar=2’.</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">#+PROPERTY: var  foo=1</span><br><span class="line">#+PROPERTY: var+ bar=2</span><br></pre></td></tr></table></figure>
<p>It is also possible to add to the values of inherited properties. The following results in the ‘Genres’ property having the value ‘Classic Baroque’ under the ‘Goldberg Variations’ subtree.</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">* CD collection</span><br><span class="line">** Classic</span><br><span class="line">    :PROPERTIES:</span><br><span class="line">    :Genres: Classic</span><br><span class="line">    :END:</span><br><span class="line">*** Goldberg Variations</span><br><span class="line">    :PROPERTIES:</span><br><span class="line">    :Title:     Goldberg Variations</span><br><span class="line">    :Composer:  J.S. Bach</span><br><span class="line">    :Artist:    Glenn Gould</span><br><span class="line">    :Publisher: Deutsche Grammophon</span><br><span class="line">    :NDisks:    1</span><br><span class="line">    :Genres+:   Baroque</span><br><span class="line">    :END:</span><br></pre></td></tr></table></figure>
<p>Note that a property can only have one entry per drawer.</p>
<p>Property values set with the global variable <code>org-global-properties</code> can be inherited by all entries in all Org files.</p>
<p>The following commands help to work with properties:</p>
<ul>
<li><p>M-TAB (<code>pcomplete</code>)</p>
<p>After an initial colon in a line, complete property keys. All keys used in the current file are offered as possible completions.</p>
</li>
<li><p>C-c C-x p (<code>org-set-property</code>)</p>
<p>Set a property. This prompts for a property name and a value. If necessary, the property drawer is created as well.</p>
</li>
<li><p>C-u M-x org-insert-drawer</p>
<p>Insert a property drawer into the current entry. The drawer is inserted early in the entry, but after the lines with planning information like deadlines.</p>
</li>
<li><p>C-c C-c (<code>org-property-action</code>)</p>
<p>With point in a property drawer, this executes property commands.</p>
</li>
<li><p>C-c C-c s (<code>org-set-property</code>)</p>
<p>Set a property in the current entry. Both the property and the value can be inserted using completion.</p>
</li>
<li><p>S-RIGHT (<code>org-property-next-allowed-values</code>)</p>
</li>
<li><p>S-LEFT (<code>org-property-previous-allowed-value</code>)</p>
<p>Switch property at point to the next/previous allowed value.</p>
</li>
<li><p>C-c C-c d (<code>org-delete-property</code>)</p>
<p>Remove a property from the current entry.</p>
</li>
<li><p>C-c C-c D (<code>org-delete-property-globally</code>)</p>
<p>Globally remove a property, from all entries in the current file.</p>
</li>
<li><p>C-c C-c c (<code>org-compute-property-at-point</code>)</p>
<p>Compute the property at point, using the operator and scope from the nearest column format definition.</p>
</li>
</ul>
<h2 id="7-2-Special-Properties"><a href="#7-2-Special-Properties" class="headerlink" title="7.2 Special Properties"></a>7.2 Special Properties</h2><blockquote>
<p>reserved properties, 看一样便可, </p>
</blockquote>
<p>  Special properties provide an alternative access method to Org mode features, like the TODO state or the priority of an entry, discussed in the previous chapters. This interface exists so that you can include these states in a column view (see <a href="https://orgmode.org/manual/Column-View.html#Column-View" target="_blank" rel="noopener">Column View</a>), or to use them in queries. The following property names are special and should not be used as keys in the properties drawer:</p>
<table>
<thead>
<tr>
<th>‘ALLTAGS’</th>
<th>All tags, including inherited ones.</th>
</tr>
</thead>
<tbody>
<tr>
<td>‘BLOCKED’</td>
<td><code>t</code> if task is currently blocked by children or siblings.</td>
</tr>
<tr>
<td>‘CATEGORY’</td>
<td>The category of an entry.</td>
</tr>
<tr>
<td>‘CLOCKSUM’</td>
<td>The sum of CLOCK intervals in the subtree. <code>org-clock-sum</code></td>
</tr>
<tr>
<td></td>
<td>must be run first to compute the values in the current buffer.</td>
</tr>
<tr>
<td>‘CLOCKSUM_T’</td>
<td>The sum of CLOCK intervals in the subtree for today.</td>
</tr>
<tr>
<td></td>
<td><code>org-clock-sum-today</code> must be run first to compute the</td>
</tr>
<tr>
<td></td>
<td>values in the current buffer.</td>
</tr>
<tr>
<td>‘CLOSED’</td>
<td>When was this entry closed?</td>
</tr>
<tr>
<td>‘DEADLINE’</td>
<td>The deadline time string, without the angular brackets.</td>
</tr>
<tr>
<td>‘FILE’</td>
<td>The filename the entry is located in.</td>
</tr>
<tr>
<td>‘ITEM’</td>
<td>The headline of the entry.</td>
</tr>
<tr>
<td>‘PRIORITY’</td>
<td>The priority of the entry, a string with a single letter.</td>
</tr>
<tr>
<td>‘SCHEDULED’</td>
<td>The scheduling timestamp, without the angular brackets.</td>
</tr>
<tr>
<td>‘TAGS’</td>
<td>The tags defined directly in the headline.</td>
</tr>
<tr>
<td>‘TIMESTAMP’</td>
<td>The first keyword-less timestamp in the entry.</td>
</tr>
<tr>
<td>‘TIMESTAMP_IA’</td>
<td>The first inactive timestamp in the entry.</td>
</tr>
<tr>
<td>‘TODO’</td>
<td>The TODO keyword of the entry.</td>
</tr>
</tbody>
</table>
<h2 id="7-3-Property-Searches"><a href="#7-3-Property-Searches" class="headerlink" title="7.3 Property Searches"></a>7.3 Property Searches</h2><blockquote>
<p>search是至关重要的一点.</p>
</blockquote>
<p>To create sparse trees and special lists with selection based on properties, the same commands are used as for tag searches (see <a href="https://orgmode.org/manual/Tag-Searches.html#Tag-Searches" target="_blank" rel="noopener">Tag Searches</a>).</p>
<ul>
<li><p>C-c / m or C-c \ (<code>org-match-sparse-tree</code>)</p>
<p>Create a sparse tree with all matching entries. With a C-u prefix argument, ignore headlines that are not a TODO line.</p>
</li>
<li><p>M-x org-agenda m, <code>org-tags-view</code></p>
<p>Create a global list of tag/property matches from all agenda files.</p>
</li>
<li><p>M-x org-agenda M (<code>org-tags-view</code>)</p>
<p>Create a global list of tag matches from all agenda files, but check only TODO items and force checking of subitems (see the option <code>org-tags-match-list-sublevels</code>).</p>
</li>
</ul>
<p>The syntax for the search string is described in <a href="https://orgmode.org/manual/Matching-tags-and-properties.html#Matching-tags-and-properties" target="_blank" rel="noopener">Matching tags and properties</a>.</p>
<p>There is also a special command for creating sparse trees based on a single property:</p>
<ul>
<li><p>C-c / p</p>
<p>Create a sparse tree based on the value of a property. This first prompts for the name of a property, and then for a value. A sparse tree is created with all entries that define this property with the given value. If you enclose the value in curly braces, it is interpreted as a regular expression and matched against the property valu</p>
</li>
</ul>
<h2 id="7-4-Property-Inheritance"><a href="#7-4-Property-Inheritance" class="headerlink" title="7.4 Property Inheritance"></a>7.4 Property Inheritance</h2><blockquote>
<p>有点意思了, 能将全部的内容打穿. </p>
</blockquote>
<p>The outline structure of Org documents lends itself to an inheritance model of properties: if the parent in a tree has a certain property, the children can inherit this property. Org mode does not turn this on by default, because it can slow down property searches significantly and is often not needed. However, if you find inheritance useful, you can turn it on by setting the variable <code>org-use-property-inheritance</code>. It may be set to <code>t</code> to make all properties inherited from the parent, to a list of properties that should be inherited, or to a regular expression that matches inherited properties. If a property has the value <code>nil</code>, this is interpreted as an explicit un-define of the property, so that inheritance search stops at this value and returns <code>nil</code>.</p>
<p>Org mode has a few properties for which inheritance is hard-coded, at least for the special applications for which they are used:</p>
<ul>
<li><p><code>COLUMNS</code></p>
<p>The ‘COLUMNS’ property defines the format of column view (see <a href="https://orgmode.org/manual/Column-View.html#Column-View" target="_blank" rel="noopener">Column View</a>). It is inherited in the sense that the level where a ‘COLUMNS’ property is defined is used as the starting point for a column view table, independently of the location in the subtree from where columns view is turned on.</p>
</li>
<li><p><code>CATEGORY</code></p>
<p>For agenda view, a category set through a ‘CATEGORY’ property applies to the entire subtree.</p>
</li>
<li><p><code>ARCHIVE</code></p>
<p>For archiving, the ‘ARCHIVE’ property may define the archive location for the entire subtree (see <a href="https://orgmode.org/manual/Moving-subtrees.html#Moving-subtrees" target="_blank" rel="noopener">Moving subtrees</a>).</p>
</li>
<li><p><code>LOGGING</code></p>
<p>The ‘LOGGING’ property may define logging settings for an entry or a subtree (see <a href="https://orgmode.org/manual/Tracking-TODO-state-changes.html#Tracking-TODO-state-changes" target="_blank" rel="noopener">Tracking TODO state changes</a>).</p>
</li>
</ul>
<h2 id="7-5-Column-View"><a href="#7-5-Column-View" class="headerlink" title="7.5 Column View"></a>7.5 Column View</h2><p>A great way to view and edit properties in an outline tree is <em>column view</em>. In column view, each outline node is turned into a table row. Columns in this table provide access to properties of the entries. Org mode implements columns by overlaying a tabular structure over the headline of each item. While the headlines have been turned into a table row, you can still change the visibility of the outline tree. For example, you get a compact table by switching to “contents” view—S-TAB S-TAB, or simply c while column view is active—but you can still open, read, and edit the entry below each headline. Or, you can switch to column view after executing a sparse tree command and in this way get a table only for the selected items. Column view also works in agenda buffers (see <a href="https://orgmode.org/manual/Agenda-Views.html#Agenda-Views" target="_blank" rel="noopener">Agenda Views</a>) where queries have collected selected items, possibly from a number of files.</p>
<table>
<thead>
<tr>
<th>• <a href="https://orgmode.org/manual/Defining-columns.html#Defining-columns" target="_blank" rel="noopener">Defining columns</a>:</th>
<th>The COLUMNS format property.</th>
</tr>
</thead>
<tbody>
<tr>
<td>• <a href="https://orgmode.org/manual/Using-column-view.html#Using-column-view" target="_blank" rel="noopener">Using column view</a>:</td>
<td>How to create and use column view.</td>
</tr>
<tr>
<td>• <a href="https://orgmode.org/manual/Capturing-column-view.html#Capturing-column-view" target="_blank" rel="noopener">Capturing column view</a>:</td>
<td>A dynamic block for column view.</td>
</tr>
</tbody>
</table>
<h3 id="7-5-1-Defining-columns"><a href="#7-5-1-Defining-columns" class="headerlink" title="7.5.1 Defining columns"></a>7.5.1 Defining columns</h3><p>Setting up a column view first requires defining the columns. This is done by defining a column format line.</p>
<table>
<thead>
<tr>
<th>• <a href="https://orgmode.org/manual/Scope-of-column-definitions.html#Scope-of-column-definitions" target="_blank" rel="noopener">Scope of column definitions</a>:</th>
<th>Where defined, where valid?</th>
</tr>
</thead>
<tbody>
<tr>
<td>• <a href="https://orgmode.org/manual/Column-attributes.html#Column-attributes" target="_blank" rel="noopener">Column attributes</a>:</td>
<td>Appearance and content of a column.</td>
</tr>
</tbody>
</table>
<blockquote>
<p>有点复杂, 不知道有啥用. </p>
</blockquote>
<h4 id="7-5-1-1-Scope-of-column-definitions"><a href="#7-5-1-1-Scope-of-column-definitions" class="headerlink" title="7.5.1.1 Scope of column definitions"></a>7.5.1.1 Scope of column definitions</h4><p>To define a column format for an entire file, use a line like:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">#+COLUMNS: %25ITEM %TAGS %PRIORITY %TODO</span><br></pre></td></tr></table></figure>
<p>To specify a format that only applies to a specific tree, add a ‘COLUMNS’ property to the top node of that tree, for example:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">** Top node for columns view</span><br><span class="line">   :PROPERTIES:</span><br><span class="line">   :COLUMNS: %25ITEM %TAGS %PRIORITY %TODO</span><br><span class="line">   :END:</span><br></pre></td></tr></table></figure>
<p>If a ‘COLUMNS’ property is present in an entry, it defines columns for the entry itself, and for the entire subtree below it. Since the column definition is part of the hierarchical structure of the document, you can define columns on level 1 that are general enough for all sublevels, and more specific columns further down, when you edit a deeper part of the tree.</p>
<h4 id="7-5-1-2-Column-attributes"><a href="#7-5-1-2-Column-attributes" class="headerlink" title="7.5.1.2 Column attributes"></a>7.5.1.2 Column attributes</h4><p>A column definition sets the attributes of a column. The general definition looks like this:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">%[WIDTH]PROPERTY[(TITLE)][&#123;SUMMARY-TYPE&#125;]</span><br></pre></td></tr></table></figure>
<p>Except for the percent sign and the property name, all items are optional. The individual parts have the following meaning:</p>
<ul>
<li><p>WIDTH</p>
<p>An integer specifying the width of the column in characters. If omitted, the width is determined automatically.</p>
</li>
<li><p>PROPERTY</p>
<p>The property that should be edited in this column. Special properties representing meta data are allowed here as well (see <a href="https://orgmode.org/manual/Special-Properties.html#Special-Properties" target="_blank" rel="noopener">Special Properties</a>).</p>
</li>
<li><p>TITLE</p>
<p>The header text for the column. If omitted, the property name is used.</p>
</li>
<li><p>SUMMARY-TYPE</p>
<p>The summary type. If specified, the column values for parent nodes are computed from the children<a href="https://orgmode.org/manual/Column-attributes.html#FOOT57" target="_blank" rel="noopener">57</a>.Supported summary types are:‘+’Sum numbers in this column.‘+;%.1f’Like ‘+’, but format result with ‘%.1f’.‘$’Currency, short for ‘+;%.2f’.‘min’Smallest number in column.‘max’Largest number.‘mean’Arithmetic mean of numbers.‘X’Checkbox status, ‘[X]’ if all children are ‘[X]’.‘X/’Checkbox status, ‘[n/m]’.‘X%’Checkbox status, ‘[n%]’.‘:’Sum times, HH:MM, plain numbers are hours.‘:min’Smallest time value in column.‘:max’Largest time value.‘:mean’Arithmetic mean of time values.‘@min’Minimum age<a href="https://orgmode.org/manual/Column-attributes.html#FOOT58" target="_blank" rel="noopener">58</a> (in days/hours/mins/seconds).‘@max’Maximum age (in days/hours/mins/seconds).‘@mean’Arithmetic mean of ages (in days/hours/mins/seconds).‘est+’Add low-high estimates.You can also define custom summary types by setting <code>org-columns-summary-types</code>.</p>
</li>
</ul>
<p>The ‘est+’ summary type requires further explanation. It is used for combining estimates, expressed as low-high ranges. For example, instead of estimating a particular task will take 5 days, you might estimate it as 5–6 days if you’re fairly confident you know how much work is required, or 1–10 days if you do not really know what needs to be done. Both ranges average at 5.5 days, but the first represents a more predictable delivery.</p>
<p>When combining a set of such estimates, simply adding the lows and highs produces an unrealistically wide result. Instead, ‘est+’ adds the statistical mean and variance of the subtasks, generating a final estimate from the sum. For example, suppose you had ten tasks, each of which was estimated at 0.5 to 2 days of work. Straight addition produces an estimate of 5 to 20 days, representing what to expect if everything goes either extremely well or extremely poorly. In contrast, ‘est+’ estimates the full job more realistically, at 10–15 days.</p>
<p>Here is an example for a complete columns definition, along with allowed values<a href="https://orgmode.org/manual/Column-attributes.html#FOOT59" target="_blank" rel="noopener">59</a>.</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">:COLUMNS:  %25ITEM %9Approved(Approved?)&#123;X&#125; %Owner %11Status \</span><br><span class="line">                   %10Time_Estimate&#123;:&#125; %CLOCKSUM %CLOCKSUM_T</span><br><span class="line">:Owner_ALL:    Tammy Mark Karl Lisa Don</span><br><span class="line">:Status_ALL:   &quot;In progress&quot; &quot;Not started yet&quot; &quot;Finished&quot; &quot;&quot;</span><br><span class="line">:Approved_ALL: &quot;[ ]&quot; &quot;[X]&quot;</span><br></pre></td></tr></table></figure>
<p>The first column, ‘%25ITEM’, means the first 25 characters of the item itself, i.e., of the headline. You probably always should start the column definition with the ‘ITEM’ specifier. The other specifiers create columns ‘Owner’ with a list of names as allowed values, for ‘Status’ with four different possible values, and for a checkbox field ‘Approved’. When no width is given after the ‘%’ character, the column is exactly as wide as it needs to be in order to fully display all values. The ‘Approved’ column does have a modified title (‘Approved?’, with a question mark). Summaries are created for the ‘Time_Estimate’ column by adding time duration expressions like HH:MM, and for the ‘Approved’ column, by providing an ‘[X]’ status if all children have been checked. The ‘CLOCKSUM’ and ‘CLOCKSUM_T’ columns are special, they lists the sums of CLOCK intervals in the subtree, either for all clocks or just for today.</p>
<h3 id="7-5-2-Using-column-view"><a href="#7-5-2-Using-column-view" class="headerlink" title="7.5.2 Using column view"></a>7.5.2 Using column view</h3><blockquote>
<p>平白叙述, 没有应用实例. </p>
</blockquote>
<h4 id="Turning-column-view-on-or-off"><a href="#Turning-column-view-on-or-off" class="headerlink" title="Turning column view on or off"></a>Turning column view on or off</h4><ul>
<li><p>C-c C-x C-c (<code>org-columns</code>)</p>
<p>Turn on column view. If point is before the first headline in the file, column view is turned on for the entire file, using the ‘#+COLUMNS’ definition. If point is somewhere inside the outline, this command searches the hierarchy, up from point, for a ‘COLUMNS’ property that defines a format. When one is found, the column view table is established for the tree starting at the entry that contains the ‘COLUMNS’ property. If no such property is found, the format is taken from the ‘#+COLUMNS’ line or from the variable <code>org-columns-default-format</code>, and column view is established for the current entry and its subtree.</p>
</li>
<li><p>r or g (<code>org-columns-redo</code>)</p>
<p>Recreate the column view, to include recent changes made in the buffer.</p>
</li>
<li><p>q (<code>org-columns-quit</code>)</p>
<p>Exit column view.</p>
</li>
</ul>
<h4 id="Editing-values"><a href="#Editing-values" class="headerlink" title="Editing values"></a>Editing values</h4><ul>
<li><p>LEFT, RIGHT, UP, DOWN</p>
<p>Move through the column view from field to field.</p>
</li>
<li><p>1..9,0</p>
<p>Directly select the Nth allowed value, 0 selects the 10th value.</p>
</li>
<li><p>n or S-RIGHT (<code>org-columns-next-allowed-value</code>)</p>
</li>
<li><p>p or S-LEFT (<code>org-columns-previous-allowed-value</code>)</p>
<p>Switch to the next/previous allowed value of the field. For this, you have to have specified allowed values for a property.</p>
</li>
<li><p>e (<code>org-columns-edit-value</code>)</p>
<p>Edit the property at point. For the special properties, this invokes the same interface that you normally use to change that property. For example, the tag completion or fast selection interface pops up when editing a ‘TAGS’ property.</p>
</li>
<li><p>C-c C-c (<code>org-columns-set-tags-or-toggle</code>)<br>n<br>When there is a checkbox at point, toggle it.</p>
</li>
<li><p>v (<code>org-columns-show-value</code>)</p>
<p>View the full value of this property. This is useful if the width of the column is smaller than that of the value.</p>
</li>
<li><p>a (<code>org-columns-edit-allowed</code>)</p>
<p>Edit the list of allowed values for this property. If the list is found in the hierarchy, the modified values is stored there. If no list is found, the new value is stored in the first entry that is part of the current column view.</p>
</li>
</ul>
<h4 id="Modifying-column-view-on-the-fly"><a href="#Modifying-column-view-on-the-fly" class="headerlink" title="Modifying column view on-the-fly"></a>Modifying column view on-the-fly</h4><ul>
<li><p>&lt; (<code>org-columns-narrow</code>)</p>
</li>
<li><blockquote>
<p>(<code>org-columns-widen</code>)</p>
</blockquote>
<p>Make the column narrower/wider by one character.</p>
</li>
<li><p>S-M-RIGHT (<code>org-columns-new</code>)</p>
<p>Insert a new column, to the left of the current column.</p>
</li>
<li><p>S-M-LEFT (<code>org-columns-delete</code>)</p>
<p>Delete the current column.</p>
</li>
</ul>
<h3 id="7-5-3-Capturing-column-view"><a href="#7-5-3-Capturing-column-view" class="headerlink" title="7.5.3 Capturing column view"></a>7.5.3 Capturing column view</h3><blockquote>
<p>弄得这么负责, 有啥鸟用. </p>
</blockquote>
<p>Since column view is just an overlay over a buffer, it cannot be exported or printed directly. If you want to capture a column view, use a ‘columnview’ dynamic block (see <a href="https://orgmode.org/manual/Dynamic-Blocks.html#Dynamic-Blocks" target="_blank" rel="noopener">Dynamic Blocks</a>). The frame of this block looks like this:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">* The column view</span><br><span class="line">#+BEGIN: columnview :hlines 1 :id &quot;label&quot;</span><br><span class="line">#+END:</span><br></pre></td></tr></table></figure>
<p>This dynamic block has the following parameters:</p>
<ul>
<li><p>‘:id’</p>
<p>This is the most important parameter. Column view is a feature that is often localized to a certain (sub)tree, and the capture block might be at a different location in the file. To identify the tree whose view to capture, you can use four values:‘local’Use the tree in which the capture block is located.‘global’Make a global view, including all headings in the file.‘file:FILENAME’Run column view at the top of the FILENAME file.‘LABEL’Call column view in the tree that has an ‘ID’ property with the value LABEL. You can use M-x org-id-copy to create a globally unique ID for the current entry and copy it to the kill-ring.</p>
</li>
<li><p>‘:hlines’</p>
<p>When <code>t</code>, insert an hline after every line. When a number N, insert an hline before each headline with level <code>&lt;= N</code>.</p>
</li>
<li><p>‘:vlines’</p>
<p>When non-<code>nil</code>, force column groups to get vertical lines.</p>
</li>
<li><p>‘:maxlevel’</p>
<p>When set to a number, do not capture entries below this level.</p>
</li>
<li><p>‘:skip-empty-rows’</p>
<p>When non-<code>nil</code>, skip rows where the only non-empty specifier of the column view is ‘ITEM’.</p>
</li>
<li><p>‘:indent’</p>
<p>When non-<code>nil</code>, indent each ‘ITEM’ field according to its level.</p>
</li>
<li><p>‘:format’</p>
<p>Specify a column attribute (see <a href="https://orgmode.org/manual/Column-attributes.html#Column-attributes" target="_blank" rel="noopener">Column attributes</a>) for the dynamic block.</p>
</li>
</ul>
<p>The following commands insert or update the dynamic block:</p>
<ul>
<li><p>C-c C-x i (<code>org-insert-columns-dblock</code>)</p>
<p>Insert a dynamic block capturing a column view. Prompt for the scope or ID of the view.</p>
</li>
<li><p>C-c C-c C-c C-x C-u (<code>org-dblock-update</code>)</p>
<p>Update dynamic block at point. point needs to be in the ‘#+BEGIN’ line of the dynamic block.</p>
</li>
<li><p>C-u C-c C-x C-u (<code>org-update-all-dblocks</code>)</p>
<p>Update all dynamic blocks (see <a href="https://orgmode.org/manual/Dynamic-Blocks.html#Dynamic-Blocks" target="_blank" rel="noopener">Dynamic Blocks</a>). This is useful if you have several clock table blocks, column-capturing blocks or other dynamic blocks in a buffer.</p>
</li>
</ul>
<p>You can add formulas to the column view table and you may add plotting instructions in front of the table—these survive an update of the block. If there is a ‘TBLFM’ keyword after the table, the table is recalculated automatically after an update.</p>
<p>An alternative way to capture and process property values into a table is provided by Eric Schulte’s ‘org-collector.el’, which is a contributed package<a href="https://orgmode.org/manual/Capturing-column-view.html#FOOT60" target="_blank" rel="noopener">60</a>. It provides a general API to collect properties from entries in a certain scope, and arbitrary Lisp expressions to process these values before inserting them into a table or a dynamic block.</p>

          
        
      
    </div>

    

    
    
    

    

    
      
    
    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://alphaalgorithms.github.io/2019/05/21/emacs-todo-items/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Gabriel">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="DummyHead">
    </span>

    
      <header class="post-header">

        
        
          <h2 class="post-title" itemprop="name headline">
                
                
                <a href="/2019/05/21/emacs-todo-items/" class="post-title-link" itemprop="url">5.Orgmode TODO Items</a>
              
            
          </h2>
        

        <div class="post-meta">
          <span class="post-time">

            
            
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              

              
                
              

              <time title="Created: 2019-05-21 23:15:52 / Modified: 23:47:11" itemprop="dateCreated datePublished" datetime="2019-05-21T23:15:52+08:00">2019-05-21</time>
            

            
              

              
            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/linux-emacs-orgmode/" itemprop="url" rel="index"><span itemprop="name">linux - emacs - orgmode</span></a></span>

                
                
              
            </span>
          

          
            
            
              
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <span class="post-meta-item-icon">
                  <i class="fa fa-comment-o"></i>
                </span>
            
                <span class="post-meta-item-text">Comments: </span>
                <a href="/2019/05/21/emacs-todo-items/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count disqus-comment-count" data-disqus-identifier="2019/05/21/emacs-todo-items/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>Org mode does not maintain TODO lists as separate documents<a href="https://orgmode.org/manual/TODO-Items.html#FOOT37" target="_blank" rel="noopener">37</a>. Instead, TODO items are an integral part of the notes file, because TODO items usually come up while taking notes! With Org mode, simply mark any entry in a tree as being a TODO item. In this way, information is not duplicated, and the entire context from which the TODO item emerged is always present.</p>
<blockquote>
<p>说得真好, to do items usually come up while taking notes. scatter</p>
</blockquote>
<p>Of course, this technique for managing TODO items scatters them throughout your notes file. Org mode compensates for this by providing methods to give you an overview of all the things that you have to do.</p>
<table>
<thead>
<tr>
<th>• <a href="https://orgmode.org/manual/TODO-Basics.html#TODO-Basics" target="_blank" rel="noopener">TODO Basics</a>:</th>
<th>Marking and displaying TODO entries.</th>
</tr>
</thead>
<tbody>
<tr>
<td>• <a href="https://orgmode.org/manual/TODO-Extensions.html#TODO-Extensions" target="_blank" rel="noopener">TODO Extensions</a>:</td>
<td>Workflow and assignments.</td>
</tr>
<tr>
<td>• <a href="https://orgmode.org/manual/Progress-Logging.html#Progress-Logging" target="_blank" rel="noopener">Progress Logging</a>:</td>
<td>Dates and notes for progress.</td>
</tr>
<tr>
<td>• <a href="https://orgmode.org/manual/Priorities.html#Priorities" target="_blank" rel="noopener">Priorities</a>:</td>
<td>Some things are more important than others.</td>
</tr>
<tr>
<td>• <a href="https://orgmode.org/manual/Breaking-Down-Tasks.html#Breaking-Down-Tasks" target="_blank" rel="noopener">Breaking Down Tasks</a>:</td>
<td>Splitting a task into manageable pieces.</td>
</tr>
<tr>
<td>• <a href="https://orgmode.org/manual/Checkboxes.html#Checkboxes" target="_blank" rel="noopener">Checkboxes</a>:</td>
<td>Tick-off lists.</td>
</tr>
</tbody>
</table>
<h2 id="5-1-Basic-TODO-Functionality"><a href="#5-1-Basic-TODO-Functionality" class="headerlink" title="5.1 Basic TODO Functionality"></a>5.1 Basic TODO Functionality</h2><blockquote>
<p> 没啥东西, 略过.<br>Any headline becomes a TODO item when it starts with the word ‘TODO’, for example:</p>
</blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">*** TODO Write letter to Sam Fortune</span><br></pre></td></tr></table></figure>
<p>The most important commands to work with TODO entries are:</p>
<ul>
<li><p>C-c C-t (<code>org-todo</code>)</p>
<p>Rotate the TODO state of the current item among<code>,-&gt; (unmarked) -&gt; TODO -&gt; DONE --. &#39;--------------------------------&#39;</code>If TODO keywords have fast access keys (see <a href="https://orgmode.org/manual/Fast-access-to-TODO-states.html#Fast-access-to-TODO-states" target="_blank" rel="noopener">Fast access to TODO states</a>), prompt for a TODO keyword through the fast selection interface; this is the default behavior when <code>org-use-fast-todo-selection</code> is non-<code>nil</code>.The same rotation can also be done “remotely” from the agenda buffer with the t command key (see <a href="https://orgmode.org/manual/Agenda-Commands.html#Agenda-Commands" target="_blank" rel="noopener">Agenda Commands</a>).</p>
</li>
<li><p>C-u C-c C-t</p>
<p>When TODO keywords have no selection keys, select a specific keyword using completion; otherwise force cycling through TODO states with no prompt. When <code>org-use-fast-todo-selection</code> is set to <code>prefix</code>, use the fast selection interface.</p>
</li>
<li><p>S-RIGHT S-LEFT</p>
<p>Select the following/preceding TODO state, similar to cycling. Useful mostly if more than two TODO states are possible (see <a href="https://orgmode.org/manual/TODO-Extensions.html#TODO-Extensions" target="_blank" rel="noopener">TODO Extensions</a>). See also <a href="https://orgmode.org/manual/Conflicts.html#Conflicts" target="_blank" rel="noopener">Conflicts</a>, for a discussion of the interaction with <code>shift-selection-mode</code>. See also the variable <code>org-treat-S-cursor-todo-selection-as-state-change</code>.</p>
</li>
<li><p>C-c / t (<code>org-show-todo-tree</code>)</p>
<p>View TODO items in a <em>sparse tree</em> (see <a href="https://orgmode.org/manual/Sparse-Trees.html#Sparse-Trees" target="_blank" rel="noopener">Sparse Trees</a>). Folds the entire buffer, but shows all TODO items—with not-DONE state—and the headings hierarchy above them. With a prefix argument, or by using C-c / T, search for a specific TODO. You are prompted for the keyword, and you can also give a list of keywords like ‘KWD1|KWD2|…’ to list entries that match any one of these keywords. With a numeric prefix argument N, show the tree for the Nth keyword in the variable <code>org-todo-keywords</code>. With two prefix arguments, find all TODO states, both un-done and done.</p>
</li>
<li><p>M-x org-agenda t (<code>org-todo-list</code>)</p>
<p>Show the global TODO list. Collects the TODO items (with not-DONE states) from all agenda files (see <a href="https://orgmode.org/manual/Agenda-Views.html#Agenda-Views" target="_blank" rel="noopener">Agenda Views</a>) into a single buffer. The new buffer is in Org Agenda mode, which provides commands to examine and manipulate the TODO entries from the new buffer (see <a href="https://orgmode.org/manual/Agenda-Commands.html#Agenda-Commands" target="_blank" rel="noopener">Agenda Commands</a>). See <a href="https://orgmode.org/manual/Global-TODO-list.html#Global-TODO-list" target="_blank" rel="noopener">Global TODO list</a>, for more information.</p>
</li>
<li><p>S-M-RET (<code>org-insert-todo-heading</code>)</p>
<p>Insert a new TODO entry below the current one.</p>
</li>
</ul>
<p>Changing a TODO state can also trigger tag changes. See the docstring of the option <code>org-todo-state-tags-triggers</code> for details.</p>
<h2 id="5-2-Extended-Use-of-TODO-Keywords"><a href="#5-2-Extended-Use-of-TODO-Keywords" class="headerlink" title="5.2 Extended Use of TODO Keywords"></a>5.2 Extended Use of TODO Keywords</h2><blockquote>
<p>todo list的多种状态.</p>
</blockquote>
<p>By default, marked TODO entries have one of only two states: TODO and DONE. Org mode allows you to classify TODO items in more complex ways with <em>TODO keywords</em> (stored in <code>org-todo-keywords</code>). With special setup, the TODO keyword system can work differently in different files.</p>
<p>Note that <em>tags</em> are another way to classify headlines in general and TODO items in particular (see <a href="https://orgmode.org/manual/Tags.html#Tags" target="_blank" rel="noopener">Tags</a>).</p>
<table>
<thead>
<tr>
<th>• <a href="https://orgmode.org/manual/Workflow-states.html#Workflow-states" target="_blank" rel="noopener">Workflow states</a>:</th>
<th>From TODO to DONE in steps.</th>
</tr>
</thead>
<tbody>
<tr>
<td>• <a href="https://orgmode.org/manual/TODO-types.html#TODO-types" target="_blank" rel="noopener">TODO types</a>:</td>
<td>I do this, Fred does the rest.</td>
</tr>
<tr>
<td>• <a href="https://orgmode.org/manual/Multiple-sets-in-one-file.html#Multiple-sets-in-one-file" target="_blank" rel="noopener">Multiple sets in one file</a>:</td>
<td>Mixing it all, still finding your way.</td>
</tr>
<tr>
<td>• <a href="https://orgmode.org/manual/Fast-access-to-TODO-states.html#Fast-access-to-TODO-states" target="_blank" rel="noopener">Fast access to TODO states</a>:</td>
<td>Single letter selection of state.</td>
</tr>
<tr>
<td>• <a href="https://orgmode.org/manual/Per_002dfile-keywords.html#Per_002dfile-keywords" target="_blank" rel="noopener">Per-file keywords</a>:</td>
<td>Different files, different requirements.</td>
</tr>
<tr>
<td>• <a href="https://orgmode.org/manual/Faces-for-TODO-keywords.html#Faces-for-TODO-keywords" target="_blank" rel="noopener">Faces for TODO keywords</a>:</td>
<td>Highlighting states.</td>
</tr>
<tr>
<td>• <a href="https://orgmode.org/manual/TODO-dependencies.html#TODO-dependencies" target="_blank" rel="noopener">TODO dependencies</a>:</td>
<td>When one task needs to wait for others.</td>
</tr>
</tbody>
</table>
<blockquote>
<p>从2.1到2.7说来说去， 就只有一件事情：更多的关键词，采纳默认设置即可，不必要浪费时间。<br>总结前面这两章， 核心思想便是从note中写todo。</p>
</blockquote>
<h3 id="5-2-1-TODO-keywords-as-workflow-states"><a href="#5-2-1-TODO-keywords-as-workflow-states" class="headerlink" title="5.2.1 TODO keywords as workflow states"></a>5.2.1 TODO keywords as workflow states</h3><p>You can use TODO keywords to indicate different <em>sequential</em> states in the process of working on an item, for example<a href="https://orgmode.org/manual/Workflow-states.html#FOOT38" target="_blank" rel="noopener">38</a>:<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">(setq org-todo-keywords</span><br><span class="line">      &apos;((sequence &quot;TODO&quot; &quot;FEEDBACK&quot; &quot;VERIFY&quot; &quot;|&quot; &quot;DONE&quot; &quot;DELEGATED&quot;)))</span><br><span class="line">      </span><br><span class="line"> Its value is</span><br><span class="line">((sequence &quot;TODO(t)&quot; &quot;NEXT(n)&quot; &quot;|&quot; &quot;DONE(d!/!)&quot;)</span><br><span class="line"> (sequence &quot;PROJECT(p)&quot; &quot;|&quot; &quot;DONE(d!/!)&quot; &quot;CANCELLED(c@/!)&quot;)</span><br><span class="line"> (sequence &quot;WAITING(w@/!)&quot; &quot;DELEGATED(e!)&quot; &quot;HOLD(h)&quot; &quot;|&quot; &quot;CANCELLED(c@/!)&quot;))</span><br></pre></td></tr></table></figure></p>
<p>The vertical bar separates the TODO keywords (states that <em>need action</em>) from the DONE states (which need <em>no further action</em>). If you do not provide the separator bar, the last state is used as the DONE state.</p>
<p>With this setup, the command C-c C-t cycles an entry from ‘TODO’ to ‘FEEDBACK’, then to ‘VERIFY’, and finally to ‘DONE’ and ‘DELEGATED’. You may also use a numeric prefix argument to quickly select a specific state. For example C-3 C-c C-t changes the state immediately to ‘VERIFY’. Or you can use S-LEFT to go backward through the sequence. If you define many keywords, you can use in-buffer completion (see <a href="https://orgmode.org/manual/Completion.html#Completion" target="_blank" rel="noopener">Completion</a>) or even a special one-key selection scheme (see <a href="https://orgmode.org/manual/Fast-access-to-TODO-states.html#Fast-access-to-TODO-states" target="_blank" rel="noopener">Fast access to TODO states</a>) to insert these words into the buffer. Changing a TODO state can be logged with a timestamp, see <a href="https://orgmode.org/manual/Tracking-TODO-state-changes.html#Tracking-TODO-state-changes" target="_blank" rel="noopener">Tracking TODO state changes</a>, for more information.</p>
<h3 id="5-2-2-TODO-keywords-as-types"><a href="#5-2-2-TODO-keywords-as-types" class="headerlink" title="5.2.2 TODO keywords as types"></a>5.2.2 TODO keywords as types</h3><p>The second possibility is to use TODO keywords to indicate different <em>types</em> of action items. For example, you might want to indicate that items are for “work” or “home”. Or, when you work with several people on a single project, you might want to assign action items directly to persons, by using their names as TODO keywords. This would be set up like this:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">(setq org-todo-keywords &apos;((type &quot;Fred&quot; &quot;Sara&quot; &quot;Lucy&quot; &quot;|&quot; &quot;DONE&quot;)))</span><br></pre></td></tr></table></figure>
<p>In this case, different keywords do not indicate a sequence, but rather different types. So the normal work flow would be to assign a task to a person, and later to mark it DONE. Org mode supports this style by adapting the workings of the command C-c C-t<a href="https://orgmode.org/manual/TODO-types.html#FOOT39" target="_blank" rel="noopener">39</a>. When used several times in succession, it still cycles through all names, in order to first select the right type for a task. But when you return to the item after some time and execute C-c C-t again, it will switch from any name directly to ‘DONE’. Use prefix arguments or completion to quickly select a specific name. You can also review the items of a specific TODO type in a sparse tree by using a numeric prefix to C-c / t. For example, to see all things Lucy has to do, you would use C-3 C-c / t. To collect Lucy’s items from all agenda files into a single buffer, you would use the numeric prefix argument as well when creating the global TODO list: C-3 M-x org-agenda t.</p>
<h3 id="5-2-3-Multiple-keyword-sets-in-one-file"><a href="#5-2-3-Multiple-keyword-sets-in-one-file" class="headerlink" title="5.2.3 Multiple keyword sets in one file"></a>5.2.3 Multiple keyword sets in one file</h3><p>Sometimes you may want to use different sets of TODO keywords in parallel. For example, you may want to have the basic TODO/DONE, but also a workflow for bug fixing, and a separate state indicating that an item has been canceled—so it is not DONE, but also does not require action. Your setup would then look like this:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">(setq org-todo-keywords</span><br><span class="line">      &apos;((sequence &quot;TODO&quot; &quot;|&quot; &quot;DONE&quot;)</span><br><span class="line">        (sequence &quot;REPORT&quot; &quot;BUG&quot; &quot;KNOWNCAUSE&quot; &quot;|&quot; &quot;FIXED&quot;)</span><br><span class="line">        (sequence &quot;|&quot; &quot;CANCELED&quot;)))</span><br></pre></td></tr></table></figure>
<p>The keywords should all be different, this helps Org mode keep track of which subsequence should be used for a given entry. In this setup, C-c C-t only operates within a sub-sequence, so it switches from ‘DONE’ to (nothing) to ‘TODO’, and from ‘FIXED’ to (nothing) to ‘REPORT’. Therefore you need a mechanism to initially select the correct sequence. In addition to typing a keyword or using completion (see <a href="https://orgmode.org/manual/Completion.html#Completion" target="_blank" rel="noopener">Completion</a>), you may also apply the following commands:</p>
<ul>
<li><p>C-u C-u C-c C-t</p>
</li>
<li><p>C-S-RIGHT</p>
</li>
<li><p>C-S-LEFT</p>
<p>These keys jump from one TODO sub-sequence to the next. In the above example, C-u C-u C-c C-t or C-S-RIGHT would jump from ‘TODO’ or ‘DONE’ to ‘REPORT’, and any of the words in the second row to ‘CANCELED’. Note that the C-S- key binding conflict with <code>shift-selection-mode</code> (see <a href="https://orgmode.org/manual/Conflicts.html#Conflicts" target="_blank" rel="noopener">Conflicts</a>).</p>
</li>
<li><p>S-RIGHT</p>
</li>
<li><p>S-LEFT</p>
<p>S-LEFT and S-RIGHT walk through <em>all</em> keywords from all sub-sequences, so for example S-RIGHT would switch from ‘DONE’ to ‘REPORT’ in the example above. For a discussion of the interaction with <code>shift-selection-mode</code>, see <a href="https://orgmode.org/manual/Conflicts.html#Conflicts" target="_blank" rel="noopener">Conflicts</a>.</p>
</li>
</ul>
<h3 id="5-2-4-Fast-access-to-TODO-states"><a href="#5-2-4-Fast-access-to-TODO-states" class="headerlink" title="5.2.4 Fast access to TODO states"></a>5.2.4 Fast access to TODO states</h3><p>If you would like to quickly change an entry to an arbitrary TODO state instead of cycling through the states, you can set up keys for single-letter access to the states. This is done by adding the selection character after each keyword, in parentheses<a href="https://orgmode.org/manual/Fast-access-to-TODO-states.html#FOOT40" target="_blank" rel="noopener">40</a>. For example:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">(setq org-todo-keywords</span><br><span class="line">      &apos;((sequence &quot;TODO(t)&quot; &quot;|&quot; &quot;DONE(d)&quot;)</span><br><span class="line">        (sequence &quot;REPORT(r)&quot; &quot;BUG(b)&quot; &quot;KNOWNCAUSE(k)&quot; &quot;|&quot; &quot;FIXED(f)&quot;)</span><br><span class="line">        (sequence &quot;|&quot; &quot;CANCELED(c)&quot;)))</span><br></pre></td></tr></table></figure>
<p>If you then press C-c C-t followed by the selection key, the entry is switched to this state. SPC can be used to remove any TODO keyword from an entry<a href="https://orgmode.org/manual/Fast-access-to-TODO-states.html#FOOT41" target="_blank" rel="noopener">41</a>.</p>
<h3 id="5-2-5-Setting-up-keywords-for-individual-files"><a href="#5-2-5-Setting-up-keywords-for-individual-files" class="headerlink" title="5.2.5 Setting up keywords for individual files"></a>5.2.5 Setting up keywords for individual files</h3><blockquote>
<p>本节目前用不着.</p>
</blockquote>
<p>It can be very useful to use different aspects of the TODO mechanism in different files. For file-local settings, you need to add special lines to the file which set the keywords and interpretation for that file only. For example, to set one of the two examples discussed above, you need one of the following lines, starting in column zero anywhere in the file:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">#+TODO: TODO FEEDBACK VERIFY | DONE CANCELED</span><br></pre></td></tr></table></figure>
<p>You may also write ‘#+SEQ_TODO’ to be explicit about the interpretation, but it means the same as ‘#+TODO’, or</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">#+TYP_TODO: Fred Sara Lucy Mike | DONE</span><br></pre></td></tr></table></figure>
<p>A setup for using several sets in parallel would be:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">#+TODO: TODO | DONE</span><br><span class="line">#+TODO: REPORT BUG KNOWNCAUSE | FIXED</span><br><span class="line">#+TODO: | CANCELED</span><br></pre></td></tr></table></figure>
<p>To make sure you are using the correct keyword, type ‘#+’ into the buffer and then use M-TAB to complete it (see <a href="https://orgmode.org/manual/Completion.html#Completion" target="_blank" rel="noopener">Completion</a>).</p>
<p>Remember that the keywords after the vertical bar—or the last keyword if no bar is there—must always mean that the item is DONE, although you may use a different word. After changing one of these lines, use C-c C-c with point still in the line to make the changes known to Org mode<a href="https://orgmode.org/manual/Per_002dfile-keywords.html#FOOT42" target="_blank" rel="noopener">42</a>.</p>
<h3 id="5-2-6-Faces-for-TODO-keywords"><a href="#5-2-6-Faces-for-TODO-keywords" class="headerlink" title="5.2.6 Faces for TODO keywords"></a>5.2.6 Faces for TODO keywords</h3><p>Org mode highlights TODO keywords with special faces: <code>org-todo</code> for keywords indicating that an item still has to be acted upon, and <code>org-done</code> for keywords indicating that an item is finished. If you are using more than two different states, you might want to use special faces for some of them. This can be done using the variable <code>org-todo-keyword-faces</code>. For example:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">(setq org-todo-keyword-faces</span><br><span class="line">      &apos;((&quot;TODO&quot; . org-warning) (&quot;STARTED&quot; . &quot;yellow&quot;)</span><br><span class="line">        (&quot;CANCELED&quot; . (:foreground &quot;blue&quot; :weight bold))))</span><br></pre></td></tr></table></figure>
<p>While using a list with face properties as shown for ‘CANCELED’ <em>should</em> work, this does not always seem to be the case. If necessary, define a special face and use that. A string is interpreted as a color. The variable <code>org-faces-easy-properties</code> determines if that color is interpreted as a foreground or a background color.</p>
<h3 id="5-2-7-TODO-dependencies"><a href="#5-2-7-TODO-dependencies" class="headerlink" title="5.2.7 TODO dependencies"></a>5.2.7 TODO dependencies</h3><p>The structure of Org files—hierarchy and lists—makes it easy to define TODO dependencies. Usually, a parent TODO task should not be marked DONE until all TODO subtasks, or children tasks, are marked as DONE. Sometimes there is a logical sequence to (sub)tasks, so that one subtask cannot be acted upon before all siblings above it have been marked DONE. If you customize the variable <code>org-enforce-todo-dependencies</code>, Org blocks entries from changing state to DONE while they have TODO children that are not DONE. Furthermore, if an entry has a property ‘ORDERED’, each of its TODO children is blocked until all earlier siblings are marked DONE. Here is an example:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">* TODO Blocked until (two) is done</span><br><span class="line">** DONE one</span><br><span class="line">** TODO two</span><br><span class="line"></span><br><span class="line">* Parent</span><br><span class="line">:PROPERTIES:</span><br><span class="line">:ORDERED:  t</span><br><span class="line">:END:</span><br><span class="line">** TODO a</span><br><span class="line">** TODO b, needs to wait for (a)</span><br><span class="line">** TODO c, needs to wait for (a) and (b)</span><br></pre></td></tr></table></figure>
<p>You can ensure an entry is never blocked by using the ‘NOBLOCKING’ property (see <a href="https://orgmode.org/manual/Properties-and-Columns.html#Properties-and-Columns" target="_blank" rel="noopener">Properties and Columns</a>):</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">* This entry is never blocked</span><br><span class="line">:PROPERTIES:</span><br><span class="line">:NOBLOCKING: t</span><br><span class="line">:END:</span><br></pre></td></tr></table></figure>
<ul>
<li><p>C-c C-x o (<code>org-toggle-ordered-property</code>)</p>
<p>Toggle the ‘ORDERED’ property of the current entry. A property is used for this behavior because this should be local to the current entry, not inherited from entries above like a tag (see <a href="https://orgmode.org/manual/Tags.html#Tags" target="_blank" rel="noopener">Tags</a>). However, if you would like to <em>track</em> the value of this property with a tag for better visibility, customize the variable <code>org-track-ordered-property-with-tag</code>.</p>
</li>
<li><p>C-u C-u C-u C-c C-t</p>
<p>Change TODO state, regardless of any state blocking.</p>
</li>
</ul>
<p>If you set the variable <code>org-agenda-dim-blocked-tasks</code>, TODO entries that cannot be marked DONE because of unmarked children are shown in a dimmed font or even made invisible in agenda views (see <a href="https://orgmode.org/manual/Agenda-Views.html#Agenda-Views" target="_blank" rel="noopener">Agenda Views</a>).</p>
<p>You can also block changes of TODO states by using checkboxes (see <a href="https://orgmode.org/manual/Checkboxes.html#Checkboxes" target="_blank" rel="noopener">Checkboxes</a>). If you set the variable <code>org-enforce-todo-checkbox-dependencies</code>, an entry that has unchecked checkboxes is blocked from switching to DONE.</p>
<p>If you need more complex dependency structures, for example dependencies between entries in different trees or files, check out the contributed module ‘org-depend.el’.</p>
<h2 id="5-3-Progress-Logging"><a href="#5-3-Progress-Logging" class="headerlink" title="5.3 Progress Logging"></a>5.3 Progress Logging</h2><blockquote>
<p>不需要阅读就会应用的章节。 是todo最重要的部分。</p>
</blockquote>
<p>Org mode can automatically record a timestamp and optionally a note when you mark a TODO item as DONE, or even each time you change the state of a TODO item. This system is highly configurable, settings can be on a per-keyword basis and can be localized to a file or even a subtree. For information on how to clock working time for a task, see <a href="https://orgmode.org/manual/Clocking-Work-Time.html#Clocking-Work-Time" target="_blank" rel="noopener">Clocking Work Time</a>.</p>
<table>
<thead>
<tr>
<th>• <a href="https://orgmode.org/manual/Closing-items.html#Closing-items" target="_blank" rel="noopener">Closing items</a>:</th>
<th>When was this entry marked DONE?</th>
</tr>
</thead>
<tbody>
<tr>
<td>• <a href="https://orgmode.org/manual/Tracking-TODO-state-changes.html#Tracking-TODO-state-changes" target="_blank" rel="noopener">Tracking TODO state changes</a>:</td>
<td>When did the status change?</td>
</tr>
<tr>
<td>• <a href="https://orgmode.org/manual/Tracking-your-habits.html#Tracking-your-habits" target="_blank" rel="noopener">Tracking your habits</a>:</td>
<td>How consistent have you been?</td>
</tr>
</tbody>
</table>
<blockquote>
<p>只有一句话,  有habit这个property. </p>
</blockquote>
<h3 id="5-3-1-Closing-items"><a href="#5-3-1-Closing-items" class="headerlink" title="5.3.1 Closing items"></a>5.3.1 Closing items</h3><p>The most basic logging is to keep track of <em>when</em> a certain TODO item was marked DONE. This can be achieved with<a href="https://orgmode.org/manual/Closing-items.html#FOOT43" target="_blank" rel="noopener">43</a></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">(setq org-log-done &apos;time)</span><br></pre></td></tr></table></figure>
<p>Then each time you turn an entry from a TODO (not-done) state into any of the DONE states, a line ‘CLOSED: [timestamp]’ is inserted just after the headline. If you turn the entry back into a TODO item through further state cycling, that line is removed again. If you turn the entry back to a non-TODO state (by pressing C-c C-t SPC for example), that line is also removed, unless you set <code>org-closed-keep-when-no-todo</code> to non-<code>nil</code>. If you want to record a note along with the timestamp, use<a href="https://orgmode.org/manual/Closing-items.html#FOOT44" target="_blank" rel="noopener">44</a></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">(setq org-log-done &apos;note)</span><br></pre></td></tr></table></figure>
<p>You are then be prompted for a note, and that note is stored below the entry with a ‘Closing Note’ heading.</p>
<h3 id="5-3-2-Tracking-TODO-state-changes"><a href="#5-3-2-Tracking-TODO-state-changes" class="headerlink" title="5.3.2 Tracking TODO state changes"></a>5.3.2 Tracking TODO state changes</h3><blockquote>
<p>目前我用不着. </p>
</blockquote>
<p>When TODO keywords are used as workflow states (see <a href="https://orgmode.org/manual/Workflow-states.html#Workflow-states" target="_blank" rel="noopener">*Workflow states</a>), you might want to keep track of when a state change occurred and maybe take a note about this change. You can either record just a timestamp, or a time-stamped note. These records are inserted after the headline as an itemized list, newest first<a href="https://orgmode.org/manual/Tracking-TODO-state-changes.html#FOOT45" target="_blank" rel="noopener">45</a>. When taking a lot of notes, you might want to get the notes out of the way into a drawer (see <a href="https://orgmode.org/manual/Drawers.html#Drawers" target="_blank" rel="noopener">Drawers</a>). Customize the variable <code>org-log-into-drawer</code> to get this behavior—the recommended drawer for this is called ‘LOGBOOK’<a href="https://orgmode.org/manual/Tracking-TODO-state-changes.html#FOOT46" target="_blank" rel="noopener">46</a>. You can also overrule the setting of this variable for a subtree by setting a ‘LOG_INTO_DRAWER’ property.</p>
<p>Since it is normally too much to record a note for every state, Org mode expects configuration on a per-keyword basis for this. This is achieved by adding special markers ‘!’ (for a timestamp) or ‘@’ (for a note with timestamp) in parentheses after each keyword. For example, with the setting</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">(setq org-todo-keywords</span><br><span class="line">      &apos;((sequence &quot;TODO(t)&quot; &quot;WAIT(w@/!)&quot; &quot;|&quot; &quot;DONE(d!)&quot; &quot;CANCELED(c@)&quot;)))</span><br></pre></td></tr></table></figure>
<p>to record a timestamp without a note for TODO keywords configured with ‘@’, just type C-c C-c to enter a blank note when prompted.</p>
<p>You not only define global TODO keywords and fast access keys, but also request that a time is recorded when the entry is set to ‘DONE’, and that a note is recorded when switching to ‘WAIT’ or ‘CANCELED’<a href="https://orgmode.org/manual/Tracking-TODO-state-changes.html#FOOT47" target="_blank" rel="noopener">47</a>. The setting for ‘WAIT’ is even more special: the ‘!’ after the slash means that in addition to the note taken when entering the state, a timestamp should be recorded when <em>leaving</em> the ‘WAIT’ state, if and only if the <em>target</em> state does not configure logging for entering it. So it has no effect when switching from ‘WAIT’ to ‘DONE’, because ‘DONE’ is configured to record a timestamp only. But when switching from ‘WAIT’ back to ‘TODO’, the ‘/!’ in the ‘WAIT’ setting now triggers a timestamp even though ‘TODO’ has no logging configured.</p>
<p>You can use the exact same syntax for setting logging preferences local to a buffer:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">#+TODO: TODO(t) WAIT(w@/!) | DONE(d!) CANCELED(c@)</span><br></pre></td></tr></table></figure>
<p>In order to define logging settings that are local to a subtree or a single item, define a ‘LOGGING’ property in this entry. Any non-empty ‘LOGGING’ property resets all logging settings to <code>nil</code>. You may then turn on logging for this specific tree using ‘STARTUP’ keywords like ‘lognotedone’ or ‘logrepeat’, as well as adding state specific settings like ‘TODO(!)’. For example:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">* TODO Log each state with only a time</span><br><span class="line">  :PROPERTIES:</span><br><span class="line">  :LOGGING: TODO(!) WAIT(!) DONE(!) CANCELED(!)</span><br><span class="line">  :END:</span><br><span class="line">* TODO Only log when switching to WAIT, and when repeating</span><br><span class="line">  :PROPERTIES:</span><br><span class="line">  :LOGGING: WAIT(@) logrepeat</span><br><span class="line">  :END:</span><br><span class="line">* TODO No logging at all</span><br><span class="line">  :PROPERTIES:</span><br><span class="line">  :LOGGING: nil</span><br><span class="line">  :END:</span><br></pre></td></tr></table></figure>
<h3 id="5-3-3-Tracking-your-habits"><a href="#5-3-3-Tracking-your-habits" class="headerlink" title="5.3.3 Tracking your habits"></a>5.3.3 Tracking your habits</h3><blockquote>
<p>了解到有habit这个property即可, 使用heading处理更方便. </p>
</blockquote>
<p>Org has the ability to track the consistency of a special category of TODO, called “habits.” To use habits, you have to enable the <code>habits</code> module by customizing the variable <code>org-modules</code>.</p>
<p>A habit has the following properties:</p>
<ol>
<li>The habit is a TODO item, with a TODO keyword representing an open state.</li>
<li>The property ‘STYLE’ is set to the value ‘habit’ (see <a href="https://orgmode.org/manual/Properties-and-Columns.html#Properties-and-Columns" target="_blank" rel="noopener">Properties and Columns</a>).</li>
<li>The TODO has a scheduled date, usually with a ‘.+’ style repeat interval. A ‘++’ style may be appropriate for habits with time constraints, e.g., must be done on weekends, or a ‘+’ style for an unusual habit that can have a backlog, e.g., weekly reports.</li>
<li>The TODO may also have minimum and maximum ranges specified by using the syntax ‘.+2d/3d’, which says that you want to do the task at least every three days, but at most every two days.</li>
<li>State logging for the DONE state is enabled (see <a href="https://orgmode.org/manual/Tracking-TODO-state-changes.html#Tracking-TODO-state-changes" target="_blank" rel="noopener">Tracking TODO state changes</a>), in order for historical data to be represented in the consistency graph. If it is not enabled it is not an error, but the consistency graphs are largely meaningless.</li>
</ol>
<p>To give you an idea of what the above rules look like in action, here’s an actual habit with some history:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">** TODO Shave</span><br><span class="line">   SCHEDULED: &lt;2009-10-17 Sat .+2d/4d&gt;</span><br><span class="line">   :PROPERTIES:</span><br><span class="line">   :STYLE:    habit</span><br><span class="line">   :LAST_REPEAT: [2009-10-19 Mon 00:36]</span><br><span class="line">   :END:</span><br><span class="line">   - State &quot;DONE&quot;       from &quot;TODO&quot;       [2009-10-15 Thu]</span><br><span class="line">   - State &quot;DONE&quot;       from &quot;TODO&quot;       [2009-10-12 Mon]</span><br><span class="line">   - State &quot;DONE&quot;       from &quot;TODO&quot;       [2009-10-10 Sat]</span><br><span class="line">   - State &quot;DONE&quot;       from &quot;TODO&quot;       [2009-10-04 Sun]</span><br><span class="line">   - State &quot;DONE&quot;       from &quot;TODO&quot;       [2009-10-02 Fri]</span><br><span class="line">   - State &quot;DONE&quot;       from &quot;TODO&quot;       [2009-09-29 Tue]</span><br><span class="line">   - State &quot;DONE&quot;       from &quot;TODO&quot;       [2009-09-25 Fri]</span><br><span class="line">   - State &quot;DONE&quot;       from &quot;TODO&quot;       [2009-09-19 Sat]</span><br><span class="line">   - State &quot;DONE&quot;       from &quot;TODO&quot;       [2009-09-16 Wed]</span><br><span class="line">   - State &quot;DONE&quot;       from &quot;TODO&quot;       [2009-09-12 Sat]</span><br></pre></td></tr></table></figure>
<p>What this habit says is: I want to shave at most every 2 days—given by the ‘SCHEDULED’ date and repeat interval—and at least every 4 days. If today is the 15th, then the habit first appears in the agenda (see <a href="https://orgmode.org/manual/Agenda-Views.html#Agenda-Views" target="_blank" rel="noopener">Agenda Views</a>) on Oct 17, after the minimum of 2 days has elapsed, and will appear overdue on Oct 19, after four days have elapsed.</p>
<p>What’s really useful about habits is that they are displayed along with a consistency graph, to show how consistent you’ve been at getting that task done in the past. This graph shows every day that the task was done over the past three weeks, with colors for each day. The colors used are:</p>
<ul>
<li><p>Blue</p>
<p>If the task was not to be done yet on that day.</p>
</li>
<li><p>Green</p>
<p>If the task could have been done on that day.</p>
</li>
<li><p>Yellow</p>
<p>If the task was going to be overdue the next day.</p>
</li>
<li><p>Red</p>
<p>If the task was overdue on that day.</p>
</li>
</ul>
<p>In addition to coloring each day, the day is also marked with an asterisk if the task was actually done that day, and an exclamation mark to show where the current day falls in the graph.</p>
<p>There are several configuration variables that can be used to change the way habits are displayed in the agenda.</p>
<ul>
<li><p><code>org-habit-graph-column</code></p>
<p>The buffer column at which the consistency graph should be drawn. This overwrites any text in that column, so it is a good idea to keep your habits’ titles brief and to the point.</p>
</li>
<li><p><code>org-habit-preceding-days</code></p>
<p>The amount of history, in days before today, to appear in consistency graphs.</p>
</li>
<li><p><code>org-habit-following-days</code></p>
<p>The number of days after today that appear in consistency graphs.</p>
</li>
<li><p><code>org-habit-show-habits-only-for-today</code></p>
<p>If non-<code>nil</code>, only show habits in today’s agenda view. The default value is <code>t</code>.</p>
</li>
</ul>
<p>Lastly, pressing K in the agenda buffer causes habits to temporarily be disabled and do not appear at all. Press K again to bring them back. They are also subject to tag filtering, if you have habits which should only be done in certain contexts, for example.</p>
<h2 id="5-4-Priorities"><a href="#5-4-Priorities" class="headerlink" title="5.4 Priorities"></a>5.4 Priorities</h2><blockquote>
<p>可以用作四象限时间管理. </p>
</blockquote>
<p>If you use Org mode extensively, you may end up with enough TODO items that it starts to make sense to prioritize them. Prioritizing can be done by placing a <em>priority cookie</em> into the headline of a TODO item, like this</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">*** TODO [#A] Write letter to Sam Fortune</span><br></pre></td></tr></table></figure>
<p>By default, Org mode supports three priorities: ‘A’, ‘B’, and ‘C’. ‘A’ is the highest priority. An entry without a cookie is treated as equivalent if it had priority ‘B’. Priorities make a difference only for sorting in the agenda (see <a href="https://orgmode.org/manual/Weekly_002fdaily-agenda.html#Weekly_002fdaily-agenda" target="_blank" rel="noopener">Weekly/daily agenda</a>); outside the agenda, they have no inherent meaning to Org mode. The cookies are displayed with the face defined by the variable <code>org-priority-faces</code>, which can be customized.</p>
<p>Priorities can be attached to any outline node; they do not need to be TODO items.</p>
<ul>
<li><p>C-c , (<code>org-priority</code>)</p>
<p>Set the priority of the current headline. The command prompts for a priority character ‘A’, ‘B’ or ‘C’. When you press SPC instead, the priority cookie, if one is set, is removed from the headline. The priorities can also be changed “remotely” from the agenda buffer with the , command (see <a href="https://orgmode.org/manual/Agenda-Commands.html#Agenda-Commands" target="_blank" rel="noopener">Agenda Commands</a>).</p>
</li>
<li><p>S-UP (<code>org-priority-up</code>)</p>
</li>
<li><p>S-DOWN (<code>org-priority-down</code>)</p>
<p>Increase/decrease the priority of the current headline<a href="https://orgmode.org/manual/Priorities.html#FOOT48" target="_blank" rel="noopener">48</a>. Note that these keys are also used to modify timestamps (see <a href="https://orgmode.org/manual/Creating-Timestamps.html#Creating-Timestamps" target="_blank" rel="noopener">Creating Timestamps</a>). See also <a href="https://orgmode.org/manual/Conflicts.html#Conflicts" target="_blank" rel="noopener">Conflicts</a>, for a discussion of the interaction with <code>shift-selection-mode</code>.</p>
</li>
</ul>
<p>You can change the range of allowed priorities by setting the variables <code>org-highest-priority</code>, <code>org-lowest-priority</code>, and <code>org-default-priority</code>. For an individual buffer, you may set these values (highest, lowest, default) like this (please make sure that the highest priority is earlier in the alphabet than the lowest priority):</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">#+PRIORITIES: A C B</span><br></pre></td></tr></table></figure>
<h2 id="5-5-Breaking-Down-Tasks-into-Subtasks"><a href="#5-5-Breaking-Down-Tasks-into-Subtasks" class="headerlink" title="5.5 Breaking Down Tasks into Subtasks"></a>5.5 Breaking Down Tasks into Subtasks</h2><blockquote>
<p>需要记住的属性，cookie data </p>
</blockquote>
<p>It is often advisable to break down large tasks into smaller, manageable subtasks. You can do this by creating an outline tree below a TODO item, with detailed subtasks on the tree<a href="https://orgmode.org/manual/Breaking-Down-Tasks.html#FOOT49" target="_blank" rel="noopener">49</a>. To keep an overview of the fraction of subtasks that have already been marked DONE, insert either ‘[/]’ or ‘[%]’ anywhere in the headline. These cookies are updated each time the TODO status of a child changes, or when pressing C-c C-c on the cookie. For example:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">* Organize Party [33%]</span><br><span class="line">** TODO Call people [1/2]</span><br><span class="line">*** TODO Peter</span><br><span class="line">*** DONE Sarah</span><br><span class="line">** TODO Buy food</span><br><span class="line">** DONE Talk to neighbor</span><br></pre></td></tr></table></figure>
<p>If a heading has both checkboxes and TODO children below it, the meaning of the statistics cookie become ambiguous. Set the property ‘COOKIE_DATA’ to either ‘checkbox’ or ‘todo’ to resolve this issue.</p>
<blockquote>
<p>这里的含义是如果不设置则二者都会自动显示出来．　</p>
</blockquote>
<p>If you would like to have the statistics cookie count any TODO entries in the subtree (not just direct children), configure the variable <code>org-hierarchical-todo-statistics</code>. To do this for a single subtree, include the word ‘recursive’ into the value of the ‘COOKIE_DATA’ property.</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">#修改为recursive这一点很不错. </span><br><span class="line">* Parent capturing statistics [2/20]</span><br><span class="line">  :PROPERTIES:</span><br><span class="line">  :COOKIE_DATA: todo recursive</span><br><span class="line">  :END:</span><br></pre></td></tr></table></figure>
<p>If you would like a TODO entry to automatically change to DONE when all children are done, you can use the following setup:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">(defun org-summary-todo (n-done n-not-done)</span><br><span class="line">  &quot;Switch entry to DONE when all subentries are done, to TODO otherwise.&quot;</span><br><span class="line">  (let (org-log-done org-log-states)   ; turn off logging</span><br><span class="line">    (org-todo (if (= n-not-done 0) &quot;DONE&quot; &quot;TODO&quot;))))</span><br><span class="line"></span><br><span class="line">(add-hook &apos;org-after-todo-statistics-hook &apos;org-summary-todo)</span><br></pre></td></tr></table></figure>
<p>Another possibility is the use of checkboxes to identify (a hierarchy of) a large number of subtasks (see <a href="https://orgmode.org/manual/Checkboxes.html#Checkboxes" target="_blank" rel="noopener">Checkboxes</a>).</p>
<h2 id="5-6-Checkboxes"><a href="#5-6-Checkboxes" class="headerlink" title="5.6 Checkboxes"></a>5.6 Checkboxes</h2><blockquote>
<p>应用分数表示, 并且随时更新.<br>键入checkbox即可.</p>
</blockquote>
<p>Every item in a plain list<a href="https://orgmode.org/manual/Checkboxes.html#FOOT50" target="_blank" rel="noopener">50</a> (see <a href="https://orgmode.org/manual/Plain-Lists.html#Plain-Lists" target="_blank" rel="noopener">Plain Lists</a>) can be made into a checkbox by starting it with the string ‘[ ]’. This feature is similar to TODO items (see <a href="https://orgmode.org/manual/TODO-Items.html#TODO-Items" target="_blank" rel="noopener">TODO Items</a>), but is more lightweight. Checkboxes are not included into the global TODO list, so they are often great to split a task into a number of simple steps. Or you can use them in a shopping list. To toggle a checkbox, use C-c C-c, or use the mouse (thanks to Piotr Zielinski’s ‘org-mouse.el’).</p>
<p>Here is an example of a checkbox list.</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">* TODO Organize party [2/4]</span><br><span class="line">  - [-] call people [1/3]</span><br><span class="line">    - [ ] Peter</span><br><span class="line">    - [X] Sarah</span><br><span class="line">    - [ ] Sam</span><br><span class="line">  - [X] order food</span><br><span class="line">  - [ ] think about what music to play</span><br><span class="line">  - [X] talk to the neighbors</span><br></pre></td></tr></table></figure>
<p>Checkboxes work hierarchically, so if a checkbox item has children that are checkboxes, toggling one of the children checkboxes makes the parent checkbox reflect if none, some, or all of the children are checked.</p>
<p>The ‘[2/4]’ and ‘[1/3]’ in the first and second line are cookies indicating how many checkboxes present in this entry have been checked off, and the total number of checkboxes present. This can give you an idea on how many checkboxes remain, even without opening a folded entry. The cookies can be placed into a headline or into (the first line of) a plain list item. Each cookie covers checkboxes of direct children structurally below the headline/item on which the cookie appears<a href="https://orgmode.org/manual/Checkboxes.html#FOOT51" target="_blank" rel="noopener">51</a>. You have to insert the cookie yourself by typing either ‘[/]’ or ‘[%]’. With ‘[/]’ you get an ‘n out of m’ result, as in the examples above. With ‘[%]’ you get information about the percentage of checkboxes checked (in the above example, this would be ‘[50%]’ and ‘[33%]’, respectively). In a headline, a cookie can count either checkboxes below the heading or TODO states of children, and it displays whatever was changed last. Set the property ‘COOKIE_DATA’ to either ‘checkbox’ or ‘todo’ to resolve this issue.</p>
<p>If the current outline node has an ‘ORDERED’ property, checkboxes must be checked off in sequence, and an error is thrown if you try to check off a box while there are unchecked boxes above it.</p>
<p>The following commands work with checkboxes:</p>
<ul>
<li><p>C-c C-c (<code>org-toggle-checkbox</code>)</p>
<p>Toggle checkbox status or—with prefix argument—checkbox presence at point. With a single prefix argument, add an empty checkbox or remove the current one<a href="https://orgmode.org/manual/Checkboxes.html#FOOT52" target="_blank" rel="noopener">52</a>. With a double prefix argument, set it to ‘[-]’, which is considered to be an intermediate state.</p>
</li>
<li><p>C-c C-x C-b (<code>org-toggle-checkbox</code>) 快捷键的含义是checkbox </p>
<p>Toggle checkbox status or—with prefix argument—checkbox presence at point. With double prefix argument, set it to ‘[-]’, which is considered to be an intermediate state.If there is an active region, toggle the first checkbox in the region and set all remaining boxes to the same status as the first. With a prefix argument, add or remove the checkbox for all items in the region.If point is in a headline, toggle checkboxes in the region between this headline and the next—so <em>not</em> the entire subtree.If there is no active region, just toggle the checkbox at point.</p>
</li>
<li><p>M-S-RET (<code>org-insert-todo-heading</code>)</p>
<p>Insert a new item with a checkbox. This works only if point is already in a plain list item (see <a href="https://orgmode.org/manual/Plain-Lists.html#Plain-Lists" target="_blank" rel="noopener">Plain Lists</a>).</p>
</li>
<li><p>C-c C-x o (<code>org-toggle-ordered-property</code>)</p>
<p>Toggle the ‘ORDERED’ property of the entry, to toggle if checkboxes must be checked off in sequence. A property is used for this behavior because this should be local to the current entry, not inherited like a tag. However, if you would like to <em>track</em> the value of this property with a tag for better visibility, customize <code>org-track-ordered-property-with-tag</code>.</p>
</li>
<li><p>C-c # (<code>org-update-statistics-cookies</code>)</p>
<p>Update the statistics cookie in the current outline entry. When called with a C-u prefix, update the entire file. Checkbox statistic cookies are updated automatically if you toggle checkboxes with C-c C-c and make new ones with M-S-RET. TODO statistics cookies update when changing TODO states. If you delete boxes/entries or add/change them by hand, use this command to get things back into sync.</p>
</li>
</ul>
<h2 id="总结"><a href="#总结" class="headerlink" title="总结"></a>总结</h2><p>两个要点: 一是breakdown 二是priority,<br>Logging的部分放在clock那里<br>特殊的的property是cookie-data, 用的时候再来查询.<br>其余内容无需关注.</p>

          
        
      
    </div>

    

    
    
    

    

    
      
    
    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://alphaalgorithms.github.io/2019/05/20/ssh-in-termux/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Gabriel">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="DummyHead">
    </span>

    
      <header class="post-header">

        
        
          <h2 class="post-title" itemprop="name headline">
                
                
                <a href="/2019/05/20/ssh-in-termux/" class="post-title-link" itemprop="url">使用Termux把Android手机变成SSH服务器</a>
              
            
          </h2>
        

        <div class="post-meta">
          <span class="post-time">

            
            
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              

              
                
              

              <time title="Created: 2019-05-20 18:17:15 / Modified: 19:42:02" itemprop="dateCreated datePublished" datetime="2019-05-20T18:17:15+08:00">2019-05-20</time>
            

            
              

              
            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/networking-ssh/" itemprop="url" rel="index"><span itemprop="name">networking - ssh</span></a></span>

                
                
              
            </span>
          

          
            
            
              
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <span class="post-meta-item-icon">
                  <i class="fa fa-comment-o"></i>
                </span>
            
                <span class="post-meta-item-text">Comments: </span>
                <a href="/2019/05/20/ssh-in-termux/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count disqus-comment-count" data-disqus-identifier="2019/05/20/ssh-in-termux/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="概要"><a href="#概要" class="headerlink" title="概要"></a>概要</h2><p>Termux是一款能够为Android手机提供Linux环境的应用。它最大的特点就是无需root，而且自带pkg包管理软件，可以很方便的其他linux应用。</p>
<ul>
<li><a href="https://termux.com/" target="_blank" rel="noopener">Termux</a></li>
<li><a href="https://github.com/termux" target="_blank" rel="noopener">Termux</a></li>
</ul>
<h2 id="手机安装Termux"><a href="#手机安装Termux" class="headerlink" title="手机安装Termux"></a>手机安装Termux</h2><p>可以在Google Play Store或F-Droid上搜索Termux来安装，目前的版本是0.47。</p>
<h2 id="安装sshd"><a href="#安装sshd" class="headerlink" title="安装sshd"></a>安装sshd</h2><p>打开 <code>Termux</code> 会出现一个类似Linux终端的界面。</p>
<p>由于sshd是包含在openssh包中的，因此我们首先需要在Termux中安装openssh</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pkg install openssh</span><br></pre></td></tr></table></figure>
<p>安装好之后，我们需要手工启动 <code>sshd</code></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sshd</span><br></pre></td></tr></table></figure>
<p>需要指出的是, <code>sshd</code> 监听的是8022端口而不是22号端口，因此可以使用下面命令来验证ssh服务是否开启<br>这里是需要特别注意的一点.</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">ssh localhost -p 8022 #助记, 80是http端口, 22是ssh端口</span><br><span class="line">#提示输入密码</span><br><span class="line">passwd#设置密码</span><br></pre></td></tr></table></figure>
<ul>
<li><a href="https://android.stackexchange.com/questions/212633/password-to-ssh-connec-to-termux/212634#212634" target="_blank" rel="noopener">Password to ssh connec to termux - Android Enthusiasts Stack Exchange</a></li>
</ul>
<p>若要查看sshd的日志，则可以在Termux上执行</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">logcat -s &apos;syslog:*&apos;</span><br></pre></td></tr></table></figure>
<h2 id="添加Public-key"><a href="#添加Public-key" class="headerlink" title="添加Public key"></a>添加Public key</h2><p>Termux的sshd只能通过密钥登陆，因此你需要在linux客户机上生成密钥对</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ssh-keygen</span><br></pre></td></tr></table></figure>
<p>把linux客户机上的公钥加到Termux中的 <code>.ssh/authorized_keys</code>,这一步比较麻烦</p>
<p>因为你无法使用 <code>ssh-copy-id</code>,只能先把 <code>id_rsa.pub</code> 拷贝到手机上，再在手机上打开该文件，拷贝文件内容后在Termux中用 <code>vi</code> 打开 <code>authorized_keys</code>,并复制内容进去.</p>
<p>不过如果linux客户机上本身也开启了ssh服务的话，则会简单很多，可以在Termux上执行, </p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">$ scp -P 8022 /home/me/.ssh/id_rsa.pub  192.168.1.204:~ </span><br><span class="line">  me@192.168.1.204&apos;s password: </span><br><span class="line">  id_rsa.pub</span><br></pre></td></tr></table></figure>
<p>就行了，其中linux_clinet为linux客户机的地址，user为登陆用户</p>
<h2 id="客户端登陆"><a href="#客户端登陆" class="headerlink" title="客户端登陆"></a>客户端登陆</h2><p>在客户端上执行</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ssh 192.4.4.9 -p 8022</span><br></pre></td></tr></table></figure>
<p>将这里的 <code>192.4.4.9</code> 修改为手机的ip，就能登陆到Termux中了。</p>
<p>手机ip可以通过在 <code>Termux</code> 中运行 <code>ifconfig -a</code> 来查看。</p>
<p>需要说明的是，使用ssh登陆Termux时无需带上用户名，因为Termux是单用户系统。即使你登陆时带上了用户名，Termux也会忽略该用户名</p>
<p>为了方便，我们可以配置一下ssh client的配置文件,将下面内容加入到 <code>~/.ssh/config</code> 文件中</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">Host termux</span><br><span class="line">     HostName 192.4.4.9</span><br><span class="line">     Port 8022</span><br></pre></td></tr></table></figure>
<p>这样只需要执行 <code>ssh termux</code> 就能登陆termx了.</p>

          
        
      
    </div>

    

    
    
    

    

    
      
    
    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://alphaalgorithms.github.io/2019/05/18/summary-clock-tools-in-emacs/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Gabriel">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="DummyHead">
    </span>

    
      <header class="post-header">

        
        
          <h2 class="post-title" itemprop="name headline">
                
                
                <a href="/2019/05/18/summary-clock-tools-in-emacs/" class="post-title-link" itemprop="url">Emacs时间管理之Datetime与Clock工具</a>
              
            
          </h2>
        

        <div class="post-meta">
          <span class="post-time">

            
            
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              

              
                
              

              <time title="Created: 2019-05-18 12:01:49 / Modified: 12:23:09" itemprop="dateCreated datePublished" datetime="2019-05-18T12:01:49+08:00">2019-05-18</time>
            

            
              

              
            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/linux-emacs-orgmode/" itemprop="url" rel="index"><span itemprop="name">linux - emacs - orgmode</span></a></span>

                
                
              
            </span>
          

          
            
            
              
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <span class="post-meta-item-icon">
                  <i class="fa fa-comment-o"></i>
                </span>
            
                <span class="post-meta-item-text">Comments: </span>
                <a href="/2019/05/18/summary-clock-tools-in-emacs/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count disqus-comment-count" data-disqus-identifier="2019/05/18/summary-clock-tools-in-emacs/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="前文概要"><a href="#前文概要" class="headerlink" title="前文概要:"></a>前文概要:</h2><p><a href="https://alphaalgorithms.github.io/2019/05/15/3-tools-to-manage-time/">时间管理的三件工具</a><br>(clock, datetime, calendar)</p>
<p><a href="https://alphaalgorithms.github.io/2019/05/13/time-presentation/">时间变量的顺序与时间表示的格式</a><br>(%a %b-d %H:%M %Y)</p>
<h2 id="Emacs中的时间格式与任务的时间属性"><a href="#Emacs中的时间格式与任务的时间属性" class="headerlink" title="Emacs中的时间格式与任务的时间属性"></a>Emacs中的时间格式与任务的时间属性</h2><p>时间管理的三件工具: 钟表, 日历, 以及二者结合的便利工具datetime.</p>
<p><a href="https://orgmode.org/manual/Dates-and-Times.html#Dates-and-Times" target="_blank" rel="noopener">The Org Manual: Dates and Times</a>主要应用datetime和clock两个工具管理时间.</p>
<ul>
<li><p>时间戳的格式 （Datetime)</p>
<ul>
<li><p>datetime格式 <2019-05-18 sat 09:52> C-u C-c . 6个时间变量 %Y-%m-%d %a %H:%M</2019-05-18></p>
</li>
<li><p>date格式 <2019-05-18 sat> C-c . 4个时间变量</2019-05-18></p>
</li>
</ul>
</li>
</ul>
<h2 id="Datetime时间戳与任务的时间属性"><a href="#Datetime时间戳与任务的时间属性" class="headerlink" title="Datetime时间戳与任务的时间属性"></a>Datetime时间戳与任务的时间属性</h2><ul>
<li><p>时间(戳)到底什么?<br>时间戳从概念上辨析为两个类别 1) appointment 2) schedule.<br>可以将主动安排的时间理解为schedule, 被动参与的时间为appointment</p>
</li>
<li><p>事件(任务)的四个时间属性</p>
<ul>
<li><p>Repeater<br>三种repeater,<br>1) standard 时间戳后面 +1w day, week, month, year<br>2) 过期后只需要补上一次, ++1w(比如每周给父母打电话)<br>3) 以档次完成时间为下一个interval的开始点,比如3个周理一次发. 理发 .+3w; 任何时间点上理完发,自动从该时间点上启动下一轮repeat.</p>
</li>
<li><p>Time Span<br>会议的时间<br><2019-05-18 sat 10:04>–<2019-05-18 sat 10:05></2019-05-18></2019-05-18></p>
</li>
<li><p>Scheduled<br>任务的开始时间,<br>SCHEDULED: <2019-05-18 sat></2019-05-18></p>
</li>
<li><p>Deadline<br>任务的截止时间<br>DEADLINE: <2019-05-18 sat></2019-05-18></p>
</li>
</ul>
</li>
</ul>
<ul>
<li>任务的监控与跟踪 Check<br>整合管理deadline与schedule.<ul>
<li><code>org-check-deadlines</code>, C-7 C-c / d #7天内将要截止的任务.变量org-deadline-warning-days</li>
<li><code>org-check-before-date</code>, given-date前的schedule and appointments</li>
<li><code>org-check-after-date</code>, given-date后的schedule and appointments.</li>
</ul>
</li>
</ul>
<h2 id="Clock计时与中断处理"><a href="#Clock计时与中断处理" class="headerlink" title="Clock计时与中断处理"></a>Clock计时与中断处理</h2><pre><code>1) 基本计时功能, 
 `org-clock-in`, `org-clock-out`
 可以手动修改计时, 然后调用` org-evaluate-time-range`或者`update-maybe`

2) 任务的第五个属性, efforts 
 总结任务的5个属性,1)schedule 2) deadline 3)repeater 4)time span 5)预测的time span(efforts).
 efforts是核心参数,逐步提高对时间和任务的掌控.

3) Resolve idle time and continuous clocking 
 中断计时的问题,`调出来org-resolve-clocks`重新设置.k(keep), s(substract),只用keep便可.
总结:
  1) 计时与计算 2) 任务的5个时间属性 3)idle中断计时的处理.
</code></pre>
          
        
      
    </div>

    

    
    
    

    

    
      
    
    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://alphaalgorithms.github.io/2019/05/18/date-and-time-in-emacs/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Gabriel">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="DummyHead">
    </span>

    
      <header class="post-header">

        
        
          <h2 class="post-title" itemprop="name headline">
                
                
                <a href="/2019/05/18/date-and-time-in-emacs/" class="post-title-link" itemprop="url">Date and Time in Emacs</a>
              
            
          </h2>
        

        <div class="post-meta">
          <span class="post-time">

            
            
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              

              
                
              

              <time title="Created: 2019-05-18 09:07:05 / Modified: 11:00:16" itemprop="dateCreated datePublished" datetime="2019-05-18T09:07:05+08:00">2019-05-18</time>
            

            
              

              
            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/linux-emacs-orgmode/" itemprop="url" rel="index"><span itemprop="name">linux - emacs - orgmode</span></a></span>

                
                
              
            </span>
          

          
            
            
              
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <span class="post-meta-item-icon">
                  <i class="fa fa-comment-o"></i>
                </span>
            
                <span class="post-meta-item-text">Comments: </span>
                <a href="/2019/05/18/date-and-time-in-emacs/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count disqus-comment-count" data-disqus-identifier="2019/05/18/date-and-time-in-emacs/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="8-1-Timestamps-Deadlines-and-Scheduling"><a href="#8-1-Timestamps-Deadlines-and-Scheduling" class="headerlink" title="8.1 Timestamps, Deadlines and Scheduling"></a>8.1 Timestamps, Deadlines and Scheduling</h2><p>A timestamp is a specification of a date (possibly with a time or a range of times) in a special format, either ‘<2003-09-16 tue>’ or ‘<2003-09-16 tue 09:39>’ or ‘<2003-09-16 tue 12:00-12:30>’[^1]  A timestamp can appear anywhere in the headline or body of an Org tree entry. Its presence causes entries to be shown on specific dates in the agenda (see <a href="https://orgmode.org/manual/Weekly_002fdaily-agenda.html#Weekly_002fdaily-agenda" target="_blank" rel="noopener">Weekly/daily agenda</a>). We distinguish:</2003-09-16></2003-09-16></2003-09-16></p>
<blockquote>
<p>timestamp, 几个基本概念与变量，<br>时间戳的顺序，appointment(schedule), 　repeater, 还有time range.<br>所以此处是时间戳, appointment(scheduel)</p>
</blockquote>
<ol>
<li><p>Plain timestamp; Event; Appointment</p>
<p>A simple timestamp just assigns a date/time to an item. This is just like writing down an appointment or event in a paper agenda. In the agenda display, the headline of an entry associated with a plain timestamp is shown exactly on that date.</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&lt;<span class="number">2006</span><span class="number">-11</span><span class="number">-01</span> Wed <span class="number">19</span>:<span class="number">15</span>&gt; </span><br><span class="line">* Discussion on climate change   </span><br><span class="line">&lt;<span class="number">2006</span><span class="number">-11</span><span class="number">-02</span> Thu <span class="number">20</span>:<span class="number">00</span><span class="number">-22</span>:<span class="number">00</span>&gt; `</span><br></pre></td></tr></table></figure>
<ol start="2">
<li>Tmestamp with repeater interval(repeater)</li>
</ol>
<p>A timestamp may contain a <em>repeater interval</em>, indicating that it applies not only on the given date, but again and again after a certain interval of N days (d), weeks (w), months (m), or years (y). The following shows up in the agenda every Wednesday:</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">* Pick up Sam at school   </span><br><span class="line">&lt;<span class="number">2007</span><span class="number">-05</span><span class="number">-16</span> Wed <span class="number">12</span>:<span class="number">30</span> +<span class="number">1</span>w&gt;</span><br></pre></td></tr></table></figure>
</li>
<li><p>Diary-style sexp entries (这一项可以去掉)</p>
<p>For more complex date specifications, Org mode supports using the special sexp diary entries implemented in the Emacs calendar/diary package. For example, with optional time:</p>
</li>
</ol>
<p>​          &lt;%%(diary-float t 4 2)&gt;</p>
<ol start="4">
<li><p>Time/Date range</p>
<p>Two timestamps connected by ‘–’ denote a range. The headline is shown on the first and last day of the range, and on any dates that are displayed and fall in the range. Here is an example:</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">** Meeting <span class="keyword">in</span> Amsterdam</span><br><span class="line">   &lt;<span class="number">2004</span><span class="number">-08</span><span class="number">-23</span> Mon&gt;--&lt;<span class="number">2004</span><span class="number">-08</span><span class="number">-26</span> Thu&gt;</span><br></pre></td></tr></table></figure>
</li>
<li><p>Inactive timestamp</p>
<p>Just like a plain timestamp, but with square brackets instead of angular ones. These timestamps are inactive in the sense that they do <em>not</em> trigger an entry to show up in the agenda.</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">* Gillian comes late <span class="keyword">for</span> the fifth time   </span><br><span class="line">[<span class="number">2006</span><span class="number">-11</span><span class="number">-01</span> Wed]</span><br></pre></td></tr></table></figure>
</li>
</ol>
<blockquote>
<p>interval(range), repeater, </p>
</blockquote>
<h2 id="8-2-Creating-Timestamps"><a href="#8-2-Creating-Timestamps" class="headerlink" title="8.2 Creating Timestamps"></a>8.2 Creating Timestamps</h2><p>For Org mode to recognize timestamps, they need to be in the specific format. All commands listed below produce timestamps in the correct format.</p>
<ul>
<li><p>C-c . (<code>org-time-stamp</code>)</p>
<p>Prompt for a date and insert a corresponding timestamp. When point is at an existing timestamp in the buffer, the command is used to modify this timestamp instead of inserting a new one. When this command is used twice in succession, a time range is inserted.When called with a prefix argument, use the alternative format which contains date and time. The default time can be rounded to multiples of 5 minutes. See the option <code>org-time-stamp-rounding-minutes</code>.With two prefix arguments, insert an active timestamp with the current time without prompting.</p>
</li>
<li><p>C-c &gt; (<code>org-goto-calendar</code>)</p>
<p>Access the Emacs calendar for the current date. If there is a timestamp in the current line, go to the corresponding date instead.</p>
</li>
</ul>
<blockquote>
<p>只有以上两个常用的快捷键,</p>
<p><2019-05-16 thu> C-c C-.</2019-05-16></p>
<p><2019-05-16 thu 15:45> #C-u C-c C-.</2019-05-16></p>
<p><2019-05-16 thu 15:46>–<2019-05-16 thu 15:46> #Consecutive </2019-05-16></2019-05-16></p>
</blockquote>
<p>另外还有两节无关紧要的内容.</p>
<h4 id="8-2-1-The-Org-Manual-The-date-time-prompt"><a href="#8-2-1-The-Org-Manual-The-date-time-prompt" class="headerlink" title="8.2.1 The Org Manual: The date/time prompt"></a>8.2.1 <a href="https://orgmode.org/manual/The-date_002ftime-prompt.html#The-date_002ftime-prompt" target="_blank" rel="noopener">The Org Manual: The date/time prompt</a></h4><h4 id="8-2-2-The-Org-Manual-Custom-time-format"><a href="#8-2-2-The-Org-Manual-Custom-time-format" class="headerlink" title="8.2.2 The Org Manual: Custom time format"></a>8.2.2 <a href="https://orgmode.org/manual/Custom-time-format.html#Custom-time-format" target="_blank" rel="noopener">The Org Manual: Custom time format</a></h4><h2 id="8-3-Deadlines-and-Scheduling"><a href="#8-3-Deadlines-and-Scheduling" class="headerlink" title="8.3 Deadlines and Scheduling"></a>8.3 Deadlines and Scheduling</h2><p>A timestamp may be preceded by special keywords to facilitate planning. Both the timestamp and the keyword have to be positioned immediately after the task they refer to.</p>
<ul>
<li><p>‘DEADLINE’</p>
<p>Meaning: the task (most likely a TODO item, though not necessarily) is supposed to be finished on that date.</p>
<p>On the deadline date, the task is listed in the agenda. In addition, the agenda for <em>today</em> carries a warning about the approaching or missed deadline, starting <code>org-deadline-warning-days</code>before the due date, and continuing until the entry is marked DONE. An example:</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">*** TODO write article about the Earth <span class="keyword">for</span> the Guide</span><br><span class="line">    DEADLINE: &lt;<span class="number">2004</span><span class="number">-02</span><span class="number">-29</span> Sun&gt;</span><br><span class="line">    The editor <span class="keyword">in</span> charge <span class="keyword">is</span> [[bbdb:Ford Prefect]]</span><br></pre></td></tr></table></figure>
<p>You can specify a different lead time for warnings for a specific deadlines using the following syntax. Here is an example with a warning period of 5 days </p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">DEADLINE: &lt;2004-02-29 Sun -5d&gt;</span><br></pre></td></tr></table></figure>
<blockquote>
<p>宕开一笔, 这里的-5d与find中处理时间的思路是一致的.</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&gt;      +n     <span class="keyword">for</span> greater than n,</span><br><span class="line">&gt;      - n     <span class="keyword">for</span> less than n,</span><br><span class="line">&gt;        n      <span class="keyword">for</span> exactly n.</span><br><span class="line">&gt;</span><br></pre></td></tr></table></figure>
</blockquote>
<p>This warning is deactivated if the task gets scheduled and you set <code>org-agenda-skip-deadline-prewarning-if-scheduled</code> to <code>t</code>.</p>
</li>
<li><p>‘SCHEDULED’</p>
<p>Meaning: you are planning to start working on that task on the given date.</p>
<p>The headline is listed under the given date<a href="https://orgmode.org/manual/Deadlines-and-Scheduling.html#FOOT66" target="_blank" rel="noopener">66</a>. In addition, a reminder that the scheduled date has passed is present in the compilation for <em>today</em>, until the entry is marked DONE, i.e., the task is automatically forwarded until completed.</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">*** TODO Call Trillian <span class="keyword">for</span> a date on New Years Eve.</span><br><span class="line">    SCHEDULED: &lt;<span class="number">2004</span><span class="number">-12</span><span class="number">-25</span> Sat&gt;</span><br></pre></td></tr></table></figure>
<p>If you want to <em>delay</em> the display of this task in the agenda, use <code>SCHEDULED: &lt;2004-12-25 Sat -2d&gt;</code>: the task is still scheduled on the 25th but will appear two days later. In case the task contains a repeater, the delay is considered to affect all occurrences; if you want the delay to only affect the first scheduled occurrence of the task, use ‘–2d’ instead. See <code>org-scheduled-delay-days</code> and <code>org-agenda-skip-scheduled-delay-if-deadline</code> for details on how to control this globally or per agenda.</p>
<blockquote>
<p><strong>Important:</strong> </p>
<p>Setting a date for a meeting is just <strong>a simple appointment</strong>, you should mark this entry with a simple plain timestamp, to get this item shown on the date where it applies. This is a frequent misunderstanding by Org users. In Org mode, <em>scheduling</em> means setting a date when you want to start working on an action item.</p>
<p>区别schedule and appointments.</p>
</blockquote>
</li>
</ul>
<p>You may use timestamps with repeaters in scheduling and deadline entries. Org mode issues early and late warnings based on the assumption that the timestamp represents the <em>nearest instance</em> of the repeater. However, the use of diary S-exp entries like</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;%%(diary-float t 42)&gt;</span><br></pre></td></tr></table></figure>
<p>in scheduling and deadline timestamps is limited. Org mode does not know enough about the internals of each S-exp function to issue early and late warnings. However, it shows the item on each day where the S-exp entry matches.</p>
<blockquote>
<p>总结<br>核心收获一是区别appointment and schedule, 二是对deadline和schedule的准确定义.</p>
</blockquote>
<h3 id="8-3-1-Inserting-deadlines-or-schedules"><a href="#8-3-1-Inserting-deadlines-or-schedules" class="headerlink" title="8.3.1 Inserting deadlines or schedules"></a>8.3.1 Inserting deadlines or schedules</h3><p>The following commands allow you to quickly insert a deadline or to schedule an item:<a href="https://orgmode.org/manual/Inserting-deadline_002fschedule.html#FOOT67" target="_blank" rel="noopener">67</a></p>
<ul>
<li><p>C-c C-d (<code>org-deadline</code>)</p>
<p>Insert ‘DEADLINE’ keyword along with a stamp. The insertion happens in the line directly following the headline. Remove any ‘CLOSED’ timestamp . When called with a prefix argument, also remove any existing deadline from the entry. Depending on the variable <code>org-log-redeadline</code>, take a note when changing an existing deadline<a href="https://orgmode.org/manual/Inserting-deadline_002fschedule.html#FOOT68" target="_blank" rel="noopener">68</a>.</p>
</li>
<li><p>C-c C-s (<code>org-schedule</code>)</p>
<p>Insert ‘SCHEDULED’ keyword along with a stamp. The insertion happens in the line directly following the headline. Remove any ‘CLOSED’ timestamp. When called with a prefix argument, also remove the scheduling date from the entry. Depending on the variable <code>org-log-reschedule</code>, take a note when changing an existing scheduling time<a href="https://orgmode.org/manual/Inserting-deadline_002fschedule.html#FOOT69" target="_blank" rel="noopener">69</a>.</p>
</li>
<li><p>C-c C-x C-k (<code>org-mark-entry-for-agenda-action</code>)</p>
<p>Mark the current entry for agenda action. After you have marked the entry like this, you can open the agenda or the calendar to find an appropriate date. With point on the selected date, pressk s or k d to schedule the marked item.</p>
</li>
<li><p>C-c / d (<code>org-check-deadlines</code>)</p>
<p>Create a sparse tree with all deadlines that are either past-due, or which will become due within <code>org-deadline-warning-days</code>. With C-u prefix, show all deadlines in the file. With a numeric prefix, check that many days. For example, C-1 C-c / d shows all deadlines due tomorrow.</p>
</li>
<li><p>C-c / b (<code>org-check-before-date</code>)</p>
<p>Sparse tree for deadlines and scheduled items before a given date.</p>
</li>
<li><p>C-c / a (<code>org-check-after-date</code>)</p>
<p>Sparse tree for deadlines and scheduled items after a given date.</p>
</li>
</ul>
<p>Note that <code>org-schedule</code> and <code>org-deadline</code> supports setting the date by indicating a relative time e.g., ‘+1d’ sets the date to the next day after today, and ‘–1w’ sets the date to the previous week before any current timestamp.</p>
<blockquote>
<p>注意事项, 在headline与schedule, deadline之间不要插入任何内容.Do not put any text between this line and the headline.</p>
</blockquote>
<h3 id="8-3-2-Repeated-tasks"><a href="#8-3-2-Repeated-tasks" class="headerlink" title="8.3.2 Repeated tasks"></a>8.3.2 Repeated tasks</h3><p>Some tasks need to be repeated again and again. Org mode helps to organize such tasks using a so-called repeater in a ‘DEADLINE’, ‘SCHEDULED’, or plain timestamps<a href="https://orgmode.org/manual/Repeated-tasks.html#FOOT70" target="_blank" rel="noopener">70</a>. In the following example:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">** TODO Pay the rent</span><br><span class="line">   DEADLINE: &lt;2005-10-01 Sat +1m&gt;</span><br></pre></td></tr></table></figure>
<p>the ‘+1m’ is a repeater; the intended interpretation is that the task has a deadline on ‘<2005-10-01>’ and repeats itself every (one) month starting from that time. You can use yearly, monthly, weekly, daily and hourly repeat cookies by using the ‘y’, ‘w’, ‘m’, ‘d’ and ‘h’ letters. If you need both a repeater and a special warning period in a deadline entry, the repeater should come first and the warning period last</2005-10-01></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">DEADLINE: &lt;2005-10-01 Sat +1m -3d&gt;</span><br></pre></td></tr></table></figure>
<p>Deadlines and scheduled items produce entries in the agenda when they are over-due, so it is important to be able to mark such an entry as DONE once you have done so. When you mark a ‘DEADLINE’ or a ‘SCHEDULED’ with the TODO keyword ‘DONE’, it no longer produces entries in the agenda. The problem with this is, however, is that then also the <em>next</em> instance of the repeated entry will not be active. Org mode deals with this in the following way: when you try to mark such an entry DONE, using C-c C-t, it shifts the base date of the repeating timestamp by the repeater interval, and immediately sets the entry state back to TODO<a href="https://orgmode.org/manual/Repeated-tasks.html#FOOT71" target="_blank" rel="noopener">71</a>. In the example above, setting the state to DONE would actually switch the date like this:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">** TODO Pay the rent</span><br><span class="line">   DEADLINE: &lt;2005-11-01 Tue +1m&gt;</span><br></pre></td></tr></table></figure>
<p>To mark a task with a repeater as DONE, use C– 1 C-c C-t, i.e., <code>org-todo</code> with a numeric prefix argument of ‘-1’ </p>
<blockquote>
<p>prefix argument是终极的done</p>
</blockquote>
<p>A timestamp<a href="https://orgmode.org/manual/Repeated-tasks.html#FOOT72" target="_blank" rel="noopener">72</a> is added under the deadline, to keep a record that you actually acted on the previous instance of this deadline.</p>
<p>As a consequence of shifting the base date, this entry is no longer visible in the agenda when checking past dates, but all future instances will be visible.</p>
<p>With the ‘+1m’ cookie, the date shift is always exactly one month. So if you have not paid the rent for three months, marking this entry DONE still keeps it as an overdue deadline. Depending on the task, this may not be the best way to handle it. For example, if you forgot to call your father for 3 weeks, it does not make sense to call him 3 times in a single day to make up for it. Finally, there are tasks like changing batteries which should always repeat a certain time <em>after</em> the last time you did it. For these tasks, Org mode has special repeaters ‘++’ and ‘.+’. For example:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">** TODO Call Father</span><br><span class="line">   DEADLINE: &lt;2008-02-10 Sun ++1w&gt;</span><br><span class="line">   Marking this DONE shifts the date by at least one week, but also</span><br><span class="line">   by as many weeks as it takes to get this date into the future.</span><br><span class="line">   However, it stays on a Sunday, even if you called and marked it</span><br><span class="line">   done on Saturday.</span><br><span class="line"></span><br><span class="line">** TODO Empty kitchen trash</span><br><span class="line">   DEADLINE: &lt;2008-02-08 Fri 20:00 ++1d&gt;</span><br><span class="line">   Marking this DONE shifts the date by at least one day, and also</span><br><span class="line">   by as many days as it takes to get the timestamp into the future.</span><br><span class="line">   Since there is a time in the timestamp, the next deadline in the</span><br><span class="line">   future will be on today&apos;s date if you complete the task before</span><br><span class="line">   20:00.</span><br><span class="line"></span><br><span class="line">** TODO Check the batteries in the smoke detectors</span><br><span class="line">   DEADLINE: &lt;2005-11-01 Tue .+1m&gt;</span><br><span class="line">   Marking this DONE will shift the date to one month after today.</span><br></pre></td></tr></table></figure>
<blockquote>
<p>这里的两个选项好有意思呀.<br>还有一点只有appointment的meeting使用plain.</p>
</blockquote>
<p>You may have both scheduling and deadline information for a specific task. If the repeater is set for the scheduling information only, you probably want the repeater to be ignored after the deadline. If so, set the variable <code>org-agenda-skip-scheduled-if-deadline-is-shown</code> to <code>repeated-after-deadline</code>. However, any scheduling information without a repeater is no longer relevant once the task is done, and thus, removed upon repeating the task. If you want both scheduling and deadline information to repeat after the same interval, set the same repeater for both timestamps.</p>
<p>An alternative to using a repeater is to create a number of copies of a task subtree, with dates shifted in each copy. The command C-c C-x c was created for this purpose; it is described in<a href="https://orgmode.org/manual/Structure-Editing.html#Structure-Editing" target="_blank" rel="noopener">Structure Editing</a>.</p>
<h2 id="8-4-Clocking-Work-Time"><a href="#8-4-Clocking-Work-Time" class="headerlink" title="8.4 Clocking Work Time"></a>8.4 Clocking Work Time</h2><p>Org mode allows you to clock the time you spend on specific tasks in a project. When you start working on an item, you can start the clock. When you stop working on that task, or when you mark the task done, the clock is stopped and the corresponding time interval is recorded. It also computes the total time spent on each subtree<a href="https://orgmode.org/manual/Clocking-Work-Time.html#FOOT73" target="_blank" rel="noopener">73</a> of a project. And it remembers a history or tasks recently clocked, to that you can jump quickly between a number of tasks absorbing your time.</p>
<p>To save the clock history across Emacs sessions, use:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">(setq org-clock-persist &apos;history)</span><br><span class="line">(org-clock-persistence-insinuate)</span><br></pre></td></tr></table></figure>
<p>When you clock into a new task after resuming Emacs, the incomplete clock<a href="https://orgmode.org/manual/Clocking-Work-Time.html#FOOT74" target="_blank" rel="noopener">74</a> is retrieved (see <a href="https://orgmode.org/manual/Resolving-idle-time.html#Resolving-idle-time-_00281_0029" target="_blank" rel="noopener">Resolving idle time (1)</a>) and you are prompted about what to do with it.</p>
<h3 id="8-4-1-Clocking-commands"><a href="#8-4-1-Clocking-commands" class="headerlink" title="8.4.1 Clocking commands"></a>8.4.1 Clocking commands</h3><ul>
<li><p>C-c C-x C-i (<code>org-clock-in</code>)</p>
<p>Start the clock on the current item (clock-in). This inserts the CLOCK keyword together with a timestamp. If this is not the first clocking of this item, the multiple CLOCK lines are wrapped into a ‘LOGBOOK’ drawer (see also the variable <code>org-clock-into-drawer</code>). You can also overrule the setting of this variable for a subtree by setting a ‘CLOCK_INTO_DRAWER’ or ‘LOG_INTO_DRAWER’ property. When called with a C-u prefix argument, select the task from a list of recently clocked tasks. With two C-u C-u prefixes, clock into the task at point and mark it as the default task; the default task is always be available with letter d when selecting a clocking task. With three C-u C-u C-u prefixes, force continuous clocking by starting the clock when the last clock stopped.While the clock is running, Org shows the current clocking time in the mode line, along with the title of the task. The clock time shown is all time ever clocked for this task and its children. If the task has an effort estimate (see <a href="https://orgmode.org/manual/Effort-Estimates.html#Effort-Estimates" target="_blank" rel="noopener">Effort Estimates</a>), the mode line displays the current clocking time against it<a href="https://orgmode.org/manual/Clocking-commands.html#FOOT75" target="_blank" rel="noopener">75</a>. If the task is a repeating one (see <a href="https://orgmode.org/manual/Repeated-tasks.html#Repeated-tasks" target="_blank" rel="noopener">Repeated tasks</a>), show only the time since the last reset of the task<a href="https://orgmode.org/manual/Clocking-commands.html#FOOT76" target="_blank" rel="noopener">76</a>. You can exercise more control over show time with the ‘CLOCK_MODELINE_TOTAL’ property. It may have the values ‘current’ to show only the current clocking instance, ‘today’ to show all time clocked on this tasks today—see also the variable <code>org-extend-today-until</code>, <code>all</code> to include all time, or <code>auto</code> which is the default<a href="https://orgmode.org/manual/Clocking-commands.html#FOOT77" target="_blank" rel="noopener">77</a>. Clicking with mouse-1 onto the mode line entry pops up a menu with clocking options.</p>
</li>
<li><p>C-c C-x C-o (<code>org-clock-out</code>)</p>
<p>Stop the clock (clock-out). This inserts another timestamp at the same location where the clock was last started. It also directly computes the resulting time in inserts it after the time range as ‘=&gt;HH:MM’. See the variable <code>org-log-note-clock-out</code> for the possibility to record an additional note together with the clock-out timestamp<a href="https://orgmode.org/manual/Clocking-commands.html#FOOT78" target="_blank" rel="noopener">78</a>.</p>
</li>
<li><p>C-c C-x C-x (<code>org-clock-in-last</code>)</p>
<p>Re-clock the last clocked task. With one C-u prefix argument, select the task from the clock history. With two C-u prefixes, force continuous clocking by starting the clock when the last clock stopped.</p>
</li>
<li><p>C-c C-x C-e (<code>org-clock-modify-effort-estimate</code>)</p>
<p>Update the effort estimate for the current clock task.</p>
</li>
<li><p>C-c C-c or C-c C-y (<code>org-evaluate-time-range</code>)</p>
<p>Recompute the time interval after changing one of the timestamps. This is only necessary if you edit the timestamps directly. If you change them with S-<cursor> keys, the update is automatic.</cursor></p>
</li>
<li><p>C-S-UP (<code>org-clock-timestamps-up</code>)</p>
</li>
<li><p>C-S-DOWN (<code>org-clock-timestamps-down</code>)</p>
<p>On CLOCK log lines, increase/decrease both timestamps so that the clock duration keeps the same value.</p>
</li>
<li><p>S-M-UP (<code>org-timestamp-up</code>)</p>
</li>
<li><p>S-M-DOWN (<code>org-timestamp-down</code>)</p>
<p>On ‘CLOCK’ log lines, increase/decrease the timestamp at point and the one of the previous, or the next, clock timestamp by the same duration. For example, if you hit S-M-UP to increase a clocked-out timestamp by five minutes, then the clocked-in timestamp of the next clock is increased by five minutes.</p>
</li>
<li><p>C-c C-t (<code>org-todo</code>)</p>
<p>Changing the TODO state of an item to DONE automatically stops the clock if it is running in this same item.</p>
</li>
<li><p>C-c C-x C-q (<code>org-clock-cancel</code>)</p>
<p>Cancel the current clock. This is useful if a clock was started by mistake, or if you ended up working on something else.</p>
</li>
<li><p>C-c C-x C-j (<code>org-clock-goto</code>)</p>
<p>Jump to the headline of the currently clocked in task. With a C-u prefix argument, select the target task from a list of recently clocked tasks.</p>
</li>
<li><p>C-c C-x C-d (<code>org-clock-display</code>)</p>
<p>Display time summaries for each subtree in the current buffer. This puts overlays at the end of each headline, showing the total time recorded under that heading, including the time of any subheadings. You can use visibility cycling to study the tree, but the overlays disappear when you change the buffer (see variable <code>org-remove-highlights-with-change</code>) or press C-c C-c.</p>
</li>
</ul>
<p>The l key may be used in the agenda (see <a href="https://orgmode.org/manual/Weekly_002fdaily-agenda.html#Weekly_002fdaily-agenda" target="_blank" rel="noopener">Weekly/daily agenda</a>) to show which tasks have been worked on or closed during a day.</p>
<p><strong>Important:</strong> note that both <code>org-clock-out</code> and <code>org-clock-in-last</code> can have a global keybinding and do not modify the window disposition.</p>
<blockquote>
<p>这里的命令有点多, 只要先看clock-in和clock-out便可.</p>
</blockquote>
<h3 id="8-4-2-The-clock-table"><a href="#8-4-2-The-clock-table" class="headerlink" title="8.4.2 The clock table"></a>8.4.2 The clock table</h3><blockquote>
<p>这一章全部都是没用的，只有前面的三个命令有用．<br>org-clock-report, org-dbclok-update, C-u C-c C-x C-u全部更新．</p>
</blockquote>
<p>Org mode can produce quite complex reports based on the time clocking information. Such a report is called a <em>clock table</em>, because it is formatted as one or several Org tables.</p>
<ul>
<li><p>C-c C-x C-r (<code>org-clock-report</code>)<br>Insert a dynamic block (see <a href="https://orgmode.org/manual/Dynamic-Blocks.html#Dynamic-Blocks" target="_blank" rel="noopener">Dynamic Blocks</a>) containing a clock report as an Org mode table into the current file. When point is at an existing clock table, just update it. When called with a prefix argument, jump to the first clock report in the current document and update it. The clock table includes archived trees.</p>
</li>
<li><p>C-c C-c or C-c C-x C-u (<code>org-dblock-update</code>)<br>Update dynamic block at point. Point needs to be in the ‘BEGIN’ line of the dynamic block.</p>
</li>
<li><p>C-u C-c C-x C-u</p>
<p>Update all dynamic blocks (see <a href="https://orgmode.org/manual/Dynamic-Blocks.html#Dynamic-Blocks" target="_blank" rel="noopener">Dynamic Blocks</a>). This is useful if you have several clock table blocks in a buffer.</p>
</li>
<li><p>S-LEFT</p>
</li>
<li><p>S-RIGHT (<code>org-clocktable-try-shift</code>)</p>
<p>Shift the current ‘:block’ interval and update the table. Point needs to be in the ‘#+BEGIN: clocktable’ line for this command. If ‘:block’ is ‘today’, it is shifted to ‘today-1’, etc.</p>
</li>
</ul>
<p>Here is an example of the frame for a clock table as it is inserted into the buffer with the C-c C-x C-r command:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">#+BEGIN: clocktable :maxlevel 2 :emphasize nil :scope file</span><br><span class="line">#+END: clocktable</span><br></pre></td></tr></table></figure>
<p>The ‘#+BEGIN’ line and specify a number of options to define the scope, structure, and formatting of the report. Defaults for all these options can be configured in the variable <code>org-clocktable-defaults</code>.</p>
<p>First there are options that determine which clock entries are to be selected:</p>
<ul>
<li><p>‘:maxlevel’</p>
<p>Maximum level depth to which times are listed in the table. Clocks at deeper levels are summed into the upper level.</p>
</li>
<li><p>‘:scope’</p>
<p>The scope to consider. This can be any of the following:‘nil’the current buffer or narrowed region‘file’the full current buffer‘subtree’the subtree where the clocktable is located‘treeN’the surrounding level N tree, for example ‘tree3’‘tree’the surrounding level 1 tree‘agenda’all agenda files‘(“file” …)’scan these files‘FUNCTION’scan files returned by calling FUNCTION with no argument‘file-with-archives’current file and its archives‘agenda-with-archives’all agenda files, including archives</p>
</li>
<li><p>‘:block’</p>
<p>The time block to consider. This block is specified either absolutely, or relative to the current time and may be any of these formats:‘2007-12-31’New year eve 2007‘2007-12’December 2007‘2007-W50’ISO-week 50 in 2007‘2007-Q2’2nd quarter in 2007‘2007’the year 2007‘today’, ‘yesterday’, ‘today-N’a relative day‘thisweek’, ‘lastweek’, ‘thisweek-N’a relative week‘thismonth’, ‘lastmonth’, ‘thismonth-N’a relative month‘thisyear’, ‘lastyear’, ‘thisyear-N’a relative year‘untilnow’<a href="https://orgmode.org/manual/The-clock-table.html#FOOT79" target="_blank" rel="noopener">79</a>all clocked time everWhen this option is not set, Org falls back to the value in <code>org-clock-display-default-range</code>, which defaults to the current year.Use S-LEFT or S-RIGHT to shift the time interval.</p>
</li>
<li><p>‘:tstart’</p>
<p>A time string specifying when to start considering times. Relative times like ‘“<-2w>“’ can also be used. See <a href="https://orgmode.org/manual/Matching-tags-and-properties.html#Matching-tags-and-properties" target="_blank" rel="noopener">Matching tags and properties</a> for relative time syntax.</-2w></p>
</li>
<li><p>‘:tend’</p>
<p>A time string specifying when to stop considering times. Relative times like ‘“<now>“’ can also be used. See <a href="https://orgmode.org/manual/Matching-tags-and-properties.html#Matching-tags-and-properties" target="_blank" rel="noopener">Matching tags and properties</a> for relative time syntax.</now></p>
</li>
<li><p>‘:wstart’</p>
<p>The starting day of the week. The default is 1 for Monday.</p>
</li>
<li><p>‘:mstart’</p>
<p>The starting day of the month. The default is 1 for the first.</p>
</li>
<li><p>‘:step’</p>
<p>Set to <code>week</code> or <code>day</code> to split the table into chunks. To use this, <code>:block</code> or <code>:tstart</code>, <code>:tend</code> are needed.</p>
</li>
<li><p>‘:stepskip0’</p>
<p>When non-<code>nil</code>, do not show steps that have zero time.</p>
</li>
<li><p>‘:fileskip0’</p>
<p>When non-<code>nil</code>, do not show table sections from files which did not contribute.</p>
</li>
<li><p>‘:match’</p>
<p>A tags match to select entries that should contribute. See <a href="https://orgmode.org/manual/Matching-tags-and-properties.html#Matching-tags-and-properties" target="_blank" rel="noopener">Matching tags and properties</a> for the match syntax.</p>
</li>
</ul>
<p>Then there are options that determine the formatting of the table. There options are interpreted by the function <code>org-clocktable-write-default</code>, but you can specify your own function using the ‘:formatter’ parameter.</p>
<ul>
<li><p>‘:emphasize’</p>
<p>When non-<code>nil</code>, emphasize level one and level two items.</p>
</li>
<li><p>‘:lang’</p>
<p>Language<a href="https://orgmode.org/manual/The-clock-table.html#FOOT80" target="_blank" rel="noopener">80</a> to use for descriptive cells like “Task”.</p>
</li>
<li><p>‘:link’</p>
<p>Link the item headlines in the table to their origins.</p>
</li>
<li><p>‘:narrow’</p>
<p>An integer to limit the width of the headline column in the Org table. If you write it like ‘50!’, then the headline is also shortened in export.</p>
</li>
<li><p>‘:indent’</p>
<p>Indent each headline field according to its level.</p>
</li>
<li><p>‘:tcolumns’</p>
<p>Number of columns to be used for times. If this is smaller than ‘:maxlevel’, lower levels are lumped into one column.</p>
</li>
<li><p>‘:level’</p>
<p>Should a level number column be included?</p>
</li>
<li><p>‘:sort’</p>
<p>A cons cell containing the column to sort and a sorting type. E.g., ‘:sort (1 . ?a)’ sorts the first column alphabetically.</p>
</li>
<li><p>‘:compact’</p>
<p>Abbreviation for ‘:level nil :indent t :narrow 40! :tcolumns 1’. All are overwritten except if there is an explicit ‘:narrow’.</p>
</li>
<li><p>‘:timestamp’</p>
<p>A timestamp for the entry, when available. Look for ‘SCHEDULED’, ‘DEADLINE’, ‘TIMESTAMP’ and ‘TIMESTAMP_IA’ special properties (see <a href="https://orgmode.org/manual/Special-Properties.html#Special-Properties" target="_blank" rel="noopener">Special Properties</a>), in this order.</p>
</li>
<li><p>‘:tags’</p>
<p>When this flag is non-<code>nil</code>, show the headline’s tags.</p>
</li>
<li><p>‘:properties’</p>
<p>List of properties shown in the table. Each property gets its own column.</p>
</li>
<li><p>‘:inherit-props’</p>
<p>When this flag is non-<code>nil</code>, the values for ‘:properties’ are inherited.</p>
</li>
<li><p>‘:formula’</p>
<p>Content of a ‘TBLFM’ keyword to be added and evaluated. As a special case, ‘:formula %’ adds a column with % time. If you do not specify a formula here, any existing formula below the clock table survives updates and is evaluated.</p>
</li>
<li><p>‘:formatter’</p>
<p>A function to format clock data and insert it into the buffer.</p>
</li>
</ul>
<p>To get a clock summary of the current level 1 tree, for the current day, you could write:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">#+BEGIN: clocktable :maxlevel 2 :block today :scope tree1 :link t</span><br><span class="line">#+END: clocktable</span><br></pre></td></tr></table></figure>
<p>To use a specific time range you could write<a href="https://orgmode.org/manual/The-clock-table.html#FOOT81" target="_blank" rel="noopener">81</a></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">#+BEGIN: clocktable :tstart &quot;&lt;2006-08-10 Thu 10:00&gt;&quot;</span><br><span class="line">                    :tend &quot;&lt;2006-08-10 Thu 12:00&gt;&quot;</span><br><span class="line">#+END: clocktable</span><br></pre></td></tr></table></figure>
<p>A range starting a week ago and ending right now could be written as</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">#+BEGIN: clocktable :tstart &quot;&lt;-1w&gt;&quot; :tend &quot;&lt;now&gt;&quot;</span><br><span class="line">#+END: clocktable</span><br></pre></td></tr></table></figure>
<p>A summary of the current subtree with % times would be</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">#+BEGIN: clocktable :scope subtree :link t :formula %</span><br><span class="line">#+END: clocktable</span><br></pre></td></tr></table></figure>
<p>A horizontally compact representation of everything clocked during last week would be</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">#+BEGIN: clocktable :scope agenda :block lastweek :compact t</span><br><span class="line">#+END: clocktable</span><br></pre></td></tr></table></figure>
<h3 id="8-4-3-Resolving-idle-time-and-continuous-clocking"><a href="#8-4-3-Resolving-idle-time-and-continuous-clocking" class="headerlink" title="8.4.3 Resolving idle time and continuous clocking"></a>8.4.3 Resolving idle time and continuous clocking</h3><h4 id="Resolving-idle-time"><a href="#Resolving-idle-time" class="headerlink" title="Resolving idle time"></a>Resolving idle time</h4><blockquote>
<p>本章中的有用信息是可以通过 M-x org-resolve-clocks调出来时间调整的页面.</p>
</blockquote>
<p>If you clock in on a work item, and then walk away from your computer—perhaps to take a phone call—you often need to “resolve” the time you were away by either subtracting it from the current clock, or applying it to another one.</p>
<p>By customizing the variable <code>org-clock-idle-time</code> to some integer, such as 10 or 15, Emacs can alert you when you get back to your computer after being idle for that many minutes<a href="https://orgmode.org/manual/Resolving-idle-time.html#FOOT82" target="_blank" rel="noopener">82</a>, and ask what you want to do with the idle time. There will be a question waiting for you when you get back, indicating how much idle time has passed constantly updated with the current amount, as well as a set of choices to correct the discrepancy:</p>
<ul>
<li><p>k</p>
<p>To keep some or all of the minutes and stay clocked in, press k. Org asks how many of the minutes to keep. Press RET to keep them all, effectively changing nothing, or enter a number to keep that many minutes.</p>
</li>
<li><p>K</p>
<p>If you use the shift key and press K, it keeps however many minutes you request and then immediately clock out of that task. If you keep all of the minutes, this is the same as just clocking out of the current task.</p>
</li>
<li><p>s</p>
<p>To keep none of the minutes, use s to subtract all the away time from the clock, and then check back in from the moment you returned.</p>
</li>
<li><p>S</p>
<p>To keep none of the minutes and just clock out at the start of the away time, use the shift key and press S. Remember that using shift always leave you clocked out, no matter which option you choose.</p>
</li>
<li><p>C</p>
<p>To cancel the clock altogether, use C. Note that if instead of canceling you subtract the away time, and the resulting clock amount is less than a minute, the clock is still canceled rather than cluttering up the log with an empty entry.</p>
</li>
</ul>
<p>What if you subtracted those away minutes from the current clock, and now want to apply them to a new clock? Simply clock in to any task immediately after the subtraction. Org will notice that you have subtracted time “on the books”, so to speak, and will ask if you want to apply those minutes to the next task you clock in on.</p>
<p>There is one other instance when this clock resolution magic occurs. Say you were clocked in and hacking away, and suddenly your cat chased a mouse who scared a hamster that crashed into your UPS’s power button! You suddenly lose all your buffers, but thanks to auto-save you still have your recent Org mode changes, including your last clock in.</p>
<p>If you restart Emacs and clock into any task, Org will notice that you have a dangling clock which was never clocked out from your last session. Using that clock’s starting time as the beginning of the unaccounted-for period, Org will ask how you want to resolve that time. The logic and behavior is identical to dealing with away time due to idleness; it is just happening due to a recovery event rather than a set amount of idle time.</p>
<p>You can also check all the files visited by your Org agenda for dangling clocks at any time using M-x org-resolve-clocks RET (or C-c C-x C-z).</p>
<h4 id="Continuous-clocking"><a href="#Continuous-clocking" class="headerlink" title="Continuous clocking"></a>Continuous clocking</h4><p>You may want to start clocking from the time when you clocked out the previous task. To enable this systematically, set <code>org-clock-continuously</code> to non-<code>nil</code>. Each time you clock in, Org retrieves the clock-out time of the last clocked entry for this session, and start the new clock from there.</p>
<p>If you only want this from time to time, use three universal prefix arguments with <code>org-clock-in</code> and two C-u C-u with <code>org-clock-in-last</code>.</p>
<h2 id="8-5-Effort-Estimates"><a href="#8-5-Effort-Estimates" class="headerlink" title="8.5 Effort Estimates"></a>8.5 Effort Estimates</h2><p>If you want to plan your work in a very detailed way, or if you need to produce offers with quotations of the estimated work effort, you may want to assign effort estimates to entries. If you are also clocking your work, you may later want to compare the planned effort with the actual working time, a great way to improve planning estimates. Effort estimates are stored in a special property ‘EFFORT’. You can set the effort for an entry with the following commands:</p>
<ul>
<li><p>C-c C-x e (<code>org-set-effort</code>)</p>
<p>Set the effort estimate for the current entry. With a prefix argument, set it to the next allowed value—see below. This command is also accessible from the agenda with the e key.</p>
</li>
<li><p>C-c C-x C-e (<code>org-clock-modify-effort-estimate</code>)</p>
<p>Modify the effort estimate of the item currently being clocked.</p>
</li>
</ul>
<p>Clearly the best way to work with effort estimates is through column view (see <a href="https://orgmode.org/manual/Column-View.html#Column-View" target="_blank" rel="noopener">Column View</a>). You should start by setting up discrete values for effort estimates, and a ‘COLUMNS’ format that displays these values together with clock sums—if you want to clock your time. For a specific buffer you can use:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">#+PROPERTY: Effort_ALL 0 0:10 0:30 1:00 2:00 3:00 4:00 5:00 6:00 7:00</span><br><span class="line">#+COLUMNS: %40ITEM(Task) %17Effort(Estimated Effort)&#123;:&#125; %CLOCKSUM</span><br></pre></td></tr></table></figure>
<p>or, even better, you can set up these values globally by customizing the variables <code>org-global-properties</code> and <code>org-columns-default-format</code>. In particular if you want to use this setup also in the agenda, a global setup may be advised.</p>
<p>The way to assign estimates to individual items is then to switch to column mode, and to use S-RIGHT and S-LEFT to change the value. The values you enter are immediately summed up in the hierarchy. In the column next to it, any clocked time is displayed.</p>
<p>If you switch to column view in the daily/weekly agenda, the effort column summarizes the estimated work effort for each day<a href="https://orgmode.org/manual/Effort-Estimates.html#FOOT83" target="_blank" rel="noopener">83</a>, and you can use this to find space in your schedule. To get an overview of the entire part of the day that is committed, you can set the option <code>org-agenda-columns-add-appointments-to-effort-sum</code>. The appointments on a day that take place over a specified time interval are then also added to the load estimate of the day.</p>
<p>Effort estimates can be used in secondary agenda filtering that is triggered with the / key in the agenda (see <a href="https://orgmode.org/manual/Agenda-Commands.html#Agenda-Commands" target="_blank" rel="noopener">Agenda Commands</a>). If you have these estimates defined consistently, two or three key presses narrow down the list to stuff that fits into an available time slot.</p>
<h2 id="参考资料"><a href="#参考资料" class="headerlink" title="参考资料"></a>参考资料</h2><ul>
<li><a href="https://support.sas.com/documentation/cdl/en/lrdict/64316/HTML/default/viewer.htm#a003169814.htm" target="_blank" rel="noopener">Formats: Working with Dates and Times Using the ISO 8601 Basic and Extended Notations - 9.2</a></li>
</ul>
<p>find中的时间, atime, ctime, mtime  (-n * 24hours)<br>amin, cmin, min (n minutes)</p>

          
        
      
    </div>

    

    
    
    

    

    
      
    
    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://alphaalgorithms.github.io/2019/05/17/emacs-agenda-views/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Gabriel">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="DummyHead">
    </span>

    
      <header class="post-header">

        
        
          <h2 class="post-title" itemprop="name headline">
                
                
                <a href="/2019/05/17/emacs-agenda-views/" class="post-title-link" itemprop="url">Emacs Agenda Views</a>
              
            
          </h2>
        

        <div class="post-meta">
          <span class="post-time">

            
            
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              

              
                
              

              <time title="Created: 2019-05-17 15:41:38 / Modified: 17:59:05" itemprop="dateCreated datePublished" datetime="2019-05-17T15:41:38+08:00">2019-05-17</time>
            

            
              

              
            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/linux-emacs-orgmode/" itemprop="url" rel="index"><span itemprop="name">linux - emacs - orgmode</span></a></span>

                
                
                  , 
                
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/linux-emacs-orgmode/timeManagement/" itemprop="url" rel="index"><span itemprop="name">timeManagement</span></a></span>

                
                
              
            </span>
          

          
            
            
              
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <span class="post-meta-item-icon">
                  <i class="fa fa-comment-o"></i>
                </span>
            
                <span class="post-meta-item-text">Comments: </span>
                <a href="/2019/05/17/emacs-agenda-views/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count disqus-comment-count" data-disqus-identifier="2019/05/17/emacs-agenda-views/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>Due to the way Org works, TODO items, time-stamped items, and tagged headlines can be scattered throughout a file or even a number of files. To get an overview of open action items, or of events that are important for a particular date, this information must be collected, sorted and displayed in an organized way.</p>
<p>Org can select items based on various criteria and display them in a separate buffer. Six different view types are provided:</p>
<ul>
<li>an <em>agenda</em> that is like a calendar and shows information for specific dates,</li>
<li>a <em>TODO list</em> that covers all unfinished action items,</li>
<li>a <em>match view</em>, showings headlines based on the tags, properties, and TODO state associated with them,</li>
<li>a <em>text search view</em> that shows all entries from multiple files that contain specified keywords,</li>
<li>a <em>stuck projects view</em> showing projects that currently do not move along, and</li>
<li><em>custom views</em> that are special searches and combinations of different views.</li>
</ul>
<p>The extracted information is displayed in a special <em>agenda buffer</em>. This buffer is read-only, but provides commands to visit the corresponding locations in the original Org files, and even to edit these files remotely.</p>
<p>By default, the report ignores commented (see <a href="https://orgmode.org/manual/Comment-Lines.html#Comment-Lines" target="_blank" rel="noopener">Comment Lines</a>) and archived (see <a href="https://orgmode.org/manual/Internal-archiving.html#Internal-archiving" target="_blank" rel="noopener">Internal archiving</a>) entries. You can override this by setting <code>org-agenda-skip-comment-trees</code> and <code>org-agenda-skip-archived-trees</code> to <code>nil</code>.</p>
<p>Two variables control how the agenda buffer is displayed and whether the window configuration is restored when the agenda exits: <code>org-agenda-window-setup</code> and <code>org-agenda-restore-windows-after-quit</code>.</p>
<table>
<thead>
<tr>
<th>Agenda  Views</th>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td>• <a href="https://orgmode.org/manual/Agenda-Files.html#Agenda-Files" target="_blank" rel="noopener">Agenda Files</a>:</td>
<td>Files being searched for agenda information.</td>
</tr>
<tr>
<td>• <a href="https://orgmode.org/manual/Agenda-Dispatcher.html#Agenda-Dispatcher" target="_blank" rel="noopener">Agenda Dispatcher</a>:</td>
<td>Keyboard access to agenda views.</td>
</tr>
<tr>
<td>• <a href="https://orgmode.org/manual/Built_002din-Agenda-Views.html#Built_002din-Agenda-Views" target="_blank" rel="noopener">Built-in Agenda Views</a>:</td>
<td>What is available out of the box?</td>
</tr>
<tr>
<td>• <a href="https://orgmode.org/manual/Presentation-and-Sorting.html#Presentation-and-Sorting" target="_blank" rel="noopener">Presentation and Sorting</a>:</td>
<td>How agenda items are prepared for display.</td>
</tr>
<tr>
<td>• <a href="https://orgmode.org/manual/Agenda-Commands.html#Agenda-Commands" target="_blank" rel="noopener">Agenda Commands</a>:</td>
<td>Remote editing of Org trees.</td>
</tr>
<tr>
<td>• <a href="https://orgmode.org/manual/Custom-Agenda-Views.html#Custom-Agenda-Views" target="_blank" rel="noopener">Custom Agenda Views</a>:</td>
<td>Defining special searches and views.</td>
</tr>
<tr>
<td>• <a href="https://orgmode.org/manual/Exporting-Agenda-Views.html#Exporting-Agenda-Views" target="_blank" rel="noopener">Exporting Agenda Views</a>:</td>
<td>Writing a view to a file.</td>
</tr>
<tr>
<td>• <a href="https://orgmode.org/manual/Agenda-Column-View.html#Agenda-Column-View" target="_blank" rel="noopener">Agenda Column View</a>:</td>
<td>Using column view for collected entries.</td>
</tr>
</tbody>
</table>
<h2 id="10-1-Agenda-Files"><a href="#10-1-Agenda-Files" class="headerlink" title="10.1 Agenda Files"></a>10.1 Agenda Files</h2><blockquote>
<p>概括:<br>可以将directory作为org-agenda-files<br>在agenda views中工作, 对org mode的所有应用对围绕agenda view展开. </p>
</blockquote>
<p>The information to be shown is normally collected from all <em>agenda files</em>, the files listed in the variable <code>org-agenda-files</code>[^1]. If a directory is part of this list, all files with the extension ‘.org’ in this directory are part of the list.</p>
<p>Thus, even if you only work with a single Org file, that file should be put into the list[^2]. You can customize <code>org-agenda-files</code>, but the easiest way to maintain it is through the following commands</p>
<ul>
<li><p>C-c [ (<code>org-agenda-file-to-front</code>)<br>Add current file to the list of agenda files. The file is added to the front of the list. If it was already in the list, it is moved to the front. With a prefix argument, file is added/moved to the end.</p>
</li>
<li><p>C-c ] (<code>org-remove-file</code>)<br>Remove current file from the list of agenda files.</p>
</li>
<li><p>C-‘ or </p>
</li>
<li><p>C-, (<code>org-cycle-agenda-files</code>)</p>
<p>Cycle through agenda file list, visiting one file after the other.<br>Command to use an iswitchb-like interface to switch to and between Org buffers.</p>
</li>
</ul>
<p>The Org menu contains the current list of files and can be used to visit any of them.</p>
<p>If you would like to focus the agenda temporarily on a file not in this list, or on just one file in the list, or even on only a subtree in a file, then this can be done in different ways. For a single agenda command, you may press &lt; once or several times in the dispatcher (see <a href="https://orgmode.org/manual/Agenda-Dispatcher.html#Agenda-Dispatcher" target="_blank" rel="noopener">Agenda Dispatcher</a>). To restrict the agenda scope for an extended period, use the following commands:</p>
<ul>
<li><p>C-c C-x &lt; (<code>org-agenda-set-restriction-lock</code>)<br>Restrict the agenda to the current subtree. If there already is a restriction at point, remove it. When called with a universal prefix argument or with point before the first headline in a file, set the agenda scope to the entire file. This restriction remains in effect until removed with C-c C-x &gt;, or by typing either &lt; or &gt; in the agenda dispatcher. If there is a window displaying an agenda view, the new restriction takes effect immediately.</p>
</li>
<li><p>C-c C-x &gt; (<code>org-agenda-remove-restriction-lock</code>)<br>Remove the restriction created by C-c C-x &lt;.</p>
</li>
</ul>
<p>When working with Speedbar, you can use the following commands in the Speedbar frame:</p>
<ul>
<li><p>&lt; (<code>org-speedbar-set-agenda-restriction</code>)<br>Restrict the agenda to the item—either an Org file or a subtree in such a file—at point in the Speedbar frame. If agenda is already restricted there, remove the restriction. If there is a window displaying an agenda view, the new restriction takes effect immediately.</p>
</li>
<li><p><code>&gt;</code> (<code>org-agenda-remove-restriction-lock</code>)</p>
<p>Remove the restriction.</p>
</li>
</ul>
<hr>
<h3 id="Footnotes"><a href="#Footnotes" class="headerlink" title="Footnotes"></a>Footnotes</h3><ol>
<li>If the value of that variable is not a list, but a single file name, then the list of agenda files in maintained in that external file.</li>
<li>When using the dispatcher, pressing &lt; before selecting a command actually limits the command to the current file, and ignores <code>org-agenda-files</code> until the next dispatcher command.</li>
</ol>
<h2 id="10-2-The-Agenda-Dispatcher"><a href="#10-2-The-Agenda-Dispatcher" class="headerlink" title="10.2 The Agenda Dispatcher"></a>10.2 The Agenda Dispatcher</h2><blockquote>
<p>dispatcher, a, t<br>第一个提示界面, 当下只需要关注前两个.<br>采纳动词dispatch协助思考.</p>
</blockquote>
<p>The views are created through a dispatcher, accessible with M-x org-agenda, or, better, bound to a global key (see <a href="https://orgmode.org/manual/Activation.html#Activation" target="_blank" rel="noopener">Activation</a>). It displays a menu from which an additional letter is required to execute a command. The dispatcher offers the following default commands:</p>
<ul>
<li><p>a<br>Create the calendar-like agenda (see <a href="https://orgmode.org/manual/Weekly_002fdaily-agenda.html#Weekly_002fdaily-agenda" target="_blank" rel="noopener">Weekly/daily agenda</a>).</p>
</li>
<li><p>t or T<br>Create a list of all TODO items (see <a href="https://orgmode.org/manual/Global-TODO-list.html#Global-TODO-list" target="_blank" rel="noopener">Global TODO list</a>).</p>
</li>
<li><p>m or M<br>Create a list of headlines matching a given expression (see <a href="https://orgmode.org/manual/Matching-tags-and-properties.html#Matching-tags-and-properties" target="_blank" rel="noopener">Matching tags and properties</a>).</p>
</li>
<li><p>s<br>Create a list of entries selected by a boolean expression of keywords and/or regular expressions that must or must not occur in the entry.</p>
</li>
<li><p>/<br>Search for a regular expression in all agenda files and additionally in the files listed in <code>org-agenda-text-search-extra-files</code>. This uses the Emacs command <code>multi-occur</code>. A prefix argument can be used to specify the number of context lines for each match, default is</p>
</li>
<li><p><code># or !</code><br>Create a list of stuck projects (see <a href="https://orgmode.org/manual/Stuck-projects.html#Stuck-projects" target="_blank" rel="noopener">Stuck projects</a>). </p>
<blockquote>
<p>重点概念.</p>
</blockquote>
</li>
<li><p>&lt;<br>Restrict an agenda command to the current buffer<a href="https://orgmode.org/manual/Agenda-Dispatcher.html#FOOT93" target="_blank" rel="noopener">93</a>. After pressing &lt;, you still need to press the character selecting the command.</p>
</li>
<li><p>&lt; &lt;<br>If there is an active region, restrict the following agenda command to the region. Otherwise, restrict it to the current subtree<a href="https://orgmode.org/manual/Agenda-Dispatcher.html#FOOT94" target="_blank" rel="noopener">94</a>. After pressing &lt; &lt;, you still need to press the character selecting the command.</p>
</li>
<li><p>*<br>Toggle sticky agenda views. By default, Org maintains only a single agenda buffer and rebuilds it each time you change the view, to make sure everything is always up to date. If you switch between views often and the build time bothers you, you can turn on sticky agenda buffers (make this the default by customizing the variable <code>org-agenda-sticky</code>). With sticky agendas, the dispatcher only switches to the selected view, you need to update it by hand with r or g. You can toggle sticky agenda view any time with <code>org-toggle-sticky-agenda</code>.</p>
</li>
</ul>
<p>You can also define custom commands that are accessible through the dispatcher, just like the default commands. This includes the possibility to create extended agenda buffers that contain several blocks together, for example the weekly agenda, the global TODO list and a number of special tags matches. See <a href="https://orgmode.org/manual/Custom-Agenda-Views.html#Custom-Agenda-Views" target="_blank" rel="noopener">Custom Agenda Views</a>.</p>
<h3 id="Footnotes-1"><a href="#Footnotes-1" class="headerlink" title="Footnotes"></a>Footnotes</h3><ol>
<li><p>For backward compatibility, you can also press 1 to restrict to the current buffer.</p>
</li>
<li><p>For backward compatibility, you can also press 0 to restrict to the current region/subtree.</p>
</li>
</ol>
<h2 id="10-3-The-Built-in-Agenda-Views"><a href="#10-3-The-Built-in-Agenda-Views" class="headerlink" title="10.3 The Built-in Agenda Views"></a>10.3 The Built-in Agenda Views</h2><p>In this section we describe the built-in views.</p>
<blockquote>
<p>进入正题.</p>
</blockquote>
<table>
<thead>
<tr>
<th>Agenda View</th>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td>• <a href="https://orgmode.org/manual/Weekly_002fdaily-agenda.html#Weekly_002fdaily-agenda" target="_blank" rel="noopener">Weekly/daily agenda</a>:</td>
<td>The calendar page with current tasks.</td>
</tr>
<tr>
<td>• <a href="https://orgmode.org/manual/Global-TODO-list.html#Global-TODO-list" target="_blank" rel="noopener">Global TODO list</a>:</td>
<td>All unfinished action items.</td>
</tr>
<tr>
<td>• <a href="https://orgmode.org/manual/Matching-tags-and-properties.html#Matching-tags-and-properties" target="_blank" rel="noopener">Matching tags and properties</a>:</td>
<td>Structured information with fine-tuned search.</td>
</tr>
<tr>
<td>• <a href="https://orgmode.org/manual/Search-view.html#Search-view" target="_blank" rel="noopener">Search view</a>:</td>
<td>Find entries by searching for text.</td>
</tr>
<tr>
<td>• <a href="https://orgmode.org/manual/Stuck-projects.html#Stuck-projects" target="_blank" rel="noopener">Stuck projects</a>:</td>
<td>Find projects you need to review.</td>
</tr>
</tbody>
</table>
<h3 id="10-3-1-Weekly-daily-agenda"><a href="#10-3-1-Weekly-daily-agenda" class="headerlink" title="10.3.1 Weekly/daily agenda"></a>10.3.1 Weekly/daily agenda</h3><blockquote>
<p>The default agenda-span 设置成两天,  提问如何设置成前后一天的模式.</p>
</blockquote>
<p>The purpose of the weekly/daily <em>agenda</em> is to act like a page of a paper agenda, showing all the tasks for the current week or day.</p>
<ul>
<li><p>M-x org-agenda a (<code>org-agenda-list</code>)</p>
<p>Compile an agenda for the current week from a list of Org files. The agenda shows the entries for each day. With a numeric prefix argument[^1]—like C-u 2 1 M-x org-agenda a—you may set the number of days to be displayed.</p>
</li>
</ul>
<p>The default number of days displayed in the agenda is set by the variable <code>org-agenda-span</code>. This variable can be set to any number of days you want to see by default in the agenda, or to a span name, such a <code>day</code>, <code>week</code>, <code>month</code> or <code>year</code>. For weekly agendas, the default is to start on the previous Monday (see <code>org-agenda-start-on-weekday</code>). You can also set the start date using a date shift: ‘(setq org-agenda-start-day “+10d”)’ starts the agenda ten days from today in the future.</p>
<p>Remote editing from the agenda buffer means, for example, that you can change the dates of deadlines and appointments from the agenda buffer. The commands available in the Agenda buffer are listed in <a href="https://orgmode.org/manual/Agenda-Commands.html#Agenda-Commands" target="_blank" rel="noopener">Agenda Commands</a>.</p>
<h4 id="1-Calendar-Diary-integration"><a href="#1-Calendar-Diary-integration" class="headerlink" title="1. Calendar/Diary integration"></a>1. Calendar/Diary integration</h4><blockquote>
<p>Work with calendar, sunrise and sunset<br>calendar工具的应用, 增加三个自然规律的变量, sunrise, sunset and moon phase </p>
</blockquote>
<p>Emacs contains the calendar and diary by Edward M. Reingold. The calendar displays a three-month calendar with holidays from different countries and cultures. The diary allows you to keep track of anniversaries, lunar phases, sunrise/set, recurrent appointments (weekly, monthly) and more. In this way, it is quite complementary to Org. It can be very useful to combine output from Org with the diary.</p>
<p>In order to include entries from the Emacs diary into Org mode’s agenda, you only need to customize the variable</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">(setq org-agenda-include-diary t)</span><br></pre></td></tr></table></figure>
<p>After that, everything happens automatically. All diary entries including holidays, anniversaries, etc., are included in the agenda buffer created by Org mode. SPC, TAB, and RET can be used from the agenda buffer to jump to the diary file in order to edit existing diary entries. The i command to insert new entries for the current date works in the agenda buffer, as well as the commands S, M, and C to display Sunrise/Sunset times, show lunar phases and to convert to other calendars, respectively. c can be used to switch back and forth between calendar and agenda.</p>
<blockquote>
<p>获取当前的坐标</p>
<p><a href="http://manpages.ubuntu.com/manpages/disco/en/man3/libgps.3.html" target="_blank" rel="noopener">Ubuntu Manpage: libgps - C service library for communicating with the GPS daemon</a><br><a href="https://stackoverflow.com/questions/15329152/how-to-use-install-gps-python-library" target="_blank" rel="noopener">how to use/install gps python library - Stack Overflow</a></p>
</blockquote>
<p>If you are using the diary only for S-exp entries and holidays, it is faster to not use the above setting, but instead to copy or even move the entries into an Org file. Org mode evaluates diary-style sexp entries, and does it faster because there is no overhead for first creating the diary display. Note that the sexp entries must start at the left margin, no whitespace is allowed before them, as seen in the following segment of an Org file:<a href="https://orgmode.org/manual/Weekly_002fdaily-agenda.html#FOOT96" target="_blank" rel="noopener">96</a></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">* Holidays</span><br><span class="line">  :PROPERTIES:</span><br><span class="line">  :CATEGORY: Holiday</span><br><span class="line">  :END:</span><br><span class="line">%%(org-calendar-holiday)   ; special function for holiday names</span><br><span class="line"></span><br><span class="line">* Birthdays</span><br><span class="line">  :PROPERTIES:</span><br><span class="line">  :CATEGORY: Ann</span><br><span class="line">  :END:</span><br><span class="line">%%(org-anniversary 1956  5 14) Arthur Dent is %d years old</span><br><span class="line">%%(org-anniversary 1869 10  2) Mahatma Gandhi would be %d years old</span><br></pre></td></tr></table></figure>
<h4 id="2-Anniversaries-from-BBDB"><a href="#2-Anniversaries-from-BBDB" class="headerlink" title="2. Anniversaries from BBDB"></a>2. Anniversaries from BBDB</h4><p>If you are using the Insidious Big Brother Database to store your contacts, you very likely prefer to store anniversaries in BBDB rather than in a separate Org or diary file. Org supports this and can show BBDB anniversaries as part of the agenda. All you need to do is to add the following to one of your agenda files:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">* Anniversaries</span><br><span class="line">  :PROPERTIES:</span><br><span class="line">  :CATEGORY: Anniv</span><br><span class="line">  :END:</span><br><span class="line">%%(org-bbdb-anniversaries)</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">1973-06-22</span><br><span class="line">06-22</span><br><span class="line">1955-08-02 wedding</span><br><span class="line">2008-04-14 %s released version 6.01 of Org mode, %d years ago</span><br></pre></td></tr></table></figure>
<p>After a change to BBDB, or for the first agenda display during an Emacs session, the agenda display suffers a short delay as Org updates its hash with anniversaries. However, from then on things will be very fast, much faster in fact than a long list of ‘%%(diary-anniversary)’ entries in an Org or Diary file.</p>
<p>If you would like to see upcoming anniversaries with a bit of forewarning, you can use the following instead:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">* Anniversaries</span><br><span class="line">  :PROPERTIES:</span><br><span class="line">  :CATEGORY: Anniv</span><br><span class="line">  :END:</span><br><span class="line">%%(org-bbdb-anniversaries-future 3)</span><br></pre></td></tr></table></figure>
<p>That will give you three days’ warning: on the anniversary date itself and the two days prior. The argument is optional: if omitted, it defaults to 7.</p>
<h4 id="3-Appointment-reminders"><a href="#3-Appointment-reminders" class="headerlink" title="3. Appointment reminders"></a>3. Appointment reminders</h4><p>Org can interact with Emacs appointments notification facility. To add the appointments of your agenda files, use the command <code>org-agenda-to-appt</code>. This command lets you filter through the list of your appointments and add only those belonging to a specific category or matching a regular expression. It also reads a ‘APPT_WARNTIME’ property which overrides the value of <code>appt-message-warning-time</code> for this appointment. See the docstring for details.</p>
<h4 id="Footnotes-2"><a href="#Footnotes-2" class="headerlink" title="Footnotes"></a>Footnotes</h4><ol>
<li>For backward compatibility, the universal prefix argument C-u causes all TODO entries to be listed before the agenda. This feature is deprecated, use the dedicated TODO list, or a block agenda instead (see <a href="https://orgmode.org/manual/Block-agenda.html#Block-agenda" target="_blank" rel="noopener">Block agenda</a>).</li>
<li>The variable <code>org-anniversary</code> used in the example is just like <code>diary-anniversary</code>, but the argument order is always according to ISO and therefore independent of the value of <code>calendar-date-style</code>.</li>
</ol>
<blockquote>
<p>后续计划, 研究下agenda-view与diary的结合.</p>
</blockquote>
<h3 id="10-3-2-The-global-TODO-list"><a href="#10-3-2-The-global-TODO-list" class="headerlink" title="10.3.2 The global TODO list"></a>10.3.2 The global TODO list</h3><p>The global TODO list contains all unfinished TODO items formatted and collected into a single place.</p>
<ul>
<li><p>M-x org-agenda t (<code>org-todo-list</code>)</p>
<p>Show the global TODO list. This collects the TODO items from all agenda files (see <a href="https://orgmode.org/manual/Agenda-Views.html#Agenda-Views" target="_blank" rel="noopener">Agenda Views</a>) into a single buffer. By default, this lists items with a state the is not a DONE state. The buffer is in <code>agenda-mode</code>, so there are commands to examine and manipulate the TODO entries directly from that buffer (see <a href="https://orgmode.org/manual/Agenda-Commands.html#Agenda-Commands" target="_blank" rel="noopener">Agenda Commands</a>).</p>
</li>
<li><p>M-x org-agenda T (<code>org-todo-list</code>)</p>
<p>Like the above, but allows selection of a specific TODO keyword. You can also do this by specifying a prefix argument to t. You are prompted for a keyword, and you may also specify several keywords by separating them with ‘|’ as the boolean OR operator. With a numeric prefix, the Nth keyword in <code>org-todo-keywords</code> is selected.The r key in the agenda buffer regenerates it, and you can give a prefix argument to this command to change the selected TODO keyword, for example 3 r. If you often need a search for a specific keyword, define a custom command for it (see <a href="https://orgmode.org/manual/Agenda-Dispatcher.html#Agenda-Dispatcher" target="_blank" rel="noopener">Agenda Dispatcher</a>).Matching specific TODO keywords can also be done as part of a tags search (see <a href="https://orgmode.org/manual/Tag-Searches.html#Tag-Searches" target="_blank" rel="noopener">Tag Searches</a>).</p>
</li>
</ul>
<p>Remote editing of TODO items means that you can change the state of a TODO entry with a single key press. The commands available in the TODO list are described in <a href="https://orgmode.org/manual/Agenda-Commands.html#Agenda-Commands" target="_blank" rel="noopener">Agenda Commands</a>.</p>
<p>Normally the global TODO list simply shows all headlines with TODO keywords. This list can become very long. There are two ways to keep it more compact:</p>
<ul>
<li>Some people view a TODO item that has been <em>scheduled</em> for execution or have a <em>deadline</em> (see <a href="https://orgmode.org/manual/Timestamps.html#Timestamps" target="_blank" rel="noopener">Timestamps</a>) as no longer <em>open</em>. Configure the variables <code>org-agenda-todo-ignore-scheduled</code>, <code>org-agenda-todo-ignore-deadlines</code>, <code>org-agenda-todo-ignore-timestamp</code> and/or <code>org-agenda-todo-ignore-with-date</code> to exclude such items from the global TODO list.</li>
<li>TODO items may have sublevels to break up the task into subtasks. In such cases it may be enough to list only the highest level TODO headline and omit the sublevels from the global list. Configure the variable <code>org-agenda-todo-list-sublevels</code> to get this behavior.</li>
</ul>
<blockquote>
<p>todo的sublevel </p>
</blockquote>
<h3 id="10-3-3-Matching-tags-and-properties"><a href="#10-3-3-Matching-tags-and-properties" class="headerlink" title="10.3.3 Matching tags and properties"></a>10.3.3 Matching tags and properties</h3><blockquote>
<p>与编程相结合, 稍微了解一点.</p>
</blockquote>
<p>If headlines in the agenda files are marked with <em>tags</em> (see <a href="https://orgmode.org/manual/Tags.html#Tags" target="_blank" rel="noopener">Tags</a>), or have properties (see <a href="https://orgmode.org/manual/Properties-and-Columns.html#Properties-and-Columns" target="_blank" rel="noopener">Properties and Columns</a>), you can select headlines based on this metadata and collect them into an agenda buffer. The match syntax described here also applies when creating sparse trees with C-c / m.</p>
<ul>
<li><p>M-x org-agenda m (<code>org-tags-view</code>)</p>
<p>Produce a list of all headlines that match a given set of tags. The command prompts for a selection criterion, which is a boolean logic expression with tags, like ‘+work+urgent-withboss’ or ‘work|home’ (see <a href="https://orgmode.org/manual/Tags.html#Tags" target="_blank" rel="noopener">Tags</a>). If you often need a specific search, define a custom command for it (see <a href="https://orgmode.org/manual/Agenda-Dispatcher.html#Agenda-Dispatcher" target="_blank" rel="noopener">Agenda Dispatcher</a>).</p>
</li>
<li><p>M-x org-agenda M (<code>org-tags-view</code>)</p>
<p>Like m, but only select headlines that are also TODO items and force checking subitems (see the variable <code>org-tags-match-list-sublevels</code>). To exclude scheduled/deadline items, see the variable <code>org-agenda-tags-todo-honor-ignore-options</code>. Matching specific TODO keywords together with a tags match is also possible, see <a href="https://orgmode.org/manual/Tag-Searches.html#Tag-Searches" target="_blank" rel="noopener">Tag Searches</a>.</p>
</li>
</ul>
<p>The commands available in the tags list are described in <a href="https://orgmode.org/manual/Agenda-Commands.html#Agenda-Commands" target="_blank" rel="noopener">Agenda Commands</a>.</p>
<p>A search string can use Boolean operators ‘&amp;’ for AND and ‘|’ for OR. ‘&amp;’ binds more strongly than ‘|’. Parentheses are currently not implemented. Each element in the search is either a tag, a regular expression matching tags, or an expression like ‘PROPERTY OPERATOR VALUE’ with a comparison operator, accessing a property value. Each element may be preceded by ‘-’ to select against it, and ‘+’ is syntactic sugar for positive selection. The AND operator ‘&amp;’ is optional when ‘+’ or ‘-’ is present. Here are some examples, using only tags.</p>
<ul>
<li><p><code>+work-boss</code><br>Select headlines tagged ‘work’, but discard those also tagged ‘boss’.</p>
</li>
<li><p><code>work|laptop</code><br>Selects lines tagged ‘work’ or ‘laptop’.</p>
</li>
<li><p><code>work|laptop+night</code><br>Like before, but require the ‘laptop’ lines to be tagged also ‘night’.</p>
</li>
</ul>
<p>Instead of a tag, you may also specify a regular expression enclosed in curly braces. For example, ‘work+{^boss.<em>}’ matches headlines that contain the tag ‘:work:’ and any tag </em>starting* with ‘boss’.</p>
<blockquote>
<p>an amazing function.</p>
</blockquote>
<p>Group tags (see <a href="https://orgmode.org/manual/Tag-Hierarchy.html#Tag-Hierarchy" target="_blank" rel="noopener">Tag Hierarchy</a>) are expanded as regular expressions. E.g., if ‘work’ is a group tag for the group ‘:work:lab:conf:’, then searching for ‘work’ also searches for ‘{(?:work|lab|conf)}’ and searching for ‘-work’ searches for all headlines but those with one of the tags in the group (i.e., ‘-{(?:work|lab|conf)}’).</p>
<p>You may also test for properties (see <a href="https://orgmode.org/manual/Properties-and-Columns.html#Properties-and-Columns" target="_blank" rel="noopener">Properties and Columns</a>) at the same time as matching tags. The properties may be real properties, or special properties that represent other metadata (see <a href="https://orgmode.org/manual/Special-Properties.html#Special-Properties" target="_blank" rel="noopener">Special Properties</a>). For example, the property ‘TODO’ represents the TODO keyword of the entry. Or, the property ‘LEVEL’ represents the level of an entry. So searching ‘+LEVEL=3+boss-TODO=”DONE”’ lists all level three headlines that have the tag ‘boss’ and are <em>not</em> marked with the TODO keyword ‘DONE’. In buffers with <code>org-odd-levels-only</code> set, ‘LEVEL’ does not count the number of stars, but ‘LEVEL=2’ corresponds to 3 stars etc.</p>
<p>Here are more examples:</p>
<ul>
<li><p>‘work+TODO=”WAITING”’<br>Select ‘work’-tagged TODO lines with the specific TODO keyword ‘WAITING’.</p>
</li>
<li><p>‘work+TODO=”WAITING”|home+TODO=”WAITING”’<br>Waiting tasks both at work and at home.</p>
</li>
</ul>
<p>When matching properties, a number of different operators can be used to test the value of a property. Here is a complex example:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">+work-boss+PRIORITY=&quot;A&quot;+Coffee=&quot;unlimited&quot;+Effort&lt;2</span><br><span class="line">         +With=&#123;Sarah|Denny&#125;+SCHEDULED&gt;=&quot;&lt;2008-10-11&gt;&quot;</span><br></pre></td></tr></table></figure>
<p>The type of comparison depends on how the comparison value is written:</p>
<ul>
<li>If the comparison value is a plain number, a numerical comparison is done, and the allowed operators are ‘&lt;’, ‘=’, ‘&gt;’, ‘&lt;=’, ‘&gt;=’, and ‘&lt;&gt;’.</li>
<li>If the comparison value is enclosed in double-quotes, a string comparison is done, and the same operators are allowed.</li>
<li>If the comparison value is enclosed in double-quotes <em>and</em> angular brackets (like ‘DEADLINE&lt;=”<2008-12-24 18:30>“’), both values are assumed to be date/time specifications in the standard Org way, and the comparison is done accordingly. Valid values also include ‘“<now>“’ for now (including time), ‘“<today>“’, and ‘“<tomorrow>“’ for these days at 0:00 hours, i.e., without a time specification. You can also use strings like ‘“&lt;+5d&gt;”’ or ‘“<-2m>“’ with units ‘d’, ‘w’, ‘m’, and ‘y’ for day, week, month, and year, respectively.</-2m></tomorrow></today></now></2008-12-24></li>
<li>If the comparison value is enclosed in curly braces, a regexp match is performed, with ‘=’ meaning that the regexp matches the property value, and ‘&lt;&gt;’ meaning that it does not match.</li>
</ul>
<p>So the search string in the example finds entries tagged ‘work’ but not ‘boss’, which also have a priority value ‘A’, a ‘Coffee’ property with the value ‘unlimited’, an ‘EFFORT’ property that is numerically smaller than 2, a ‘With’ property that is matched by the regular expression ‘Sarah|Denny’, and that are scheduled on or after October 11, 2008.</p>
<p>You can configure Org mode to use property inheritance during a search, but beware that this can slow down searches considerably. See <a href="https://orgmode.org/manual/Property-Inheritance.html#Property-Inheritance" target="_blank" rel="noopener">Property Inheritance</a>, for details.</p>
<p>For backward compatibility, and also for typing speed, there is also a different way to test TODO states in a search. For this, terminate the tags/property part of the search string (which may include several terms connected with ‘|’) with a ‘/’ and then specify a Boolean expression just for TODO keywords. The syntax is then similar to that for tags, but should be applied with care: for example, a positive selection on several TODO keywords cannot meaningfully be combined with boolean AND. However, <em>negative selection</em> combined with AND can be meaningful. To make sure that only lines are checked that actually have any TODO keyword (resulting in a speed-up), use M-x org-agenda M, or equivalently start the TODO part after the slash with ‘!’. Using M-x org-agenda M or ‘/!’ does not match TODO keywords in a DONE state. Examples:</p>
<ul>
<li><p>‘work/WAITING’<br>Same as ‘work+TODO=”WAITING”’.</p>
</li>
<li><p>‘work/!-WAITING-NEXT’<br>Select ‘work’-tagged TODO lines that are neither ‘WAITING’ nor ‘NEXT’.</p>
</li>
<li><p>‘work/!+WAITING|+NEXT’<br>Select ‘work’-tagged TODO lines that are either ‘WAITING’ or ‘NEXT’.</p>
</li>
</ul>
<blockquote>
<p>这一部分过分复杂, 等以后再来看吧.</p>
</blockquote>
<h3 id="10-3-4-Search-view"><a href="#10-3-4-Search-view" class="headerlink" title="10.3.4 Search view"></a>10.3.4 Search view</h3><p>This agenda view is a general text search facility for Org mode entries. It is particularly useful to find notes.</p>
<ul>
<li><p>M-x org-agenda s (<code>org-search-view</code>)</p>
<p>This is a special search that lets you select entries by matching a substring or specific words using a boolean logic.</p>
</li>
</ul>
<p>For example, the search string ‘computer equipment’ matches entries that contain ‘computer equipment’ as a substring, even if the two words are separated by more space or a line break.</p>
<p>Search view can also search for specific keywords in the entry, using Boolean logic. The search string ‘+computer +wifi -ethernet -{8.11[bg]}’ matches note entries that contain the keywords ‘computer’ and ‘wifi’, but not the keyword ‘ethernet’, and which are also not matched by the regular expression ‘8.11[bg]’, meaning to exclude both ‘8.11b’ and ‘8.11g’. The first ‘+’ is necessary to turn on boolean search, other ‘+’ characters are optional. For more details, see the docstring of the command <code>org-search-view</code>.</p>
<p>You can incrementally adjust a boolean search with the following keys</p>
<table>
<thead>
<tr>
<th>[</th>
<th>Add a positive search word</th>
</tr>
</thead>
<tbody>
<tr>
<td>]</td>
<td>Add a negative search word</td>
</tr>
<tr>
<td>{</td>
<td>Add a positive regular expression</td>
</tr>
<tr>
<td>}</td>
<td>Add a negative regular expression</td>
</tr>
</tbody>
</table>
<p>Note that in addition to the agenda files, this command also searches the files listed in <code>org-agenda-text-search-extra-files</code>.</p>
<h3 id="10-3-5-Stuck-projects"><a href="#10-3-5-Stuck-projects" class="headerlink" title="10.3.5 Stuck projects"></a>10.3.5 Stuck projects</h3><blockquote>
<p>这是有用的一项.</p>
</blockquote>
<p>If you are following a system like David Allen’s GTD to organize your work, one of the “duties” you have is a regular review to make sure that all projects move along. A <em>stuck</em> project is a project that has no defined next actions, so it never shows up in the TODO lists Org mode produces. During the review, you need to identify such projects and define next actions for them.</p>
<ul>
<li><p>M-x org-agenda # (<code>org-agenda-list-stuck-projects</code>)</p>
<p>List projects that are stuck.</p>
</li>
<li><p>M-x org-agenda !</p>
<p>Customize the variable <code>org-stuck-projects</code> to define what a stuck project is and how to find it.</p>
</li>
</ul>
<p>You almost certainly need to configure this view before it works for you. The built-in default assumes that all your projects are level-2 headlines, and that a project is not stuck if it has at least one entry marked with a TODO keyword ‘TODO’ or ‘NEXT’ or ‘NEXTACTION’.</p>
<p>Let’s assume that you, in your own way of using Org mode, identify projects with a tag ‘:PROJECT:’, and that you use a TODO keyword ‘MAYBE’ to indicate a project that should not be considered yet. Let’s further assume that the TODO keyword ‘DONE’ marks finished projects, and that ‘NEXT’ and ‘TODO’ indicate next actions. The tag ‘:@shop:’ indicates shopping and is a next action even without the NEXT tag. Finally, if the project contains the special word ‘IGNORE’ anywhere, it should not be listed either. In this case you would start by identifying eligible projects with a tags/TODO match (see <a href="https://orgmode.org/manual/Tag-Searches.html#Tag-Searches" target="_blank" rel="noopener">Tag Searches</a>) ‘+PROJECT/-MAYBE-DONE’, and then check for ‘TODO’, ‘NEXT’, ‘@shop’, and ‘IGNORE’ in the subtree to identify projects that are not stuck. The correct customization for this is:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">(setq org-stuck-projects</span><br><span class="line">      &apos;(&quot;+PROJECT/-MAYBE-DONE&quot; (&quot;NEXT&quot; &quot;TODO&quot;) (&quot;@shop&quot;)</span><br><span class="line">        &quot;\\&lt;IGNORE\\&gt;&quot;))</span><br></pre></td></tr></table></figure>
<p>Note that if a project is identified as non-stuck, the subtree of this entry is searched for stuck projects.</p>
<blockquote>
<p>这个功能很有意思<br>org mode名副其实是写给人看的工具. </p>
</blockquote>
<h2 id="10-4-Presentation-and-Sorting"><a href="#10-4-Presentation-and-Sorting" class="headerlink" title="10.4 Presentation and Sorting"></a>10.4 Presentation and Sorting</h2><blockquote>
<p>这一章里只有time specification有点用.<br>Sort并不重要, 只关注presentation<br>修改time grid.</p>
</blockquote>
<p>Before displaying items in an agenda view, Org mode visually prepares the items and sorts them. Each item occupies a single line. The line starts with a <em>prefix</em> that contains the <em>category</em> (see <a href="https://orgmode.org/manual/Categories.html#Categories" target="_blank" rel="noopener">Categories</a>) of the item and other important information. You can customize in which column tags are displayed through <code>org-agenda-tags-column</code>. You can also customize the prefix using the option <code>org-agenda-prefix-format</code>. This prefix is followed by a cleaned-up version of the outline headline associated with the item.</p>
<table>
<thead>
<tr>
<th>Presentation and Sort</th>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td>• <a href="https://orgmode.org/manual/Categories.html#Categories" target="_blank" rel="noopener">Categories</a>:</td>
<td>Not all tasks are equal.</td>
</tr>
<tr>
<td>• <a href="https://orgmode.org/manual/Time_002dof_002dday-specifications.html#Time_002dof_002dday-specifications" target="_blank" rel="noopener">Time-of-day specifications</a>:</td>
<td>How the agenda knows the time.</td>
</tr>
<tr>
<td>• <a href="https://orgmode.org/manual/Sorting-of-agenda-items.html#Sorting-of-agenda-items" target="_blank" rel="noopener">Sorting of agenda items</a>:</td>
<td>The order of things.</td>
</tr>
<tr>
<td>• <a href="https://orgmode.org/manual/Filtering_002flimiting-agenda-times.html#Filtering_002flimiting-agenda-times" target="_blank" rel="noopener">Filtering/limiting agenda times</a>:</td>
<td>Dynamically narrow the agenda.</td>
</tr>
</tbody>
</table>
<h3 id="10-4-1-Categories"><a href="#10-4-1-Categories" class="headerlink" title="10.4.1 Categories"></a>10.4.1 Categories</h3><p>The category is a broad label assigned to each agenda item. By default, the category is simply derived from the file name, but you can also specify it with a special line in the buffer, like this:</p>
<blockquote>
<p> 等日后用的时候再说.<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">#+CATEGORY: Thesis</span><br></pre></td></tr></table></figure></p>
</blockquote>
<p>If you would like to have a special category for a single entry or a (sub)tree, give the entry a ‘CATEGORY’ property with the special category you want to apply as the value.</p>
<p>The display in the agenda buffer looks best if the category is not longer than 10 characters.</p>
<p>You can set up icons for category by customizing the <code>org-agenda-category-icon-alist</code> variable.</p>
<h3 id="10-4-2-Time-of-day-specifications"><a href="#10-4-2-Time-of-day-specifications" class="headerlink" title="10.4.2 Time-of-day specifications"></a>10.4.2 Time-of-day specifications</h3><blockquote>
<p>本章的关键, 从这里修改time-grid</p>
</blockquote>
<p>Org mode checks each agenda item for a time-of-day specification. The time can be part of the timestamp that triggered inclusion into the agenda, for example</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;2005-05-10 Tue 19:00&gt;</span><br></pre></td></tr></table></figure>
<p>Time ranges can be specified with two timestamps:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;2005-05-10 Tue 20:30&gt;--&lt;2005-05-10 Tue 22:15&gt;</span><br></pre></td></tr></table></figure>
<p>In the headline of the entry itself, a time(range)—like ‘12:45’ or a ‘8:30-1pm’—may also appear as plain text[^1].<br>If the agenda integrates the Emacs diary (see <a href="https://orgmode.org/manual/Weekly_002fdaily-agenda.html#Weekly_002fdaily-agenda" target="_blank" rel="noopener">Weekly/daily agenda</a>), time specifications in diary entries are recognized as well.<br>For agenda display, Org mode extracts the time and displays it in a standard 24 hour format as part of the prefix. The example times in the previous paragraphs would end up in the agenda like this:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"> 8:30-13:00 Arthur Dent lies in front of the bulldozer</span><br><span class="line">12:45...... Ford Prefect arrives and takes Arthur to the pub</span><br><span class="line">19:00...... The Vogon reads his poem</span><br><span class="line">20:30-22:15 Marvin escorts the Hitchhikers to the bridge</span><br></pre></td></tr></table></figure>
<p>If the agenda is in single-day mode, or for the display of today, the timed entries are embedded in a time grid, like</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"> 8:00...... ------------------</span><br><span class="line"> 8:30-13:00 Arthur Dent lies in front of the bulldozer</span><br><span class="line">10:00...... ------------------</span><br><span class="line">12:00...... ------------------</span><br><span class="line">12:45...... Ford Prefect arrives and takes Arthur to the pub</span><br><span class="line">14:00...... ------------------</span><br><span class="line">16:00...... ------------------</span><br><span class="line">18:00...... ------------------</span><br><span class="line">19:00...... The Vogon reads his poem</span><br><span class="line">20:00...... ------------------</span><br><span class="line">20:30-22:15 Marvin escorts the Hitchhikers to the bridge</span><br></pre></td></tr></table></figure>
<p>The time grid can be turned on and off with the variable <code>org-agenda-use-time-grid</code>, and can be configured with <code>org-agenda-time-grid</code>.</p>
<hr>
<h3 id="Footnotes-3"><a href="#Footnotes-3" class="headerlink" title="Footnotes"></a>Footnotes</h3><ol>
<li>You can, however, disable this by setting <code>org-agenda-search-headline-for-time</code> variable to a <code>nil</code> value.</li>
</ol>
<h3 id="10-4-3-Sorting-of-agenda-items"><a href="#10-4-3-Sorting-of-agenda-items" class="headerlink" title="10.4.3 Sorting of agenda items"></a>10.4.3 Sorting of agenda items</h3><p>Before being inserted into a view, the items are sorted. How this is done depends on the type of view.</p>
<ul>
<li>For the daily/weekly agenda, the items for each day are sorted. The default order is to first collect all items containing an explicit time-of-day specification. These entries are shown at the beginning of the list, as a <em>schedule</em> for the day. After that, items remain grouped in categories, in the sequence given by <code>org-agenda-files</code>. Within each category, items are sorted by priority (see <a href="https://orgmode.org/manual/Priorities.html#Priorities" target="_blank" rel="noopener">Priorities</a>), which is composed of the base priority (2000 for priority ‘A’, 1000 for ‘B’, and 0 for ‘C’), plus additional increments for overdue scheduled or deadline items.</li>
<li>For the TODO list, items remain in the order of categories, but within each category, sorting takes place according to priority (see <a href="https://orgmode.org/manual/Priorities.html#Priorities" target="_blank" rel="noopener">Priorities</a>). The priority used for sorting derives from the priority cookie, with additions depending on how close an item is to its due or scheduled date.</li>
<li>For tags matches, items are not sorted at all, but just appear in the sequence in which they are found in the agenda files.</li>
</ul>
<p>Sorting can be customized using the variable <code>org-agenda-sorting-strategy</code>, and may also include criteria based on the estimated effort of an entry (see <a href="https://orgmode.org/manual/Effort-Estimates.html#Effort-Estimates" target="_blank" rel="noopener">Effort Estimates</a>).</p>
<blockquote>
<p>并没有啥用.</p>
</blockquote>
<h3 id="10-4-4-Filtering-limiting-agenda-times"><a href="#10-4-4-Filtering-limiting-agenda-times" class="headerlink" title="10.4.4  Filtering/limiting agenda times"></a>10.4.4  Filtering/limiting agenda times</h3><blockquote>
<p>并没啥用.</p>
</blockquote>
<p>Agenda built-in or customized commands are statically defined. Agenda filters and limits provide two ways of dynamically narrowing down the list of agenda entries: <em>filters</em> and <em>limits</em>. Filters only act on the display of the items, while limits take effect before the list of agenda entries is built. Filters are more often used interactively, while limits are mostly useful when defined as local variables within custom agenda commands.</p>
<h4 id="1-Filtering-in-the-agend"><a href="#1-Filtering-in-the-agend" class="headerlink" title="1. Filtering in the agend"></a>1. Filtering in the agend</h4><ul>
<li><p>/ (<code>org-agenda-filter-by-tag</code>)</p>
<p>Filter the agenda view with respect to a tag and/or effort estimates. The difference between this and a custom agenda command is that filtering is very fast, so that you can switch quickly between different filters without having to recreate the agenda.<a href="https://orgmode.org/manual/Filtering_002flimiting-agenda-times.html#FOOT98" target="_blank" rel="noopener">98</a>You are prompted for a tag selection letter; SPC means any tag at all. Pressing TAB at that prompt offers completion to select a tag, including any tags that do not have a selection character. The command then hides all entries that do not contain or inherit this tag. When called with prefix argument, remove the entries that <em>do</em> have the tag. A second / at the prompt turns off the filter and shows any hidden entries. Pressing + or - switches between filtering and excluding the next tag.Org also supports automatic, context-aware tag filtering. If the variable <code>org-agenda-auto-exclude-function</code> is set to a user-defined function, that function can decide which tags should be excluded from the agenda automatically. Once this is set, the / command then accepts RET as a sub-option key and runs the auto exclusion logic. For example, let’s say you use a ‘Net’ tag to identify tasks which need network access, an ‘Errand’ tag for errands in town, and a ‘Call’ tag for making phone calls. You could auto-exclude these tags based on the availability of the Internet, and outside of business hours, with something like this:<code>(defun org-my-auto-exclude-function (tag)   (and (cond         ((string= tag &quot;Net&quot;)          (/= 0 (call-process &quot;/sbin/ping&quot; nil nil nil                              &quot;-c1&quot; &quot;-q&quot; &quot;-t1&quot; &quot;mail.gnu.org&quot;)))         ((or (string= tag &quot;Errand&quot;) (string= tag &quot;Call&quot;))          (let ((hour (nth 2 (decode-time))))            (or (&lt; hour 8) (&gt; hour 21)))))        (concat &quot;-&quot; tag)))  (setq org-agenda-auto-exclude-function &#39;org-my-auto-exclude-function)</code></p>
</li>
<li><p>&lt; (<code>org-agenda-filter-by-category</code>)<br>Filter the current agenda view with respect to the category of the item at point. Pressing &lt; another time removes this filter. When called with a prefix argument exclude the category of the item at point from the agenda.You can add a filter preset in custom agenda commands through the option <code>org-agenda-category-filter-preset</code>. See <a href="https://orgmode.org/manual/Setting-options.html#Setting-options" target="_blank" rel="noopener">Setting options</a>.</p>
</li>
<li><p>^ (<code>org-agenda-filter-by-top-headline</code>)<br>Filter the current agenda view and only display the siblings and the parent headline of the one at point.</p>
</li>
<li><p>= (<code>org-agenda-filter-by-regexp</code>)<br>Filter the agenda view by a regular expression: only show agenda entries matching the regular expression the user entered. When called with a prefix argument, it filters <em>out</em> entries matching the regexp. Called in a regexp-filtered agenda view, remove the filter, unless there are two universal prefix arguments, in which case filters are cumulated.You can add a filter preset in custom agenda commands through the option <code>org-agenda-regexp-filter-preset</code>. See <a href="https://orgmode.org/manual/Setting-options.html#Setting-options" target="_blank" rel="noopener">Setting options</a>.</p>
</li>
<li><p>_ (<code>org-agenda-filter-by-effort</code>)<br>Filter the agenda view with respect to effort estimates. You first need to set up allowed efforts globally, for example<code>(setq org-global-properties       &#39;((&quot;Effort_ALL&quot;. &quot;0 0:10 0:30 1:00 2:00 3:00 4:00&quot;)))</code>You can then filter for an effort by first typing an operator, one of &lt;, &gt; and =, and then the one-digit index of an effort estimate in your array of allowed values, where 0 means the 10th value. The filter then restricts to entries with effort smaller-or-equal, equal, or larger-or-equal than the selected value. For application of the operator, entries without a defined effort are treated according to the value of <code>org-sort-agenda-noeffort-is-high</code>.When called with a prefix argument, it removes entries matching the condition. With two universal prefix arguments, it clears effort filters, which can be accumulated.You can add a filter preset in custom agenda commands through the option <code>org-agenda-effort-filter-preset</code>. See <a href="https://orgmode.org/manual/Setting-options.html#Setting-options" target="_blank" rel="noopener">Setting options</a>.</p>
</li>
<li><p>| (<code>org-agenda-filter-remove-all</code>)</p>
<p>Remove all filters in the current agenda view.</p>
</li>
</ul>
<h3 id="2-Setting-limits-for-the-agenda"><a href="#2-Setting-limits-for-the-agenda" class="headerlink" title="2. Setting limits for the agenda"></a>2. Setting limits for the agenda</h3><p>Here is a list of options that you can set, either globally, or locally in your custom agenda views (see <a href="https://orgmode.org/manual/Custom-Agenda-Views.html#Custom-Agenda-Views" target="_blank" rel="noopener">Custom Agenda Views</a>).</p>
<ul>
<li><p><code>org-agenda-max-entries</code></p>
<p>Limit the number of entries.</p>
</li>
<li><p><code>org-agenda-max-effort</code></p>
<p>Limit the duration of accumulated efforts (as minutes).</p>
</li>
<li><p><code>org-agenda-max-todos</code></p>
<p>Limit the number of entries with TODO keywords.</p>
</li>
<li><p><code>org-agenda-max-tags</code></p>
<p>Limit the number of tagged entries.</p>
</li>
</ul>
<p>When set to a positive integer, each option excludes entries from other categories: for example, ‘(setq org-agenda-max-effort 100)’ limits the agenda to 100 minutes of effort and exclude any entry that has no effort property. If you want to include entries with no effort property, use a negative value for <code>org-agenda-max-effort</code>. One useful setup is to use <code>org-agenda-max-entries</code> locally in a custom command. For example, this custom command displays the next five entries with a ‘NEXT’ TODO keyword.</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">(setq org-agenda-custom-commands</span><br><span class="line">      &apos;((&quot;n&quot; todo &quot;NEXT&quot;</span><br><span class="line">         ((org-agenda-max-entries 5)))))</span><br></pre></td></tr></table></figure>
<p>Once you mark one of these five entry as DONE, rebuilding the agenda will again the next five entries again, including the first entry that was excluded so far.</p>
<p>You can also dynamically set temporary limits, which are lost when rebuilding the agenda:</p>
<ul>
<li><p>~ (<code>org-agenda-limit-interactively</code>)</p>
<p>This prompts for the type of limit to apply and its value.</p>
</li>
</ul>
<hr>
<h3 id="Footnotes-4"><a href="#Footnotes-4" class="headerlink" title="Footnotes"></a>Footnotes</h3><ol>
<li>Custom commands can preset a filter by binding the variable <code>org-agenda-tag-filter-preset</code> as an option. This filter is then applied to the view and persists as a basic filter through refreshes and more secondary filtering. The filter is a global property of the entire agenda view—in a block agenda, you should only set this in the global options section, not in the section of an individual block.</li>
</ol>
<h2 id="10-5-Commands-in-the-Agenda-Buffer"><a href="#10-5-Commands-in-the-Agenda-Buffer" class="headerlink" title="10.5 Commands in the Agenda Buffer"></a>10.5 Commands in the Agenda Buffer</h2><blockquote>
<p>没啥用．</p>
</blockquote>
<p>Entries in the agenda buffer are linked back to the Org file or diary file where they originate. You are not allowed to edit the agenda buffer itself, but commands are provided to show and jump to the original entry location, and to edit the Org files “remotely” from the agenda buffer. In this way, all information is stored only once, removing the risk that your agenda and note files may diverge.</p>
<p>Some commands can be executed with mouse clicks on agenda lines. For the other commands, point needs to be in the desired line.</p>
<h2 id="10-6-Custom-Agenda-Views"><a href="#10-6-Custom-Agenda-Views" class="headerlink" title="10.6 Custom Agenda Views"></a>10.6 Custom Agenda Views</h2><blockquote>
<p>没啥用.</p>
</blockquote>
<p>Custom agenda commands serve two purposes: to store and quickly access frequently used TODO and tags searches, and to create special composite agenda buffers. Custom agenda commands are accessible through the dispatcher (see <a href="https://orgmode.org/manual/Agenda-Dispatcher.html#Agenda-Dispatcher" target="_blank" rel="noopener">Agenda Dispatcher</a>), just like the default commands.</p>
<table>
<thead>
<tr>
<th>• <a href="https://orgmode.org/manual/Storing-searches.html#Storing-searches" target="_blank" rel="noopener">Storing searches</a>:</th>
<th>Type once, use often.</th>
</tr>
</thead>
<tbody>
<tr>
<td>• <a href="https://orgmode.org/manual/Block-agenda.html#Block-agenda" target="_blank" rel="noopener">Block agenda</a>:</td>
<td>All the stuff you need in a single buffer.</td>
</tr>
<tr>
<td>• <a href="https://orgmode.org/manual/Setting-options.html#Setting-options" target="_blank" rel="noopener">Setting options</a>:</td>
<td>Changing the rules.</td>
</tr>
</tbody>
</table>
<h2 id="10-7-Exporting-Agenda-Views"><a href="#10-7-Exporting-Agenda-Views" class="headerlink" title="10.7 Exporting Agenda Views"></a>10.7 Exporting Agenda Views</h2><p>If you are away from your computer, it can be very useful to have a printed version of some agenda views to carry around. Org mode can export custom agenda views as plain text, HTML<a href="https://orgmode.org/manual/Exporting-Agenda-Views.html#FOOT104" target="_blank" rel="noopener">104</a>, Postscript, PDF<a href="https://orgmode.org/manual/Exporting-Agenda-Views.html#FOOT105" target="_blank" rel="noopener">105</a>, and iCalendar files. If you want to do this only occasionally, use the following command:</p>
<ul>
<li><p>C-x C-w (<code>org-agenda-write</code>)</p>
<p>Write the agenda view to a file.</p>
</li>
</ul>
<p>If you need to export certain agenda views frequently, you can associate any custom agenda command with a list of output file names<a href="https://orgmode.org/manual/Exporting-Agenda-Views.html#FOOT106" target="_blank" rel="noopener">106</a>. Here is an example that first defines custom commands for the agenda and the global TODO list, together with a number of files to which to export them. Then we define two block agenda commands and specify file names for them as well. File names can be relative to the current working directory, or absolute.</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">(setq org-agenda-custom-commands</span><br><span class="line">      &apos;((&quot;X&quot; agenda &quot;&quot; nil (&quot;agenda.html&quot; &quot;agenda.ps&quot;))</span><br><span class="line">        (&quot;Y&quot; alltodo &quot;&quot; nil (&quot;todo.html&quot; &quot;todo.txt&quot; &quot;todo.ps&quot;))</span><br><span class="line">        (&quot;h&quot; &quot;Agenda and Home-related tasks&quot;</span><br><span class="line">         ((agenda &quot;&quot;)</span><br><span class="line">          (tags-todo &quot;home&quot;)</span><br><span class="line">          (tags &quot;garden&quot;))</span><br><span class="line">         nil</span><br><span class="line">         (&quot;~/views/home.html&quot;))</span><br><span class="line">        (&quot;o&quot; &quot;Agenda and Office-related tasks&quot;</span><br><span class="line">         ((agenda)</span><br><span class="line">          (tags-todo &quot;work&quot;)</span><br><span class="line">          (tags &quot;office&quot;))</span><br><span class="line">         nil</span><br><span class="line">         (&quot;~/views/office.ps&quot; &quot;~/calendars/office.ics&quot;))))</span><br></pre></td></tr></table></figure>
<p>The extension of the file name determines the type of export. If it is ‘.html’, Org mode uses the htmlize package to convert the buffer to HTML and save it to this file name. If the extension is ‘.ps’, <code>ps-print-buffer-with-faces</code> is used to produce Postscript output. If the extension is ‘.ics’, iCalendar export is run export over all files that were used to construct the agenda, and limit the export to entries listed in the agenda. Any other extension produces a plain ASCII file.</p>
<p>The export files are <em>not</em> created when you use one of those commands interactively because this might use too much overhead. Instead, there is a special command to produce <em>all</em> specified files in one step:</p>
<ul>
<li><p>e (<code>org-store-agenda-views</code>)</p>
<p>Export all agenda views that have export file names associated with them.</p>
</li>
</ul>
<p>You can use the options section of the custom agenda commands to also set options for the export commands. For example:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">(setq org-agenda-custom-commands</span><br><span class="line">      &apos;((&quot;X&quot; agenda &quot;&quot;</span><br><span class="line">         ((ps-number-of-columns 2)</span><br><span class="line">          (ps-landscape-mode t)</span><br><span class="line">          (org-agenda-prefix-format &quot; [ ] &quot;)</span><br><span class="line">          (org-agenda-with-colors nil)</span><br><span class="line">          (org-agenda-remove-tags t))</span><br><span class="line">         (&quot;theagenda.ps&quot;))))</span><br></pre></td></tr></table></figure>
<p>This command sets two options for the Postscript exporter, to make it print in two columns in landscape format—the resulting page can be cut in two and then used in a paper agenda. The remaining settings modify the agenda prefix to omit category and scheduling information, and instead include a checkbox to check off items. We also remove the tags to make the lines compact, and we do not want to use colors for the black-and-white printer. Settings specified in <code>org-agenda-exporter-settings</code> also apply, e.g.,</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">(setq org-agenda-exporter-settings</span><br><span class="line">      &apos;((ps-number-of-columns 2)</span><br><span class="line">        (ps-landscape-mode t)</span><br><span class="line">        (org-agenda-add-entry-text-maxlines 5)</span><br><span class="line">        (htmlize-output-type &apos;css)))</span><br></pre></td></tr></table></figure>
<p>but the settings in <code>org-agenda-custom-commands</code> take precedence.</p>
<p>From the command line you may also use:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">emacs -eval (org-batch-store-agenda-views) -kill</span><br></pre></td></tr></table></figure>
<p>or, if you need to modify some parameters<a href="https://orgmode.org/manual/Exporting-Agenda-Views.html#FOOT107" target="_blank" rel="noopener">107</a></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">emacs -eval &apos;(org-batch-store-agenda-views                      \</span><br><span class="line">              org-agenda-span (quote month)                     \</span><br><span class="line">              org-agenda-start-day &quot;2007-11-01&quot;                 \</span><br><span class="line">              org-agenda-include-diary nil                      \</span><br><span class="line">              org-agenda-files (quote (&quot;~/org/project.org&quot;)))&apos;  \</span><br><span class="line">      -kill</span><br></pre></td></tr></table></figure>
<p>which creates the agenda views restricted to the file ‘~/org/project.org’, without diary entries and with a 30-day extent.</p>
<p>You can also extract agenda information in a way that allows further processing by other programs. See <a href="https://orgmode.org/manual/Extracting-Agenda-Information.html#Extracting-Agenda-Information" target="_blank" rel="noopener">Extracting Agenda Information</a>, for more information.</p>
<h2 id="10-8-Using-Column-View-in-the-Agenda"><a href="#10-8-Using-Column-View-in-the-Agenda" class="headerlink" title="10.8 Using Column View in the Agenda"></a>10.8 Using Column View in the Agenda</h2><blockquote>
<p> 没啥用.</p>
</blockquote>
<p>Column view (see <a href="https://orgmode.org/manual/Column-View.html#Column-View" target="_blank" rel="noopener">Column View</a>) is normally used to view and edit properties embedded in the hierarchical structure of an Org file. It can be quite useful to use column view also from the agenda, where entries are collected by certain criteria.</p>
<ul>
<li><p>C-c C-x C-c (<code>org-agenda-columns</code>)</p>
<p>Turn on column view in the agenda.</p>
</li>
</ul>
<p>To understand how to use this properly, it is important to realize that the entries in the agenda are no longer in their proper outline environment. This causes the following issues:</p>
<ol>
<li><p>Org needs to make a decision which columns format to use. Since the entries in the agenda are collected from different files, and different files may have different columns formats, this is a non-trivial problem. Org first checks if the variable <code>org-overriding-columns-format</code> is currently set, and if so, takes the format from there. Otherwise it takes the format associated with the first item in the agenda, or, if that item does not have a specific format (defined in a property, or in its file), it uses <code>org-columns-default-format</code>.</p>
</li>
<li><p>If any of the columns has a summary type defined (see</p>
</li>
</ol>
<p>   Column attributes</p>
<p>   ), turning on column view in the agenda visits all relevant agenda files and make sure that the computations of this property are up to date. This is also true for the special ‘</p>
<p>   CLOCKSUM</p>
<p>   ’ property. Org then sums the values displayed in the agenda. In the daily/weekly agenda, the sums cover a single day; in all other views they cover the entire block.</p>
<p>   It is important to realize that the agenda may show the same entry <em>twice</em>—for example as scheduled and as a deadline—and it may show two entries from the same hierarchy (for example a <em>parent</em> and its <em>child</em>). In these cases, the summation in the agenda leads to incorrect results because some values count double.</p>
<ol start="3">
<li><p>When the column view in the agenda shows the ‘CLOCKSUM’ property, that is always the entire clocked time for this item. So even in the daily/weekly agenda, the clocksum listed in column view may originate from times outside the current view. This has the advantage that you can compare these values with a column listing the planned total effort for a task—one of the major applications for column view in the agenda. If you want information about clocked time in the displayed period use clock table mode (press R in the agenda).</p>
</li>
<li><p>When the column view in the agenda shows the ‘CLOCKSUM_T’ property, that is always today’s clocked time for this item. So even in the weekly agenda, the clocksum listed in column view only originates from today. This lets you compare the time you spent on a task for today, with the time already spent—via ‘CLOCKSUM’—and with the planned total effort for it.</p>
</li>
</ol>

          
        
      
    </div>

    

    
    
    

    

    
      
    
    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://alphaalgorithms.github.io/2019/05/15/3-tools-to-manage-time/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Gabriel">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="DummyHead">
    </span>

    
      <header class="post-header">

        
        
          <h2 class="post-title" itemprop="name headline">
                
                
                <a href="/2019/05/15/3-tools-to-manage-time/" class="post-title-link" itemprop="url">时间管理的三件工具</a>
              
            
          </h2>
        

        <div class="post-meta">
          <span class="post-time">

            
            
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              

              
                
              

              <time title="Created: 2019-05-15 21:46:10 / Modified: 21:55:29" itemprop="dateCreated datePublished" datetime="2019-05-15T21:46:10+08:00">2019-05-15</time>
            

            
              

              
            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/linux-system-administration/" itemprop="url" rel="index"><span itemprop="name">linux - system - administration</span></a></span>

                
                
              
            </span>
          

          
            
            
              
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <span class="post-meta-item-icon">
                  <i class="fa fa-comment-o"></i>
                </span>
            
                <span class="post-meta-item-text">Comments: </span>
                <a href="/2019/05/15/3-tools-to-manage-time/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count disqus-comment-count" data-disqus-identifier="2019/05/15/3-tools-to-manage-time/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="前情概要"><a href="#前情概要" class="headerlink" title="前情概要"></a>前情概要</h2><p><a href="https://alphaalgorithms.github.io/2019/05/13/time-presentation/">时间变量的顺序与时间表示的格式 </a>总结了时间的10个变量及其直觉解析的顺序　<code>Weekday Hour:Minute Month-Day WeekNumber Year</code></p>
<p><a href="https://alphaalgorithms.github.io/2019/05/15/Sense-and-Analyze-Time/">时间的感知与分析 </a> 阐述对时间的认知方法论以奠定高效利用和有效掌控时间的基础。</p>
<p>“工欲善其事必先利其器”，接下来的问题便是时间管理的工具。</p>
<h2 id="时间管理的三件工具"><a href="#时间管理的三件工具" class="headerlink" title="时间管理的三件工具"></a>时间管理的三件工具</h2><p>无论是手机的android系统还是Linux系统，都提供两项基本的时间管理工具日历(calendar) and 时钟(clock).<br>Calendar是date地图，提供全景式的鸟瞰图； clock是指南针，指导具体的每一步应该迈向何处。<br>二者的结合形成第三个工具datetime。</p>
<p>工具虽然简单，但如果不能抽象到认知的层面，则不能为己所用。试问，谁手机里没个日历，每个钟表呢。认知层面的结论是需要且仅需要这三件工具O(∩_∩)O。</p>
<ul>
<li><p>日历提供全景式鸟瞰</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">$ ncal -B 3  <span class="comment">#ncal中的n竟然是new这个单词</span></span><br><span class="line">    February 2019     March 2019        April 2019        May 2019          </span><br><span class="line">Su      3 10 17 24        3 10 17 24 31     7 14 21 28        5 12 19 26   </span><br><span class="line">Mo     4 11 18 25        4 11 18 25      1  8 15 22 29        6 13 20 27   </span><br><span class="line">Tu      5 12 19 26        5 12 19 26      2  9 16 23 30        7 14 21 28   </span><br><span class="line">We     6 13 20 27        6 13 20 27      3 10 17 24        1  8 15 22 29   </span><br><span class="line">Th      7 14 21 28        7 14 21 28      4 11 18 25        2  9 16 23 30   </span><br><span class="line">Fr       1  8  15   22     1  8 15 22 29       5 12 19 26        3 10 17 24 31   </span><br><span class="line">Sa  2  9 16 23        2  9 16 23 30       6 13 20 27       4  11 18 25</span><br></pre></td></tr></table></figure>
</li>
<li><p>时钟实施具体的测量</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">$ time sleep <span class="number">10</span></span><br><span class="line">real    <span class="number">0</span>m10<span class="number">.011</span>s</span><br><span class="line">user    <span class="number">0</span>m0<span class="number">.002</span>s</span><br><span class="line">sys     <span class="number">0</span>m0<span class="number">.001</span>s</span><br></pre></td></tr></table></figure>
</li>
<li><p>datetime整合二者，提供更加实用的功能</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#贸易战倒计时</span></span><br><span class="line">$ TZ=<span class="string">"America/New_York"</span> date <span class="comment">#美东夏季时间， 第十个变量时区。</span></span><br><span class="line">Thu May  9 20:04:30 EDT 2019  <span class="comment">#Eatern Daylight Timer</span></span><br></pre></td></tr></table></figure>
</li>
</ul>
<h2 id="Python中的时间管理"><a href="#Python中的时间管理" class="headerlink" title="Python中的时间管理"></a>Python中的时间管理</h2><p>以calendar, clock(time),datetime与十个时间变量为基础，审视python的<code>calendar</code>, <code>time</code>, and <code>datetime</code></p>
<h3 id="1-Calender"><a href="#1-Calender" class="headerlink" title="1. Calender"></a>1. Calender</h3><p><a href="https://docs.python.org/3/library/calendar.html" target="_blank" rel="noopener">calendar — General calendar-related functions</a><br><a href="https://pymotw.com/3/calendar/index.html" target="_blank" rel="noopener">calendar — Work with Dates — PyMOTW 3</a></p>
<p>Python中的calendar十个无关紧要的工具，没有人会费力不讨好的到这里查看日期和规划日程。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">class TextCalendar(Calendar)</span><br><span class="line"> |  TextCalendar(firstweekday=0)</span><br><span class="line">In [326]: cal = calendar.TextCalendar(calendar.MONDAY)    #周一作为一周的起始点                                                                </span><br><span class="line">In [327]: cal.prmonth(2019, 5)                                                                                                </span><br><span class="line">      May 2019</span><br><span class="line">Mo Tu We Th Fr Sa Su</span><br><span class="line">       1  2  3  4  5</span><br><span class="line"> 6  7  8  9 10 11 12</span><br><span class="line">13 14 15 16 17 18 19</span><br><span class="line">20 21 22 23 24 25 26</span><br><span class="line">27 28 29 30 31</span><br><span class="line">In [328]: cal.pryear(2019)                                                                                                    </span><br><span class="line">                                  2019</span><br><span class="line">      January                                   February                                    March</span><br><span class="line">Mo Tu We Th Fr Sa Su      Mo Tu We Th Fr Sa Su      Mo Tu We Th Fr Sa Su</span><br><span class="line">    1  2  3  4  5  6                   1  2  3                                           1  2  3</span><br><span class="line"> 7  8  9 10 11 12 13           4  5  6  7  8  9 10                            4  5  6  7  8  9 10</span><br><span class="line">14 15 16 17 18 19 20      11 12 13 14 15 16 17              11 12 13 14 15 16 17</span><br><span class="line">21 22 23 24 25 26 27      18 19 20 21 22 23 24             18 19 20 21 22 23 24</span><br><span class="line">28 29 30 31                       25 26 27 28                                  25 26 27 28 29 30 31</span><br><span class="line"># 只了解下TextCalendar, pryear, prmonth</span><br></pre></td></tr></table></figure>
<h3 id="2-Time"><a href="#2-Time" class="headerlink" title="2. Time"></a>2. Time</h3><p><a href="https://docs.python.org/3/library/time.html#module-time" target="_blank" rel="noopener">time — Time access and conversions </a><br><a href="https://pymotw.com/3/calendar/index.html" target="_blank" rel="noopener">calendar — Work with Dates — PyMOTW 3</a></p>
<ul>
<li><p>1.与epoch time的相互转换</p>
<p>Use the following functions to convert between time representations:<br>人以minutes计时， 机器以second计时。</p>
</li>
</ul>
<table>
<thead>
<tr>
<th>From</th>
<th>To</th>
<th>Use</th>
</tr>
</thead>
<tbody>
<tr>
<td>seconds since the epoch</td>
<td><a href="https://docs.python.org/3/library/time.html#time.struct_time" target="_blank" rel="noopener"><code>struct_time</code></a> in UTC</td>
<td><a href="https://docs.python.org/3/library/time.html#time.gmtime" target="_blank" rel="noopener"><code>gmtime()</code></a></td>
</tr>
<tr>
<td>seconds since the epoch</td>
<td><a href="https://docs.python.org/3/library/time.html#time.struct_time" target="_blank" rel="noopener"><code>struct_time</code></a> in local time</td>
<td><a href="https://docs.python.org/3/library/time.html#time.localtime" target="_blank" rel="noopener"><code>localtime()</code></a></td>
</tr>
<tr>
<td><a href="https://docs.python.org/3/library/time.html#time.struct_time" target="_blank" rel="noopener"><code>struct_time</code></a> in UTC</td>
<td>seconds since the epoch</td>
<td><a href="https://docs.python.org/3/library/calendar.html#calendar.timegm" target="_blank" rel="noopener"><code>calendar.timegm()</code></a></td>
</tr>
<tr>
<td><a href="https://docs.python.org/3/library/time.html#time.struct_time" target="_blank" rel="noopener"><code>struct_time</code></a> in local time</td>
<td>seconds since the epoch</td>
<td><a href="https://docs.python.org/3/library/time.html#time.mktime" target="_blank" rel="noopener"><code>mktime()</code></a></td>
</tr>
</tbody>
</table>
  <figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#seconds to  timetuple</span></span><br><span class="line">In [<span class="number">8</span>]: time.localtime() <span class="comment">#local time</span></span><br><span class="line">Out[<span class="number">8</span>]: time.struct_time(tm_year=<span class="number">2019</span>, tm_mon=<span class="number">5</span>, tm_mday=<span class="number">15</span>, tm_hour=<span class="number">20</span>, tm_min=<span class="number">4</span>, tm_sec=<span class="number">17</span>, tm_wday=<span class="number">2</span>, tm_yday=<span class="number">135</span>, tm_isdst=<span class="number">0</span>)</span><br><span class="line">    </span><br><span class="line">In [<span class="number">9</span>]: time.gmtime() <span class="comment">#UTC time</span></span><br><span class="line">Out[<span class="number">9</span>]: time.struct_time(tm_year=<span class="number">2019</span>, tm_mon=<span class="number">5</span>, tm_mday=<span class="number">15</span>, tm_hour=<span class="number">12</span>, tm_min=<span class="number">4</span>, tm_sec=<span class="number">31</span>, tm_wday=<span class="number">2</span>, tm_yday=<span class="number">135</span>, tm_isdst=<span class="number">0</span>)</span><br><span class="line"></span><br><span class="line">In [<span class="number">11</span>]: time.gmtime(<span class="number">100</span>)  <span class="comment">#</span></span><br><span class="line">Out[<span class="number">11</span>]: time.struct_time(tm_year=<span class="number">1970</span>, tm_mon=<span class="number">1</span>, tm_mday=<span class="number">1</span>, tm_hour=<span class="number">0</span>, tm_min=<span class="number">1</span>, tm_sec=<span class="number">40</span>, tm_wday=<span class="number">3</span>, tm_yday=<span class="number">1</span>, tm_isdst=<span class="number">0</span>)</span><br><span class="line"><span class="comment">#timetuple to seconds </span></span><br><span class="line">In [<span class="number">17</span>]: calendar.timegm(time.gmtime()) <span class="comment">#UTC time </span></span><br><span class="line">Out[<span class="number">17</span>]: <span class="number">1557922318</span></span><br><span class="line">In [<span class="number">18</span>]: time.mktime(time.localtime()) <span class="comment">#Local time </span></span><br><span class="line">Out[<span class="number">18</span>]: <span class="number">1557922368.0</span></span><br></pre></td></tr></table></figure>
<ul>
<li><p>2.第十一个时间变量 <code>tm_isdst</code> daylight saving time夏季时间</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">gmtime(...) -&gt;time.struct_time,  (strptime, localtime)</span><br><span class="line">    gmtime([seconds]) -&gt; (tm_year, tm_mon, tm_mday, tm_hour, tm_min,</span><br><span class="line">                           tm_sec, tm_wday, tm_yday, tm_isdst)</span><br></pre></td></tr></table></figure>
</li>
<li><p>3.Processor Time  and Timer</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">time.process_time() <span class="comment">#cpu time  of kernel and user-space</span></span><br><span class="line">time.process_time_ns() -&gt;int #not inclue sleep time </span><br><span class="line">time.perf_counter() -&gt;float</span><br><span class="line">time.perf_counter_ns() -&gt; int</span><br><span class="line">time.thread_time() -&gt;float</span><br><span class="line">time.thread_time_ns() -&gt;int</span><br><span class="line">time.time()</span><br><span class="line">time.time_ns()</span><br><span class="line">time.sleep</span><br><span class="line">time.monotonic()</span><br><span class="line">time.monotonic_ns()</span><br></pre></td></tr></table></figure>
</li>
<li><p>4.Timezone Constants</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">In [<span class="number">9</span>]: time.daylight</span><br><span class="line">Out[<span class="number">9</span>]: <span class="number">0</span></span><br><span class="line">In [<span class="number">10</span>]: time.tzname</span><br><span class="line">Out[<span class="number">10</span>]: (<span class="string">'CST'</span>, <span class="string">'CST'</span>)</span><br><span class="line">In [<span class="number">11</span>]: time.altzone</span><br><span class="line">Out[<span class="number">11</span>]: <span class="number">-28800</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>5.两个最重要的methodss</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">time.strptime(string, format)</span><br><span class="line">time.strftime(format)</span><br></pre></td></tr></table></figure>
</li>
<li><p>6.<code>ctime</code></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">In [<span class="number">20</span>]: time.asctime(time.localtime())</span><br><span class="line">Out[<span class="number">20</span>]: <span class="string">'Wed May 15 21:05:27 2019'</span></span><br><span class="line">In [<span class="number">21</span>]: time.ctime()</span><br><span class="line">Out[<span class="number">21</span>]: <span class="string">'Wed May 15 21:05:32 2019'</span></span><br></pre></td></tr></table></figure>
</li>
</ul>
<h3 id="3-Datetime"><a href="#3-Datetime" class="headerlink" title="3. Datetime"></a>3. Datetime</h3><p>复习calendar(date), clock(time)的逻辑，先看两个没用的函数。</p>
<p><a href="https://pymotw.com/3/datetime/index.html" target="_blank" rel="noopener">datetime — Date and Time Value Manipulation — PyMOTW 3</a></p>
<ul>
<li><p>1.datetime.date()</p>
  <figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">date</span><span class="params">(builtins.object)</span>  就是符号%<span class="title">x</span>返回的内容</span></span><br><span class="line"><span class="class"> |  <span class="title">date</span><span class="params">(year, month, day)</span> --&gt; date object</span></span><br><span class="line"><span class="class">In [135]:</span> datetime.date.today().year                                                                                          </span><br><span class="line">Out[<span class="number">135</span>]: <span class="number">2019</span></span><br><span class="line">In [<span class="number">136</span>]: datetime.date.today().month                                                                                         </span><br><span class="line">Out[<span class="number">136</span>]: <span class="number">5</span></span><br><span class="line">In [<span class="number">137</span>]: datetime.date.today().day                                                                                           </span><br><span class="line">Out[<span class="number">137</span>]: <span class="number">9</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>2.datetime.time()</p>
  <figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">time</span><span class="params">(builtins.object)</span> 符号%<span class="title">X</span>返回的内容</span></span><br><span class="line"><span class="class"> |  <span class="title">time</span><span class="params">([hour[, minute[, second[, microsecond[, tzinfo]]]]])</span> --&gt; a time object</span></span><br><span class="line"><span class="class">  #5个参数,由大到小排列</span></span><br><span class="line"><span class="class">In [104]:</span>  t = datetime.time(<span class="number">6</span>, <span class="number">15</span>, <span class="number">30</span>, <span class="number">999999</span>, dateutil.tz.tzutc())                                                          </span><br><span class="line">In [<span class="number">105</span>]: t.strftime(<span class="string">"%f:%S:%M:%H %Z"</span>)                                                                                        </span><br><span class="line">Out[<span class="number">105</span>]: <span class="string">'999999:30:15:06 UTC'</span></span><br><span class="line">In [<span class="number">106</span>]: t.min                                                                                                               </span><br><span class="line">Out[<span class="number">106</span>]: datetime.time(<span class="number">0</span>, <span class="number">0</span>)</span><br><span class="line">In [<span class="number">107</span>]: t.max                                                                                                               </span><br><span class="line">Out[<span class="number">107</span>]: datetime.time(<span class="number">23</span>, <span class="number">59</span>, <span class="number">59</span>, <span class="number">999999</span>)</span><br><span class="line">In <span class="number">108</span>]: t.resolution                                                                                                        </span><br><span class="line">Out[<span class="number">108</span>]: datetime.timedelta(microseconds=<span class="number">1</span>) <span class="comment">#精确度</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>3.datetime.datetime()</p>
  <figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#前面两个datetime.time and datetime.date没啥用.</span></span><br><span class="line"><span class="comment">#这里的关键是第十个时间变量tzinfo</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">datetime</span><span class="params">(date)</span></span></span><br><span class="line"><span class="class"> |  <span class="title">datetime</span><span class="params">(year, month, day[, hour[, minute[, second[, microsecond[,tzinfo]]]]])</span></span></span><br><span class="line"><span class="class"><span class="title">Help</span> <span class="title">on</span> <span class="title">built</span>-<span class="title">in</span> <span class="title">function</span> <span class="title">weekday</span>:</span></span><br><span class="line"></span><br><span class="line">weekday(...) method of datetime.datetime instance</span><br><span class="line">    Return the day of the week represented by the date.</span><br><span class="line">    Monday == <span class="number">0</span> ... Sunday == <span class="number">6</span>   </span><br><span class="line">In [<span class="number">200</span>]: dt = datetime.datetime.now().replace(tzinfo=dateutil.tz.gettz(<span class="string">"Asia/Shanghai"</span>))                                     </span><br><span class="line">In [<span class="number">201</span>]: dt                                                                                                                  </span><br><span class="line">Out[<span class="number">201</span>]: datetime.datetime(<span class="number">2019</span>, <span class="number">5</span>, <span class="number">9</span>, <span class="number">17</span>, <span class="number">47</span>, <span class="number">10</span>, <span class="number">421561</span>, tzinfo=tzfile(<span class="string">'/usr/share/zoneinfo/Asia/Shanghai'</span>))</span><br><span class="line"> In [<span class="number">208</span>]: datetime.datetime.utcnow().timetuple()                                                                              </span><br><span class="line">Out[<span class="number">208</span>]: time.struct_time(tm_year=<span class="number">2019</span>, tm_mon=<span class="number">5</span>, tm_mday=<span class="number">9</span>, tm_hour=<span class="number">9</span>, tm_min=<span class="number">49</span>, tm_sec=<span class="number">24</span>, tm_wday=<span class="number">3</span>, tm_yday=<span class="number">129</span>, tm_isdst=<span class="number">-1</span>)</span><br></pre></td></tr></table></figure>
</li>
<li><p>4.datetime.timedelta and Arithmetic Opertions </p>
  <figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">datetime</span>.<span class="title">timedelta</span><span class="params">(days=<span class="number">0</span>, seconds=<span class="number">0</span>, microseconds=<span class="number">0</span>, milliseconds=<span class="number">0</span>, minutes=<span class="number">0</span>, hours=<span class="number">0</span>, weeks=<span class="number">0</span>)</span></span></span><br><span class="line"><span class="class"><span class="title">In</span> [219]:</span> datetime.datetime.now() + datetime.timedelta(days=<span class="number">-1</span>)                                                               </span><br><span class="line">Out[<span class="number">219</span>]: datetime.datetime(<span class="number">2019</span>, <span class="number">5</span>, <span class="number">8</span>, <span class="number">17</span>, <span class="number">57</span>, <span class="number">40</span>, <span class="number">910880</span>)</span><br><span class="line">In [<span class="number">220</span>]: !date -d <span class="string">"1 days ago"</span>                                                                                               </span><br><span class="line">Wed May  <span class="number">8</span> <span class="number">17</span>:<span class="number">57</span>:<span class="number">52</span> CST <span class="number">2019</span></span><br><span class="line"> <span class="comment">#转换为seconds的另外一种写法</span></span><br><span class="line">In [<span class="number">25</span>]: str(datetime.timedelta(seconds=<span class="number">100</span>))</span><br><span class="line">Out[<span class="number">25</span>]: <span class="string">'0:01:40'</span></span><br><span class="line">In [<span class="number">29</span>]: time.strftime(<span class="string">"%H:%M:%S"</span>, time.gmtime(<span class="number">3000</span>))</span><br><span class="line">Out[<span class="number">29</span>]: <span class="string">'00:50:00'</span></span><br></pre></td></tr></table></figure>
</li>
</ul>
<h2 id="Shell的时间管理工具"><a href="#Shell的时间管理工具" class="headerlink" title="Shell的时间管理工具"></a>Shell的时间管理工具</h2><h3 id="1-Calendar"><a href="#1-Calendar" class="headerlink" title="1.Calendar"></a>1.Calendar</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">$ ncal -1</span><br><span class="line">$ ncal -M <span class="comment">#Monday as the first day </span></span><br><span class="line">$ ncal -w <span class="comment">#weeknumber</span></span><br><span class="line"><span class="variable">$ncal</span> -y -m; </span><br><span class="line"><span class="variable">$ncal</span> -d yyyy-mm </span><br><span class="line"><span class="variable">$ncal</span> yyyy-mm-dd<span class="comment">#highlight the current date </span></span><br><span class="line">$ ncal -A3 -B4</span><br><span class="line"><span class="comment">#就只有这么多操作</span></span><br></pre></td></tr></table></figure>
<h3 id="2-Clock-Time"><a href="#2-Clock-Time" class="headerlink" title="2.Clock(Time)"></a>2.Clock(Time)</h3><ul>
<li><p>hwclock</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">In [31]: !sudo hwclock</span><br><span class="line">2019-05-15 21:25:29.514803+08:00</span><br><span class="line">---------------------------------------------------</span><br><span class="line">NAME</span><br><span class="line">       hwclock - time clocks utility</span><br><span class="line">FILES</span><br><span class="line">       /etc/adjtime</span><br><span class="line">              The configuration and state file <span class="keyword">for</span> hwclock.</span><br><span class="line">       /etc/localtime</span><br><span class="line">              The system timezone file</span><br><span class="line">       /usr/share/zoneinfo/</span><br><span class="line">              The system timezone database directory.</span><br><span class="line">       Device files hwclock may try <span class="keyword">for</span> Hardware Clock access:</span><br><span class="line">       /dev/rtc0</span><br><span class="line">       /dev/rtc</span><br><span class="line">       /dev/misc/rtc</span><br><span class="line">       /dev/efirtc</span><br><span class="line">       /dev/misc/efirtc</span><br></pre></td></tr></table></figure>
</li>
<li><p>time (processing profile)</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">$ time (tree  /usr/share/zoneinfo | grep -i <span class="string">"prc"</span>)</span><br><span class="line">│   ├── Chongqing -&gt; ../PRC</span><br><span class="line">│   ├── Chungking -&gt; ../PRC</span><br><span class="line">│   ├── Harbin -&gt; ../PRC</span><br><span class="line">│   ├── Shanghai -&gt; ../PRC</span><br><span class="line">│   │   ├── Chongqing -&gt; ../../PRC</span><br><span class="line">│   │   ├── Chungking -&gt; ../../PRC</span><br><span class="line">│   │   ├── Harbin -&gt; ../../PRC</span><br><span class="line">│   │   ├── Shanghai -&gt; ../../PRC</span><br><span class="line">│   ├── PRC -&gt; ../PRC</span><br><span class="line">├── PRC</span><br><span class="line">│   │   ├── Chongqing -&gt; ../PRC</span><br><span class="line">│   │   ├── Chungking -&gt; ../PRC</span><br><span class="line">│   │   ├── Harbin -&gt; ../PRC</span><br><span class="line">│   │   ├── Shanghai -&gt; ../PRC</span><br><span class="line">│   ├── PRC</span><br><span class="line"></span><br><span class="line">real    0m0.017s</span><br><span class="line">user    0m0.015s</span><br><span class="line">sys     0m0.004s</span><br></pre></td></tr></table></figure>
</li>
</ul>
<h3 id="3-Datetime-1"><a href="#3-Datetime-1" class="headerlink" title="3.Datetime"></a>3.Datetime</h3><ul>
<li><p>timedatectl</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#systemd的service</span></span><br><span class="line">$ timedatectl</span><br><span class="line">               Local time: Thu <span class="number">2019</span><span class="number">-05</span><span class="number">-09</span> <span class="number">21</span>:<span class="number">30</span>:<span class="number">27</span> CST</span><br><span class="line">           Universal time: Thu <span class="number">2019</span><span class="number">-05</span><span class="number">-09</span> <span class="number">13</span>:<span class="number">30</span>:<span class="number">27</span> UTC</span><br><span class="line">                 RTC time: Thu <span class="number">2019</span><span class="number">-05</span><span class="number">-09</span> <span class="number">13</span>:<span class="number">30</span>:<span class="number">27</span></span><br><span class="line">                Time zone: Asia/Shanghai (CST, +<span class="number">0800</span>)</span><br><span class="line">System clock synchronized: yes</span><br><span class="line">              NTP service: active</span><br><span class="line">              </span><br><span class="line"> - Check the current system clock time:</span><br><span class="line">   timedatectl</span><br><span class="line"> - Set the local time of the system clock directly:</span><br><span class="line">   timedatectl set-time &#123;&#123;<span class="string">"yyyy-MM-dd hh:mm:ss"</span>&#125;&#125;</span><br><span class="line">   </span><br><span class="line"> - List available timezones:</span><br><span class="line">   timedatectl list-timezones</span><br><span class="line"></span><br><span class="line"> - Set the system timezone:</span><br><span class="line">   timedatectl set-timezone &#123;&#123;timezone&#125;&#125;</span><br><span class="line"></span><br><span class="line"> - Enable Network Time Protocol (NTP) synchronization:</span><br><span class="line">   timedatectl set-ntp on</span><br></pre></td></tr></table></figure>
</li>
<li><p>date (最趁手的一个工具)</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line">In [<span class="number">9</span>]: time.time()                                                                            </span><br><span class="line">Out[<span class="number">9</span>]: <span class="number">1557406444.1336956</span></span><br><span class="line">In [<span class="number">10</span>]: !date +%s                                                                             </span><br><span class="line"><span class="number">1557406449</span></span><br><span class="line">$ date -d @$(date +%s)　<span class="comment">#date -d @1557406449</span></span><br><span class="line">Thu May  <span class="number">9</span> <span class="number">21</span>:<span class="number">11</span>:<span class="number">15</span> CST <span class="number">2019</span></span><br><span class="line">        </span><br><span class="line"><span class="comment">#基本的操作</span></span><br><span class="line">$ date -u +<span class="string">"%Y-%m-%dT%H:%M:%SZ"</span></span><br><span class="line"><span class="number">2019</span><span class="number">-05</span><span class="number">-09</span>T12:<span class="number">55</span>:<span class="number">31</span>Z</span><br><span class="line">        </span><br><span class="line"><span class="comment">#Future date and time </span></span><br><span class="line">$ date -d <span class="string">" two weeks"</span></span><br><span class="line">date: invalid date ‘ two weeks’</span><br><span class="line">$ date -d <span class="string">"2 weeks"</span></span><br><span class="line">Thu May <span class="number">23</span> <span class="number">21</span>:<span class="number">20</span>:<span class="number">17</span> CST <span class="number">2019</span></span><br><span class="line">$ date -d <span class="string">"next fri"</span> <span class="comment">#只有两个变量能够以文字表述 Month and Weekday</span></span><br><span class="line">Fri May <span class="number">10</span> <span class="number">00</span>:<span class="number">00</span>:<span class="number">00</span> CST <span class="number">2019</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#the elpased date and time </span></span><br><span class="line">$ date -d <span class="string">"last thursday"</span></span><br><span class="line">Thu May  <span class="number">2</span> <span class="number">00</span>:<span class="number">00</span>:<span class="number">00</span> CST <span class="number">2019</span></span><br><span class="line">$ date -d <span class="string">"2 days ago"</span></span><br><span class="line">Tue May  <span class="number">7</span> <span class="number">21</span>:<span class="number">22</span>:<span class="number">28</span> CST <span class="number">2019</span></span><br><span class="line">$ date -d <span class="string">"last month"</span></span><br><span class="line">Tue Apr  <span class="number">9</span> <span class="number">21</span>:<span class="number">22</span>:<span class="number">39</span> CST <span class="number">2019</span></span><br><span class="line">        </span><br><span class="line"><span class="comment">#贸易战倒计时</span></span><br><span class="line">$ TZ=<span class="string">"America/New_York"</span> date</span><br><span class="line">Thu May  <span class="number">9</span> <span class="number">20</span>:<span class="number">04</span>:<span class="number">30</span> EDT <span class="number">2019</span></span><br></pre></td></tr></table></figure>
</li>
</ul>
<h2 id="Emacs中的时间管理"><a href="#Emacs中的时间管理" class="headerlink" title="Emacs中的时间管理"></a>Emacs中的时间管理</h2><p>….</p>
<h2 id="总结"><a href="#总结" class="headerlink" title="总结"></a>总结</h2><p>时间管理的三个工具, time, datetime, calendar(从微观到宏观处理5, 8, 10个时间变量)</p>
<blockquote>
<p>Our units of temporal measurement, from seconds on up to months, are so complicated, asymmetrical and disjunctive so as to make coherent mental reckoning in time all but impossible. Indeed, had some tyrannical god contrived to enslave our minds to time, to make it all but impossible for us to escape subjection to sodden routines and unpleasant surprises, he could hardly have done better than handing down our present system. It is like a set of trapezoidal building blocks, with no vertical or horizontal surfaces, like a language in which the simplest thought demands constructions, useless particles and lengthy circumlocutions. Unlike the more successful patterns of language and science, which enable us to face experience boldly or at least level-headedly, our system of temporal calculation silently and persistently encourages our terror of time.</p>
<p>… It is as though architects had to measure length in feet, width in meters and height in ells; as though basic instruction manuals demanded a knowledge of five different languages. It is no wonder then that we often look into our own immediate past or future, last Tuesday or a week from Sunday, with feelings of helpless confusion. …</p>
<p>—Robert Grudin, Time and the Art of Living.</p>
</blockquote>
<p>哈哈哈～，神吐槽。因此需要将so complicated, asymmetrical and disjunctive 抽象为calender, time, datetime三个工具。</p>
<h2 id="参考资料"><a href="#参考资料" class="headerlink" title="参考资料"></a>参考资料</h2><p><a href="https://www.gnu.org/software/coreutils/manual/html_node/Date-input-formats.html#Date-input-formats" target="_blank" rel="noopener">GNU Coreutils: Date input formats</a></p>

          
        
      
    </div>

    

    
    
    

    

    
      
    
    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://alphaalgorithms.github.io/2019/05/15/Sense-and-Analyze-Time/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Gabriel">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="DummyHead">
    </span>

    
      <header class="post-header">

        
        
          <h2 class="post-title" itemprop="name headline">
                
                
                <a href="/2019/05/15/Sense-and-Analyze-Time/" class="post-title-link" itemprop="url">时间的感知与分析</a>
              
            
          </h2>
        

        <div class="post-meta">
          <span class="post-time">

            
            
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              

              
                
              

              <time title="Created: 2019-05-15 17:33:48" itemprop="dateCreated datePublished" datetime="2019-05-15T17:33:48+08:00">2019-05-15</time>
            

            
              

              
                
                <span class="post-meta-divider">|</span>
                

                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                
                  <span class="post-meta-item-text">Edited on</span>
                
                <time title="Modified: 2019-05-16 13:09:10" itemprop="dateModified" datetime="2019-05-16T13:09:10+08:00">2019-05-16</time>
              
            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/timeManagement/" itemprop="url" rel="index"><span itemprop="name">timeManagement</span></a></span>

                
                
              
            </span>
          

          
            
            
              
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <span class="post-meta-item-icon">
                  <i class="fa fa-comment-o"></i>
                </span>
            
                <span class="post-meta-item-text">Comments: </span>
                <a href="/2019/05/15/Sense-and-Analyze-Time/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count disqus-comment-count" data-disqus-identifier="2019/05/15/Sense-and-Analyze-Time/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>在前文<a href="https://alphaalgorithms.github.io/2019/05/13/time-presentation/">时间变量的顺序与时间表示的格式</a>中分析得到感知时间的5个基本变量及其顺序.<br><code>Weekday  Hour:Minute Month-Day</code>  记作 <code>%w %H:%M %d-%m</code> </p>
<p>对时间流逝的测量分为两个维度:<br>一是仪器在微观层面上的的准确测量,比如钟表或者计算机<br>二是直觉在宏观层面上的粗略感知.</p>
<p>接下来的问题,如何有效的把握住一天的时间,如何对一天24小时有良好的感知.</p>
<h2 id="宏观层面粗颗粒度的时间感知"><a href="#宏观层面粗颗粒度的时间感知" class="headerlink" title="宏观层面粗颗粒度的时间感知"></a>宏观层面粗颗粒度的时间感知</h2><p>一天有24小时，大脑的直觉系统（系统一）不能直接处理24这个复杂的数字，需要调动“系统二”理性的助攻．<br>“系统一”能处理3以内的数字,10以内的数字,比如列清单最好3项,最多七项,更多则聊胜于无.</p>
<p>因此应该分割24小时成10内的模块.</p>
<p>选项一: 二分,白天和黑夜<br>选项二: 四分, 象限图 (比如AM, PM, 黑夜, 凌晨)<br>选项三: 八分</p>
<p>二分与四分的颗粒度过大,八分是不错的选项, 以3个小时为一个模块,称为Phrase阶段.</p>
<p>参考维基百科的划分<a href="https://zh.wikipedia.org/wiki/%E8%96%84%E6%9A%AE" target="_blank" rel="noopener">一日之时细分</a></p>
<table>
<thead>
<tr>
<th>No</th>
<th>时间段</th>
<th>维基命名</th>
<th>修正命名</th>
<th>理由</th>
</tr>
</thead>
<tbody>
<tr>
<td>１</td>
<td>0时~3时</td>
<td>凌晨</td>
<td>深夜(deep night or good night)</td>
<td>后面详叙</td>
</tr>
<tr>
<td>２</td>
<td>3时~6时</td>
<td>拂晓</td>
<td>拂晓(或者破晓, dawn)</td>
<td></td>
</tr>
<tr>
<td>３</td>
<td>6时~9时</td>
<td>早晨</td>
<td>晨曦(or 晨曦,清晨 Morning)</td>
<td>将晨字放到前面</td>
</tr>
<tr>
<td>４</td>
<td>9时~12时</td>
<td>午前</td>
<td>午前(forenoon)</td>
<td></td>
</tr>
<tr>
<td>５</td>
<td>12时~15时</td>
<td>午后</td>
<td>午后(afternoon postnoon)</td>
<td>没有更好的英语词汇</td>
</tr>
<tr>
<td>６</td>
<td>15时~18时</td>
<td>傍晚</td>
<td>傍晚(evening, approach)</td>
<td>也没有更好的英语词汇</td>
</tr>
<tr>
<td>７</td>
<td>18时~21时</td>
<td>薄暮</td>
<td>薄暮(Dusk)</td>
<td></td>
</tr>
<tr>
<td>８</td>
<td>21时~24时</td>
<td>深夜</td>
<td>夜晚(Night)</td>
<td>$</td>
</tr>
</tbody>
</table>
<p>将”凌晨”修改为”深夜”的理由是, 看到”晨”这个字眼,将联想到’一天之计在于晨’,潜意识自动被调动起来,不利于晚间的休息和养成良好的作息习惯，取名深夜或者晚安.<br>时间段的命名,中文的表述更为精确,因此后续采用中文命名.</p>
<h2 id="微观层面细颗粒度的时间感知"><a href="#微观层面细颗粒度的时间感知" class="headerlink" title="微观层面细颗粒度的时间感知"></a>微观层面细颗粒度的时间感知</h2><p>对时间的精确测量很简单，低头看一眼手表便可．难点在于如何引导直觉或者大脑的“系统一”感知到精确的时间．</p>
<p>具体的例子，如何认识“早上 6:30”这个时刻．</p>
<p>首先看Hour(6点), 盯着看半天,学着格物致知,并不能读到什么信息能在宏观层面上上辅助直觉的理解.<br>用点数学，可以借助＇分数＇辅助直觉．将6点读成<code>6/24</code>, 含义是一天的24小时中的6个小时已经流逝而去；<br>如此便将微观的时刻与宏观的一天,以进度条的方式关联起来.对大脑提供的直接信息是, 从一天这个整体概念中感知具体的时刻.</p>
<p>再看Minute(30分), 同理可以读成<code>30/60</code>, 将minute与hour关联起来.<br>以60分钟为底数,可以理解为时间感知的最小单位是10分钟,而选择60又比选择6好一点儿.</p>
<p>整体来看<code>06:30</code>这个时刻 <code>06/24: 30/60</code></p>
<h3 id="选择起始时刻"><a href="#选择起始时刻" class="headerlink" title="选择起始时刻"></a>选择起始时刻</h3><p>如上所述,早上6点,可以表示为6/24,单靠直觉便能感知到具体的时刻在一整天这个进度中的位置。</p>
<p>观察6/24,会发现一个问题,如果早晨6点起床, 那么在睁开眼醒来的一瞬间,这一天的24小中的6个小时就没了， 一天的的1/4就没了。这太让人沮丧, 真没有心情做事.<br>如果醒来却拥有完整无缺的24小时该有多么美妙, 那样会更加积极地投入到一天之中.</p>
<p>解决方案是选择早上6:00作为一天起始点. 该方案的优点，除了可以完整的获得24小时之外,还能奖励早起和辅助养成良好的作息习惯.</p>
<p>比如5点起床,意味着这一天多出了一个小时,仿佛是从时间之神Chrones手中偷得了一个小时，赢在起跑线上， 构筑起来很强的心理优势.</p>
<p>另外一个意外之喜则是可以鼓励早睡.</p>
<p>选择新的起始时刻后,重新审视一天的八分图.</p>
<table>
<thead>
<tr>
<th>No</th>
<th>时间段</th>
<th>维基命名</th>
<th>修正命名</th>
<th>理由</th>
</tr>
</thead>
<tbody>
<tr>
<td>7</td>
<td>0时~3时</td>
<td>凌晨</td>
<td>深夜(deep night or good night)</td>
<td>后面详叙</td>
</tr>
<tr>
<td>8</td>
<td>3时~6时</td>
<td>拂晓</td>
<td>拂晓(或者破晓, dawn)</td>
<td></td>
</tr>
<tr>
<td>1</td>
<td>6时~9时</td>
<td>早晨</td>
<td>晨曦(or 晨曦,清晨 Morning)</td>
<td>将晨字放到前面</td>
</tr>
<tr>
<td>2</td>
<td>9时~12时</td>
<td>午前</td>
<td>午前(forenoon)</td>
<td></td>
</tr>
<tr>
<td>3</td>
<td>12时~15时</td>
<td>午后</td>
<td>午后(afternoon postnoon)</td>
<td>没有更好的英语词汇</td>
</tr>
<tr>
<td>4</td>
<td>15时~18时</td>
<td>傍晚</td>
<td>傍晚(evening, approach)</td>
<td>也没有更好的英语词汇</td>
</tr>
<tr>
<td>5</td>
<td>18时~21时</td>
<td>薄暮</td>
<td>薄暮(Dusk)</td>
<td></td>
</tr>
<tr>
<td>6</td>
<td>21时~24时</td>
<td>深夜</td>
<td>夜晚(Night)</td>
<td>$</td>
</tr>
</tbody>
</table>
<p>如上图,晚上12点并非一天的结束, 因此熬夜偷不到任何时间,也不会获得比别人多出来更多的时间的虚假心理满足感.相反,熬夜是障碍,导致不能早起,导致不能从chrones手中偷得额外时间.</p>
<p>小结：选择6点作为起始时刻 </p>
<p>1)建立心理优势账户<br>2)从理性和感性两个方面否定熬夜<br>3)养成早起的好习惯。</p>
<p>将6:00理解成 00:00.</p>
<h3 id="两个重要时间节点"><a href="#两个重要时间节点" class="headerlink" title="两个重要时间节点"></a>两个重要时间节点</h3><p>以早晨６点作为时间感知的０点，有两个重要的时间节点里程碑：<br>一是中午12点，这是AM与 PM的划分点，是白昼的一半<br>二是下午６点，这是一整天的一半．</p>
<p>可以通过这两个时间节点下的进度和已完工作，粗略估算和预测．而且很重要的一点，假如在下午６点预估到不能按期完成任务，可以选择的方案是早起赶工而非熬夜赶工．(晚上12点非一天的结束，拂晓6点才是昨日之终和今日之始)</p>
<h3 id="12小时制还是24小时制"><a href="#12小时制还是24小时制" class="headerlink" title="12小时制还是24小时制"></a>12小时制还是24小时制</h3><p>首先来看12小时制，将一天分为白昼和黑夜两个部分，这一点很棒负，符合人的自然直觉。接下来分别针对白昼和黑夜进行计时。<br>白昼是从早上６点到晚上６点，黑夜是从晚上６点到早上６点。早上６点可以表示为　(6-6)/12, 白天的0/12.<br>这样划分的结果是以地平线作为昼夜分割线，与AM,PM将中午12点作为一天的分割线的标准相冲突。不仅需要做6-6的转换，还需要做AM, PM转换。</p>
<p>其次24小时制, 24小时保证了一天的连贯性，不论是5/24还是15/24，都在同一个尺度下比较。</p>
<p>综上，暂时选择24小时制。</p>
<h2 id="认识具体时间的算法"><a href="#认识具体时间的算法" class="headerlink" title="认识具体时间的算法"></a>认识具体时间的算法</h2><p>在宏观层面的八分图与微观层面的分数表示的基础上，如何解析一个具体的时间呢？<br>比如一个比较古怪的14:39这个时间如何理解？</p>
<p>第一步， 先看Hour(14), 从粗略上感知， 14点是午后，这是从电脑或者手表等仪器上的数字读取的。 但是，午后这个时间概念，不需要借助仪器，可以从身体的疲惫状态，从窗外光线的强度，甚至从个人的生物钟便可以感知到（大体会有感觉一天过去了多久）。单单依靠感觉或许不能准确估量到小时这个单位，但是估摸到是午后，傍晚，夕阳西下还是旭日东升？ 是黎明还是黄昏？ 在3个小时的误差允许的范围内，应该是没有问题的。或许，长时间的训练还能提高个体的感受力，做仪器和工具的主人而非奴隶；</p>
<p>第二步， 所以第一步工作并非读14这个数字，而是调用直觉，调用人的动物本能去感受一下当前的时间，大概估算出是八分图的哪一个阶段。比如吃完午饭似乎有一段时间了，但是工作起来没精神，大概这个就是午后综合征。拿到“午后”这个概念之后，继续分析“午后”是什么意思？潜意识里如何理解“午后”呢。午后是白昼的一半时间已经过去了，现在处在白昼3/4的位置上，用八分图表示则是3/8的位置。模糊概念上“午后”等于准确测量的“3/8”。但是只需要停留在“午后”这个概念即可，不必显性的将3/8读出来，那是潜意识的工作</p>
<p>第三步，通过前两部得到“午后”这个时间段，并且通过调用感受力去判断出这个时间段的过程，潜意识里或许有了如3/8这样的数字。午后就是3/8，但午后这个文字描述更加亲切，不需要消耗脑力。<br>现在开始看表，一看是14:39， 14这个数字很亲切，因为与直觉感受到“午后”是相一致的。调用大脑的系统二读14点这个数字是<code>14/24</code>， 这个进度挺可怕，刚吃完午饭，一天的24小时里的14个小时已经没了， 着实使人沮丧。好消息是要从14里减去6， <code>（14-6）/ 24 = 8/24</code>, 减法算的太开心了。如此与模糊概念上的“午后”便对应起来。 在粗颗粒度下，当前处在大约一天中3/8的位置，而理性的细颗粒度下则是在<code>8/24</code>这个准确的位置上(一天还只过去了三分之一，还拥有三分之二的时间筹码在手上）e。</p>
<p>第四步， 读minutes， 39表示为39/60, 一个小时是最宝贵的资源，所有的工作都在一个一个的一个小时内展开。定性分析一个小时，可以将钟表盘想象成一个没有数字刻度的饼图， 粗略估算下饼图的切口在哪里， 39/60就是一半多一点点。定量分析则以10分钟为一个单位， 将饼图分为六个部分。</p>
<p>第五步， 实际的工作是在一个小时的范围内，读到39/60, 定性分析下，原计划一个小时内完成的工作能否如期交付， 定量分析下按照当前的进度大概需要几个小时？</p>
<p>总结， 前两部（2/5）从感觉上定性分析当前所处的时间段， 第三步和第四步调用理性定量读取时间， 第五步，有效利用最有价值的资源每一个一个小时。</p>
<h3 id="估算时间段"><a href="#估算时间段" class="headerlink" title="估算时间段"></a>估算时间段</h3><p>分数有定性和定量， 串通理性与感性，宏观与微观的神奇作用。<br>具体的例子，比如有好看的综艺节目大概一个小时，用分数定性看一眼<code>1/24</code>，一天的二十四之一； 刷个手机半个小时 30/60，一个小时的一半没了，而一个小时是一天的二十四分之一。</p>
<p>分数的方法可以帮助explicitly珍惜时间。</p>
<h2 id="总结"><a href="#总结" class="headerlink" title="总结"></a>总结</h2><p>粗颗粒度下应用八分图辅助直觉粗略的感知一天内的时间，应用饼图粗略感知一个小时内的时间；<br>细颗粒度下应用分数15/24, 41/60,定性与定量相结合分析。<br>挥霍时间前，先用24这个数字定性审视感受一下。</p>
<p>17:31这个时间，<br>1) 傍晚，傍晚这个词太好了，傍-&gt;依傍，approach, 向晚。<br>2) 粗略感受下在八分图中的位置, 17点是个特殊的数字，距离之前定义的两个重要的时间节点中的18:00很近。<br>3) (17-6)/24 = 11/24, 马上就12/24,一天的一半即将结束。<br>4) 31/60 同时也从饼图上感受下这一个小时的流逝<br>5) 根据31/60定性和定量分析当前的工作。</p>
<p>综上，再来看具体的一天, 三个变量最重要，</p>
<p>1) 周几, 周三(3/7 )<br>2) 小时 (小时是一天的进度条)<br>3)分钟 (分钟是小时的进度条)</p>
<h3 id="参考资料"><a href="#参考资料" class="headerlink" title="参考资料"></a>参考资料</h3><ul>
<li><a href="https://zh.wikipedia.org/wiki/%E6%8B%82%E6%99%93" target="_blank" rel="noopener">拂晓 - 维基百科，自由的百科全书</a></li>
<li><a href="https://en.wikipedia.org/wiki/Day" target="_blank" rel="noopener">Day - Wikipedia</a></li>
<li><a href="https://en.wikipedia.org/wiki/Sunrise" target="_blank" rel="noopener">Sunrise - Wikipedia</a></li>
<li><a href="https://www.douban.com/note/474987993/" target="_blank" rel="noopener">Chronodex：时间饼的用法、研习、使用心得及灵感收集</a></li>
<li><a href="https://www.playpcesor.com/2018/05/chronodex.html" target="_blank" rel="noopener">Chronodex 一張圓錶圖完滿每一天，視覺系手帳行事曆上手教學</a></li>
<li>《思考，快与慢》</li>
<li>《金字塔原理》</li>
</ul>

          
        
      
    </div>

    

    
    
    

    

    
      
    
    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://alphaalgorithms.github.io/2019/05/14/install-rime-input-mehtods/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Gabriel">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="DummyHead">
    </span>

    
      <header class="post-header">

        
        
          <h2 class="post-title" itemprop="name headline">
                
                
                <a href="/2019/05/14/install-rime-input-mehtods/" class="post-title-link" itemprop="url">Ubuntu 18.10安装ibus-rime输入法</a>
              
            
          </h2>
        

        <div class="post-meta">
          <span class="post-time">

            
            
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              

              
                
              

              <time title="Created: 2019-05-14 15:31:38" itemprop="dateCreated datePublished" datetime="2019-05-14T15:31:38+08:00">2019-05-14</time>
            

            
              

              
                
                <span class="post-meta-divider">|</span>
                

                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                
                  <span class="post-meta-item-text">Edited on</span>
                
                <time title="Modified: 2019-05-15 09:38:30" itemprop="dateModified" datetime="2019-05-15T09:38:30+08:00">2019-05-15</time>
              
            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/linux-fileManager/" itemprop="url" rel="index"><span itemprop="name">linux - fileManager</span></a></span>

                
                
              
            </span>
          

          
            
            
              
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <span class="post-meta-item-icon">
                  <i class="fa fa-comment-o"></i>
                </span>
            
                <span class="post-meta-item-text">Comments: </span>
                <a href="/2019/05/14/install-rime-input-mehtods/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count disqus-comment-count" data-disqus-identifier="2019/05/14/install-rime-input-mehtods/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>照搬 <a href="https://jingyan.baidu.com/article/4853e1e5b090a31909f7269c.html" target="_blank" rel="noopener">Ubuntu 18.04 安装 ibus-rime 输入法</a></p>
<h2 id="目的"><a href="#目的" class="headerlink" title="目的"></a>目的</h2><p>安装rime输入法的初衷是解决搜狗输入法导致系统经常性崩溃的问题。</p>
<h2 id="工具-原料"><a href="#工具-原料" class="headerlink" title="工具/原料"></a>工具/原料</h2><ul>
<li>Ubuntu 18.10 </li>
<li><a href="https://rime.im/" target="_blank" rel="noopener">RIME | 中州韻輸入法引擎</a></li>
<li><a href="https://github.com/rime/librime" target="_blank" rel="noopener">rime/librime: Rime Input Method Engine, the core library</a></li>
</ul>
<h2 id="方法与步骤"><a href="#方法与步骤" class="headerlink" title="方法与步骤"></a>方法与步骤</h2><h3 id="一、安装前的准备"><a href="#一、安装前的准备" class="headerlink" title="一、安装前的准备"></a>一、安装前的准备</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">sudo apt install ibus-rime（安装rime输入法）</span><br><span class="line">sudo apt install librime-data-pinyin-simp （安装简体拼音库）</span><br></pre></td></tr></table></figure>
<h3 id="二、设置自定义文件"><a href="#二、设置自定义文件" class="headerlink" title="二、设置自定义文件"></a>二、设置自定义文件</h3><p>在 <code>~/.config/ibus/rime/</code> 下新建一个文件  <code>default.custom.yaml</code> （覆盖默认设置）</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">$ ls -lSh  ~/.config/ibus/rime | sed <span class="string">"s/<span class="variable">$USER</span>/me/g"</span></span><br><span class="line">total 32K</span><br><span class="line">drwxrwxr-x 2 me me 4.0K May 14 12:15 build</span><br><span class="line">drwxr-xr-x 2 me me 4.0K May 14 12:45 luna_pinyin.userdb</span><br><span class="line">drwxr-xr-x 2 me me 4.0K May 14 11:14 pinyin_simp.userdb</span><br><span class="line">drwxrwxr-x 3 me me 4.0K May 14 08:59 sync</span><br><span class="line">-rw-rw-r-- 1 me me  202 May 14 08:58 installation.yaml</span><br><span class="line">-rw-r--r-- 1 me me  120 May 14 12:12 default.custom.yaml</span><br><span class="line">-rw-r--r-- 1 me me   74 May 14 11:36 <span class="comment">#default.custom.yaml#</span></span><br><span class="line">-rw-rw-r-- 1 me me   34 May 14 12:15 user.yaml</span><br><span class="line">-rw-r--r-- 1 me me    0 May 14 09:33 default.custom.yaml~</span><br></pre></td></tr></table></figure>
<p>自定义文件的内容</p>
<figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">$</span> <span class="string">cat</span> <span class="string">~/.config/ibus/rime/default.custom.yaml</span></span><br><span class="line"><span class="attr">patch:</span></span><br><span class="line">  <span class="string">style/horizontal:</span> <span class="literal">true</span>  <span class="comment">#无效的设置</span></span><br><span class="line"><span class="attr">  schema_list:</span></span><br><span class="line"><span class="attr">    - schema:</span> <span class="string">luna_pinyin_simp</span></span><br><span class="line"><span class="attr">  style:</span></span><br><span class="line"><span class="attr">    - horizontal:</span> <span class="literal">true</span>  <span class="comment">#无效的设置</span></span><br></pre></td></tr></table></figure>
<h3 id="三、重启系统，-使安装生效"><a href="#三、重启系统，-使安装生效" class="headerlink" title="三、重启系统， 使安装生效"></a>三、重启系统， 使安装生效</h3><h3 id="四、调出Chinese-Rime"><a href="#四、调出Chinese-Rime" class="headerlink" title="四、调出Chinese(Rime)"></a>四、调出Chinese(Rime)</h3><p>打开“setting（设置）”, “Region&amp;Language（区域和语言）”，点+号, 添加输入法 Chinese(Rime) 。如果不用其它输入法，可以删除，其实也真不用其它输入法了.</p>
<h3 id="五、部署"><a href="#五、部署" class="headerlink" title="五、部署"></a>五、部署</h3><p>系统右上角选择输入法， 下拉部署</p>
<h2 id="注意事项"><a href="#注意事项" class="headerlink" title="注意事项"></a>注意事项</h2><ul>
<li>不必要做过多的设置，够用就行。</li>
</ul>
<h2 id="下一步的计划"><a href="#下一步的计划" class="headerlink" title="下一步的计划"></a>下一步的计划</h2><p>大范围的应用的autokey</p>
<h2 id="参考资料"><a href="#参考资料" class="headerlink" title="参考资料"></a>参考资料</h2><ul>
<li><a href="https://www.jianshu.com/p/cffc0ea094a7?utm_campaign=maleskine&amp;utm_content=note&amp;utm_medium=seo_notes&amp;utm_source=recommendation" target="_blank" rel="noopener">Rime输入法—鼠须管(Squirrel)词库添加及配置 - 简书</a></li>
<li><a href="https://www.jianshu.com/p/8f988f19f41d" target="_blank" rel="noopener">ubuntu16.04 安装 rime输入法 - 简书</a></li>
<li><a href="https://github.com/rime/home/wiki/RimeWithIBus" target="_blank" rel="noopener">RimeWithIBus · rime/home Wiki</a></li>
<li><a href="https://jingyan.baidu.com/article/4853e1e5b090a31909f7269c.html" target="_blank" rel="noopener">Ubuntu 18.04 安装 ibus-rime 输入法</a></li>
<li><a href="https://withdewhua.space/2019/01/30/rime-configuration/" target="_blank" rel="noopener">Rime 输入法配置记录</a></li>
<li><a href="http://www.ifanr.com/156409" target="_blank" rel="noopener">鼠须管，“神级” 输入法 | 爱范儿</a></li>
<li><a href="https://havee.me/mac/2015-05/rime-configuration-summary.html" target="_blank" rel="noopener">Rime 输入法配置小结 - Havee’s Space</a></li>
<li><a href="https://scomper.me/gtd/-shu-xu-guan-de-diao-jiao-bi-ji" target="_blank" rel="noopener">「鼠须管」的调教笔记</a></li>
<li><a href="https://askubuntu.com/questions/193411/hot-key-to-type-todays-date" target="_blank" rel="noopener">Hot key to type today’s date? - Ask Ubuntu</a></li>
<li><a href="https://github.com/autokey/autokey" target="_blank" rel="noopener">autokey/autokey: AutoKey, a desktop automation utility for Linux and X11</a></li>
</ul>

          
        
      
    </div>

    

    
    
    

    

    
      
    
    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
  </section>

  
  <nav class="pagination">
    <span class="page-number current">1</span><a class="page-number" href="/page/2/">2</a><a class="extend next" rel="next" href="/page/2/"><i class="fa fa-angle-right" aria-label="Next page"></i></a>
  </nav>



          </div>
          

        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    <div class="sidebar-inner">

      

      

      <div class="site-overview-wrap sidebar-panel sidebar-panel-active">
        <div class="site-overview">
          <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
            
              <p class="site-author-name" itemprop="name">Gabriel</p>
              <div class="site-description motion-element" itemprop="description"></div>
          </div>

          
            <nav class="site-state motion-element">
              
                <div class="site-state-item site-state-posts">
                
                  <a href="/archives/">
                
                    <span class="site-state-item-count">14</span>
                    <span class="site-state-item-name">posts</span>
                  </a>
                </div>
              

              
                
                
                <div class="site-state-item site-state-categories">
                  
                    
                      <a href="/categories/">
                    
                  
                    
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                    <span class="site-state-item-count">8</span>
                    <span class="site-state-item-name">categories</span>
                  </a>
                </div>
              

              
                
                
                <div class="site-state-item site-state-tags">
                  
                    
                      <a href="/tags/">
                    
                  
                    
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                    <span class="site-state-item-count">19</span>
                    <span class="site-state-item-name">tags</span>
                  </a>
                </div>
              
            </nav>
          

          

          

          
            <div class="links-of-author motion-element">
              
                <span class="links-of-author-item">
                  
                  
                    
                  
                  
                    
                  
                  <a href="https://github.com/AlphaAlgorithms" title="GitHub &rarr; https://github.com/AlphaAlgorithms" rel="noopener" target="_blank"><i class="fa fa-fw fa-github"></i>GitHub</a>
                </span>
              
            </div>
          

          

          
          

          
            
          
          

        </div>
      </div>

      

      

    </div>
  </aside>
  


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright">&copy; <span itemprop="copyrightYear">2019</span>
  <span class="with-love" id="animate">
    <i class="fa fa-user"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Gabriel</span>

  

  
</div>


  <div class="powered-by">Powered by <a href="https://hexo.io" class="theme-link" rel="noopener" target="_blank">Hexo</a> v3.8.0</div>



  <span class="post-meta-divider">|</span>



  <div class="theme-info">Theme – <a href="https://theme-next.org" class="theme-link" rel="noopener" target="_blank">NexT.Mist</a> v7.1.1</div>




        








        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
      </div>
    

    

    

    
  </div>

  

<script>
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>


























  
  <script src="/lib/jquery/index.js?v=2.1.3"></script>

  
  <script src="/lib/velocity/velocity.min.js?v=1.2.1"></script>

  
  <script src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>


  


  <script src="/js/utils.js?v=7.1.1"></script>

  <script src="/js/motion.js?v=7.1.1"></script>



  
  


  <script src="/js/schemes/muse.js?v=7.1.1"></script>




  

  


  <script src="/js/next-boot.js?v=7.1.1"></script>


  

  

  

  
  
  <script id="dsq-count-scr" src="https://alphaalgorithms.disqus.com/count.js" async></script>







  




  

  

  

  

  

  

  

  

  

  

  

  

  

  

</body>
</html>
